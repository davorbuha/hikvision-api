!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=69)}([function(e,t){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},function(e,t,n){"use strict";var r=n(56),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:u,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){(function(){var t,r,i,o,s,a,u,c,l,p,h,d,f,m,y,_,g,v={}.hasOwnProperty;g=n(3),_=g.isObject,y=g.isFunction,m=g.isEmpty,f=g.getValue,c=null,i=null,o=null,s=null,a=null,h=null,d=null,p=null,u=null,r=null,l=null,t=null,e.exports=function(){function e(e){this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=n(22),i=n(24),o=n(25),s=n(26),a=n(27),h=n(32),d=n(33),p=n(34),u=n(52),r=n(0),l=n(98),n(23),t=n(99))}return Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e-1]||null}}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){var e;return e=this.parent.children.indexOf(this),this.parent.children[e+1]||null}}),Object.defineProperty(e.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(e.prototype,"textContent",{get:function(){var e,t,n,i,o;if(this.nodeType===r.Element||this.nodeType===r.DocumentFragment){for(o="",t=0,n=(i=this.children).length;t<n;t++)(e=i[t]).textContent&&(o+=e.textContent);return o}return null},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),e.prototype.setParent=function(e){var t,n,r,i,o;for(this.parent=e,e&&(this.options=e.options,this.stringify=e.stringify),o=[],n=0,r=(i=this.children).length;n<r;n++)t=i[n],o.push(t.setParent(this));return o},e.prototype.element=function(e,t,n){var r,i,o,s,a,u,c,l,p,h,d;if(u=null,null===t&&null==n&&(t=(p=[{},null])[0],n=p[1]),null==t&&(t={}),t=f(t),_(t)||(n=(h=[t,n])[0],t=h[1]),null!=e&&(e=f(e)),Array.isArray(e))for(o=0,c=e.length;o<c;o++)i=e[o],u=this.element(i);else if(y(e))u=this.element(e.apply());else if(_(e)){for(a in e)if(v.call(e,a))if(d=e[a],y(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))u=this.attribute(a.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&m(d))u=this.dummy();else if(_(d)&&m(d))u=this.element(a);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(s=0,l=d.length;s<l;s++)i=d[s],(r={})[a]=i,u=this.element(r);else _(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?u=this.element(d):(u=this.element(a)).element(d):u=this.element(a,d);else u=this.dummy()}else u=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),n):this.node(e,t,n):this.dummy();if(null==u)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return u},e.prototype.insertBefore=function(e,t,n){var r,i,o,s,a;if(null!=e?e.type:void 0)return s=t,(o=e).setParent(this),s?(i=children.indexOf(s),a=children.splice(i),children.push(o),Array.prototype.push.apply(children,a)):children.push(o),o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),a=this.parent.children.splice(i),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,a),r},e.prototype.insertAfter=function(e,t,n){var r,i,o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return i=this.parent.children.indexOf(this),o=this.parent.children.splice(i+1),r=this.parent.element(e,t,n),Array.prototype.push.apply(this.parent.children,o),r},e.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},e.prototype.node=function(e,t,n){var r,i;return null!=e&&(e=f(e)),t||(t={}),t=f(t),_(t)||(n=(i=[t,n])[0],t=i[1]),r=new c(this,e,t),null!=n&&r.text(n),this.children.push(r),r},e.prototype.text=function(e){var t;return _(e)&&this.element(e),t=new d(this,e),this.children.push(t),this},e.prototype.cdata=function(e){var t;return t=new i(this,e),this.children.push(t),this},e.prototype.comment=function(e){var t;return t=new o(this,e),this.children.push(t),this},e.prototype.commentBefore=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.commentAfter=function(e){var t,n;return t=this.parent.children.indexOf(this),n=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,n),this},e.prototype.raw=function(e){var t;return t=new h(this,e),this.children.push(t),this},e.prototype.dummy=function(){return new u(this)},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(null!=e&&(e=f(e)),null!=t&&(t=f(t)),Array.isArray(e))for(o=0,s=e.length;o<s;o++)n=e[o],this.instruction(n);else if(_(e))for(n in e)v.call(e,n)&&(r=e[n],this.instruction(n,r));else y(t)&&(t=t.apply()),i=new p(this,e,t),this.children.push(i);return this},e.prototype.instructionBefore=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.instructionAfter=function(e,t){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,r),this},e.prototype.declaration=function(e,t,n){var i,o;return i=this.document(),o=new s(i,e,t,n),0===i.children.length?i.children.unshift(o):i.children[0].type===r.Declaration?i.children[0]=o:i.children.unshift(o),i.root()||i},e.prototype.dtd=function(e,t){var n,i,o,s,u,c,l,p,h;for(n=this.document(),i=new a(n,e,t),o=s=0,c=(p=n.children).length;s<c;o=++s)if(p[o].type===r.DocType)return n.children[o]=i,i;for(o=u=0,l=(h=n.children).length;u<l;o=++u)if(h[o].isRoot)return n.children.splice(o,0,i),i;return n.children.push(i),i},e.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},e.prototype.root=function(){var e;for(e=this;e;){if(e.type===r.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},e.prototype.document=function(){var e;for(e=this;e;){if(e.type===r.Document)return e;e=e.parent}},e.prototype.end=function(e){return this.document().end(e)},e.prototype.prev=function(){var e;if((e=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},e.prototype.next=function(){var e;if(-1===(e=this.parent.children.indexOf(this))||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},e.prototype.importDocument=function(e){var t;return(t=e.root().clone()).parent=this,t.isRoot=!1,this.children.push(t),this},e.prototype.debugInfo=function(e){var t,n;return null!=(e=e||this.name)||(null!=(t=this.parent)?t.name:void 0)?null==e?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},e.prototype.ele=function(e,t,n){return this.element(e,t,n)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.doc=function(){return this.document()},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.u=function(){return this.up()},e.prototype.importXMLBuilder=function(e){return this.importDocument(e)},e.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.hasChildNodes=function(){return 0!==this.children.length},e.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isSupported=function(e,t){return!0},e.prototype.hasAttributes=function(){return 0!==this.attribs.length},e.prototype.compareDocumentPosition=function(e){var n;return this,this===e?0:this.document()!==e.document()?(n=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?n|=t.Preceding:n|=t.Following,n):this.isAncestor(e)?t.Contains|t.Preceding:this.isDescendant(e)?t.Contains|t.Following:this.isPreceding(e)?t.Preceding:t.Following},e.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.isEqualNode=function(e){var t,n,r;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;t=0<=r?++n:--n)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.setUserData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},e.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},e.prototype.isDescendant=function(e){var t,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++){if(e===(t=i[n]))return!0;if(t.isDescendant(e))return!0}return!1},e.prototype.isAncestor=function(e){return e.isDescendant(this)},e.prototype.isPreceding=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t<n},e.prototype.isFollowing=function(e){var t,n;return t=this.treePosition(e),n=this.treePosition(this),-1!==t&&-1!==n&&t>n},e.prototype.treePosition=function(e){var t,n;return n=0,t=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!t&&r===e)return t=!0})),t?n:-1},e.prototype.foreachTreeNode=function(e,t){var n,r,i,o,s;for(e||(e=this.document()),r=0,i=(o=e.children).length;r<i;r++){if(s=t(n=o[r]))return s;if(s=this.foreachTreeNode(n,t))return s}},e}()}).call(this)},function(e,t){(function(){var t,n,r,i,o,s,a,u=[].slice,c={}.hasOwnProperty;t=function(){var e,t,n,r,i,s;if(s=arguments[0],i=2<=arguments.length?u.call(arguments,1):[],o(Object.assign))Object.assign.apply(null,arguments);else for(e=0,n=i.length;e<n;e++)if(null!=(r=i[e]))for(t in r)c.call(r,t)&&(s[t]=r[t]);return s},o=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},s=function(e){var t;return!!e&&("function"==(t=typeof e)||"object"===t)},r=function(e){return o(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},i=function(e){var t;if(r(e))return!e.length;for(t in e)if(c.call(e,t))return!1;return!0},a=function(e){var t,n;return s(e)&&(n=Object.getPrototypeOf(e))&&(t=n.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},n=function(e){return o(e.valueOf)?e.valueOf():e},e.exports.assign=t,e.exports.isFunction=o,e.exports.isObject=s,e.exports.isArray=r,e.exports.isEmpty=i,e.exports.isPlainObject=a,e.exports.getValue=n}).call(this)},function(e,t,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(80):e.exports=n(82)},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("events")},function(module,__webpack_exports__,__webpack_require__){"use strict";let implementation;function selectImplementation(){return"function"==typeof require?require("worker_threads"):eval("require")("worker_threads")}function getImplementation(){return implementation||(implementation=selectImplementation()),implementation}__webpack_require__.d(__webpack_exports__,"a",(function(){return getImplementation}))},function(e,t){e.exports=require("http")},function(e,t,n){"use strict";const r=n(42),i=n(11),o=n(75),{kStatusCode:s,NOOP:a}=n(5),u=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),l=Symbol("total-length"),p=Symbol("callback"),h=Symbol("buffers"),d=Symbol("error");let f;function m(e){this[h].push(e),this[l]+=e.length}function y(e){this[l]+=e.length,this[c]._maxPayload<1||this[l]<=this[c]._maxPayload?this[h].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d][s]=1009,this.removeListener("data",y),this.reset())}function _(e){this[c]._inflate=null,e[s]=1007,this[p](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[p];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){f.add(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){f.add(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const o=this._isServer?"client":"server";if(!this._inflate){const e=o+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=r.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[l]=0,this._inflate[h]=[],this._inflate.on("error",_),this._inflate.on("data",y)}this._inflate[p]=n,this._inflate.write(e),t&&this._inflate.write(u),this._inflate.flush(()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void n(e);const r=i.concat(this._inflate[h],this._inflate[l]);t&&this.params[o+"_no_context_takeover"]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[h]=[]),n(null,r)})}_compress(e,t,n){const o=this._isServer?"server":"client";if(!this._deflate){const e=o+"_max_window_bits",t="number"!=typeof this.params[e]?r.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=r.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[h]=[],this._deflate.on("error",a),this._deflate.on("data",m)}this._deflate[p]=n,this._deflate.write(e),this._deflate.flush(r.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let e=i.concat(this._deflate[h],this._deflate[l]);t&&(e=e.slice(0,e.length-4)),this._deflate[p]=null,t&&this.params[o+"_no_context_takeover"]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=0,this._deflate[h]=[]),n(null,e)})}}},function(e,t,n){"use strict";const{EMPTY_BUFFER:r}=n(5);function i(e,t){if(0===e.length)return r;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let i=0;for(let t=0;t<e.length;t++){const r=e[t];n.set(r,i),i+=r.length}return i<t?n.slice(0,i):n}function o(e,t,n,r,i){for(let o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function s(e,t){const n=e.length;for(let r=0;r<n;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function u(e){if(u.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),u.readOnly=!1),t}try{const t=n(!function(){var e=new Error("Cannot find module 'bufferutil'");throw e.code="MODULE_NOT_FOUND",e}()),r=t.BufferUtil||t;e.exports={concat:i,mask(e,t,n,i,s){s<48?o(e,t,n,i,s):r.mask(e,t,n,i,s)},toArrayBuffer:a,toBuffer:u,unmask(e,t){e.length<32?s(e,t):r.unmask(e,t)}}}catch(t){e.exports={concat:i,mask:o,toArrayBuffer:a,toBuffer:u,unmask:s}}},function(e,t){e.exports=require("stream")},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(2),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e),this.value=""}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),Object.defineProperty(t.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(t.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(t.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),t.prototype.clone=function(){return Object.create(this)},t.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.replaceData=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},t.prototype.isEqualNode=function(e){return!!t.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},t}(t)}).call(this)},function(e,t){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},,function(e,t){e.exports=require("https")},function(e,t){e.exports=require("crypto")},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBrowser=t.sleep=t.generateUUID=t.formatDate=void 0,t.formatDate=function(e,t){void 0===t&&(t="yyyy-MM-dd hh:mm:ss");var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?""+n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},t.generateUUID=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},t.sleep=function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))},t.isBrowser=function(){return"undefined"!=typeof window}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.XmlHandler=void 0;var s=o(n(92)),a=n(36),u=function(){function e(){}return e.parser=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this._parser.parseStringPromise(e)];case 1:return[2,t.sent()]}}))}))},e.build=function(e){return this._builder.buildObject(e)},e._parser=new s.default.Parser({attrkey:"attr",charkey:"value",explicitArray:!1,attrValueProcessors:[a.parseNumbers,a.parseBooleans],valueProcessors:[a.parseNumbers,a.parseBooleans]}),e._builder=new s.default.Builder({headless:!0,renderOpts:{pretty:!1}}),e}();t.XmlHandler=u},function(e,t){(function(){t.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,u,c,l={}.hasOwnProperty;c=n(3),u=c.isObject,a=c.isFunction,s=c.getValue,o=n(2),t=n(0),r=n(51),i=n(23),e.exports=function(e){function n(e,r,i){var o,s,a,u;if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(r),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=i&&this.attribute(i),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=0,a=(u=e.children).length;s<a;s++)if((o=u[s]).type===t.DocType){o.name=this.name;break}}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(n.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(n.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new i(this.attribs)),this.attributeMap}}),n.prototype.clone=function(){var e,t,n,r;for(t in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)l.call(r,t)&&(e=r[t],n.attribs[t]=e.clone());return n.children=[],this.children.forEach((function(e){var t;return(t=e.clone()).parent=n,n.children.push(t)})),n},n.prototype.attribute=function(e,t){var n,i;if(null!=e&&(e=s(e)),u(e))for(n in e)l.call(e,n)&&(i=e[n],this.attribute(n,i));else a(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new r(this,e,""):null!=t&&(this.attribs[e]=new r(this,e,t));return this},n.prototype.removeAttribute=function(e){var t,n,r;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=s(e),Array.isArray(e))for(n=0,r=e.length;n<r;n++)t=e[n],delete this.attribs[t];else delete this.attribs[e];return this},n.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},n.prototype.att=function(e,t){return this.attribute(e,t)},n.prototype.a=function(e,t){return this.attribute(e,t)},n.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},n.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},n.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},n.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},n.prototype.setIdAttributeNS=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(e){var t,r,i;if(!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=r=0,i=this.attribs.length-1;0<=i?r<=i:r>=i;t=0<=i?++r:--r)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},n}(o)}).call(this)},function(e,t){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t;return t=this.nodes[e.nodeName],this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t;return t=this.nodes[e],delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(0),r=n(13),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(0),r=n(13),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(3).isObject,r=n(2),t=n(0),e.exports=function(e){function n(e,r,o,s){var a;n.__super__.constructor.call(this,e),i(r)&&(r=(a=r).version,o=a.encoding,s=a.standalone),r||(r="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(r),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,u,c,l={}.hasOwnProperty;c=n(3).isObject,u=n(2),t=n(0),r=n(28),o=n(29),i=n(30),s=n(31),a=n(23),e.exports=function(e){function n(e,r,i){var o,s,a,u,l,p;if(n.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(s=0,a=(u=e.children).length;s<a;s++)if((o=u[s]).type===t.Element){this.name=o.name;break}this.documentObject=e,c(r)&&(r=(l=r).pubID,i=l.sysID),null==i&&(i=(p=[r,i])[0],r=p[1]),null!=r&&(this.pubID=this.stringify.dtdPubID(r)),null!=i&&(this.sysID=this.stringify.dtdSysID(i))}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"entities",{get:function(){var e,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(e=o[n]).type!==t.EntityDeclaration||e.pe||(i[e.name]=e);return new a(i)}}),Object.defineProperty(n.prototype,"notations",{get:function(){var e,n,r,i,o;for(i={},n=0,r=(o=this.children).length;n<r;n++)(e=o[n]).type===t.NotationDeclaration&&(i[e.name]=e);return new a(i)}}),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.element=function(e,t){var n;return n=new i(this,e,t),this.children.push(n),this},n.prototype.attList=function(e,t,n,i,o){var s;return s=new r(this,e,t,n,i,o),this.children.push(s),this},n.prototype.entity=function(e,t){var n;return n=new o(this,!1,e,t),this.children.push(n),this},n.prototype.pEntity=function(e,t){var n;return n=new o(this,!0,e,t),this.children.push(n),this},n.prototype.notation=function(e,t){var n;return n=new s(this,e,t),this.children.push(n),this},n.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},n.prototype.ele=function(e,t){return this.element(e,t)},n.prototype.att=function(e,t,n,r,i){return this.attList(e,t,n,r,i)},n.prototype.ent=function(e,t){return this.entity(e,t)},n.prototype.pent=function(e,t){return this.pEntity(e,t)},n.prototype.not=function(e,t){return this.notation(e,t)},n.prototype.up=function(){return this.root()||this.documentObject},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&(e.name===this.name&&(e.publicId===this.publicId&&e.systemId===this.systemId))},n}(u)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(2),t=n(0),e.exports=function(e){function n(e,r,i,o,s,a){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==i)throw new Error("Missing DTD attribute name. "+this.debugInfo(r));if(!o)throw new Error("Missing DTD attribute type. "+this.debugInfo(r));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(r));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r));this.elementName=this.stringify.name(r),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(i),this.attributeType=this.stringify.dtdAttType(o),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(3).isObject,r=n(2),t=n(0),e.exports=function(e){function n(e,r,o,s){if(n.__super__.constructor.call(this,e),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!r,this.name=this.stringify.name(o),this.type=t.EntityDeclaration,i(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(2),t=n(0),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD element name. "+this.debugInfo());i||(i="(#PCDATA)"),Array.isArray(i)&&(i="("+i.join(",")+")"),this.name=this.stringify.name(r),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(i)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(2),t=n(0),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing DTD notation name. "+this.debugInfo(r));if(!i.pubID&&!i.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r));this.name=this.stringify.name(r),this.type=t.NotationDeclaration,null!=i.pubID&&(this.pubID=this.stringify.dtdPubID(i.pubID)),null!=i.sysID&&(this.sysID=this.stringify.dtdSysID(i.sysID))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(0),r=n(2),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(0),r=n(13),e.exports=function(e){function n(e,r){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(r)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){var e,t,n;for(n="",t=this.previousSibling;t;)n=t.data+n,t=t.previousSibling;for(n+=this.data,e=this.nextSibling;e;)n+=e.data,e=e.nextSibling;return n}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(r)}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;t=n(0),r=n(13),e.exports=function(e){function n(e,r,i){if(n.__super__.constructor.call(this,e),null==r)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(r),this.name=this.target,i&&(this.value=this.stringify.insValue(i))}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},n}(r)}).call(this)},function(e,t,n){(function(){var t,r={}.hasOwnProperty;t=n(54),e.exports=function(e){function t(e){t.__super__.constructor.call(this,e)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(t,e),t.prototype.document=function(e,t){var n,r,i,o,s;for(t=this.filterOptions(t),o="",r=0,i=(s=e.children).length;r<i;r++)n=s[r],o+=this.writeChildNode(n,t,0);return t.pretty&&o.slice(-t.newline.length)===t.newline&&(o=o.slice(0,-t.newline.length)),o},t}(t)}).call(this)},function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/),t.normalize=function(e){return e.toLowerCase()},t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},t.stripPrefix=function(t){return t.replace(e,"")},t.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},t.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},function(e,t,n){"use strict";var r=n(1);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";var r=n(60);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LTR=t.RTL=void 0;var r=function(){function e(){}return e.sessionParams=function(e){var t=e.SessionLoginCap;return{sessionId:t.sessionID,challenge:t.challenge,iterations:t.iterations,isIrreversible:t.isIrreversible,salt:t.salt||""}},e.deviceInfo=function(e){var t=e.DeviceInfo;return{name:t.deviceName,id:t.deviceID,model:t.model,serialNo:t.serialNumber,mac:t.macAddress,firmwareVersion:t.firmwareVersion,firmwareReleaseDate:t.firmwareVersion,encoderVersion:t.encoderVersion,encoderReleaseDate:t.encoderReleasedDate,deviceType:t.deviceType,code:t.telecontrolID}},e.channel=function(e){return{id:e.id,name:e.name,addressType:e.sourceInputPortDescriptor.addressingFormatType,address:e.sourceInputPortDescriptor.ipAddress,protocol:e.sourceInputPortDescriptor.proxyProtocol,managePort:e.sourceInputPortDescriptor.managePortNo,inputPort:e.sourceInputPortDescriptor.srcInputPort,userName:e.sourceInputPortDescriptor.userName,streamType:e.sourceInputPortDescriptor.streamType,deviceId:e.sourceInputPortDescriptor.deviceID,enableAnr:e.enableAnr,enableTiming:e.enableTiming}},e.channelStatus=function(e){return{id:e.id,ip:e.sourceInputPortDescriptor.ipAddress,online:e.online}},e.fetchChannels=function(e){var t=this,n=e.InputProxyChannelList.InputProxyChannel;return n?Array.isArray(n)?n.map((function(e){return t.channel(e)})):[this.channel(n)]:[]},e.getChannelStatus=function(e){var t=this,n=e.InputProxyChannelStatusList.InputProxyChannelStatus;return n?Array.isArray(n)?n.map((function(e){return t.channelStatus(e)})):[this.channelStatus(n)]:[]},e.user=function(e){return{id:e.id,userName:e.userName,type:e.userLevel}},e.fetchUsers=function(e){var t=this,n=e.UserList.User;return n?Array.isArray(n)?n.map((function(e){return t.user(e)})):[this.user(n)]:[]},e.timeStatus=function(e){return{mode:e.Time.timeMode,time:new Date(e.Time.localTime),timeZoneOffset:-480}},e.hdd=function(e){return{id:e.id,name:e.hddName,path:e.hddPath,type:e.hddType,status:e.status,capacity:parseInt(e.capacity),freeSpace:parseInt(e.freeSpace),property:e.property}},e.nas=function(e){return{id:e.id,addressingFormatType:e.addressingFormatType,ipAddress:e.ipAddress,port:e.portNo,type:e.nasType,path:e.path,status:e.status,capacity:parseInt(e.capacity),freeSpace:parseInt(e.freeSpace),property:e.property}},e.getStorages=function(e){var t=this,n=[],r=[],i=e.storage.hddList.hdd,o=e.storage.nasList.nas;return i&&(Array.isArray(i)?n.push.apply(n,i.map((function(e){return t.hdd(e)}))):n.push(this.hdd(i))),o&&(Array.isArray(o)?r.push.apply(r,o.map((function(e){return t.nas(e)}))):r.push(this.nas(o))),{hdd:n,nas:r,mode:e.storage.workMode}},e.getDailyRecordStatus=function(e,t){return t.trackDailyDistribution.dayList.day.map((function(t){return{day:new Date(e.getFullYear(),e.getMonth(),parseInt(t.dayOfMonth)),hasRecord:t.record,recordType:t.recordType}}))},e.searchRecord=function(e){return{startTime:new Date(e.timeSpan.startTime.replace(/[TZ]/g," ")),endDate:new Date(e.timeSpan.endTime.replace(/[TZ]/g," ")),sourceId:e.sourceID,trackId:e.trackID,playbackUrl:e.mediaSegmentDescriptor.playbackURI}},e.searchRecords=function(e){var t=this,n=e.CMSearchResult.matchList&&e.CMSearchResult.matchList.searchMatchItem,r=[];return n&&(r=Array.isArray(n)?n.map((function(e){return t.searchRecord(e)})):[this.searchRecord(n)]),{total:e.CMSearchResult.numOfMatches,hasMore:"MORE"===e.CMSearchResult.responseStatusStrg,list:r}},e}();t.RTL=r;var i=function(){function e(){}return e.deviceInfo=function(e){return{DeviceInfo:{deviceName:e.name,deviceID:e.id,model:e.model,serialNumber:e.serialNo,macAddress:e.mac,firmwareVersion:e.firmwareVersion,firmwareReleasedDate:e.firmwareReleaseDate,encoderVersion:e.encoderVersion,encoderReleasedDate:e.encoderReleaseDate,deviceType:e.deviceType,telecontrolID:e.code}}},e}();t.LTR=i},function(e,t,n){"use strict";const r=n(7),i=n(16),o=n(9),s=n(73),a=n(74),{randomBytes:u,createHash:c}=n(17),{URL:l}=n(18),p=n(10),h=n(43),d=n(45),{BINARY_TYPES:f,EMPTY_BUFFER:m,GUID:y,kStatusCode:_,kWebSocket:g,NOOP:v}=n(5),{addEventListener:b,removeEventListener:w}=n(76),{format:T,parse:E}=n(46),{toBuffer:S}=n(11),A=["CONNECTING","OPEN","CLOSING","CLOSED"],x=[8,13];class M extends r{constructor(e,t,n){super(),this.readyState=M.CONNECTING,this.protocol="",this._binaryType=f[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function e(t,n,r,s){const a={protocolVersion:x[1],maxPayload:104857600,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...s,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,host:void 0,path:void 0,port:void 0};if(!x.includes(a.protocolVersion))throw new RangeError(`Unsupported protocol version: ${a.protocolVersion} (supported versions: ${x.join(", ")})`);let h;n instanceof l?(h=n,t.url=n.href):(h=new l(n),t.url=n);const d="ws+unix:"===h.protocol;if(!(h.host||d&&h.pathname))throw new Error("Invalid URL: "+t.url);const f="wss:"===h.protocol||"https:"===h.protocol,m=f?443:80,_=u(16).toString("base64"),g=f?i.get:o.get;let v;a.createConnection=f?I:C,a.defaultPort=a.defaultPort||m,a.port=h.port||m,a.host=h.hostname.startsWith("[")?h.hostname.slice(1,-1):h.hostname,a.headers={"Sec-WebSocket-Version":a.protocolVersion,"Sec-WebSocket-Key":_,Connection:"Upgrade",Upgrade:"websocket",...a.headers},a.path=h.pathname+h.search,a.timeout=a.handshakeTimeout,a.perMessageDeflate&&(v=new p(!0!==a.perMessageDeflate?a.perMessageDeflate:{},!1,a.maxPayload),a.headers["Sec-WebSocket-Extensions"]=T({[p.extensionName]:v.offer()}));r&&(a.headers["Sec-WebSocket-Protocol"]=r);a.origin&&(a.protocolVersion<13?a.headers["Sec-WebSocket-Origin"]=a.origin:a.headers.Origin=a.origin);(h.username||h.password)&&(a.auth=`${h.username}:${h.password}`);if(d){const e=a.path.split(":");a.socketPath=e[0],a.path=e[1]}let b=t._req=g(a);a.timeout&&b.on("timeout",()=>{P(t,b,"Opening handshake has timed out")});b.on("error",e=>{t._req.aborted||(b=t._req=null,t.readyState=M.CLOSING,t.emit("error",e),t.emitClose())}),b.on("response",i=>{const o=i.headers.location,u=i.statusCode;if(o&&a.followRedirects&&u>=300&&u<400){if(++t._redirects>a.maxRedirects)return void P(t,b,"Maximum redirects exceeded");b.abort();const i=new l(o,n);e(t,i,r,s)}else t.emit("unexpected-response",b,i)||P(t,b,"Unexpected server response: "+i.statusCode)}),b.on("upgrade",(e,n,i)=>{if(t.emit("upgrade",e),t.readyState!==M.CONNECTING)return;b=t._req=null;const o=c("sha1").update(_+y).digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void P(t,n,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],u=(r||"").split(/, */);let l;if(!r&&s?l="Server sent a subprotocol but none was requested":r&&!s?l="Server sent no subprotocol":s&&!u.includes(s)&&(l="Server sent an invalid subprotocol"),l)P(t,n,l);else{if(s&&(t.protocol=s),v)try{const n=E(e.headers["sec-websocket-extensions"]);n[p.extensionName]&&(v.accept(n[p.extensionName]),t._extensions[p.extensionName]=v)}catch(e){return void P(t,n,"Invalid Sec-WebSocket-Extensions header")}t.setSocket(n,i,a.maxPayload)}})}(this,e,t,n)):this._isServer=!0}get CONNECTING(){return M.CONNECTING}get CLOSING(){return M.CLOSING}get CLOSED(){return M.CLOSED}get OPEN(){return M.OPEN}get binaryType(){return this._binaryType}set binaryType(e){f.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new h(this._binaryType,this._extensions,this._isServer,n);this._sender=new d(e,this._extensions),this._receiver=r,this._socket=e,r[g]=this,e[g]=this,r.on("conclude",D),r.on("drain",N),r.on("error",k),r.on("message",L),r.on("ping",F),r.on("pong",U),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",B),e.on("data",j),e.on("end",H),e.on("error",V),this.readyState=M.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this.readyState=M.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this.readyState=M.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){const e="WebSocket was closed before the connection was established";return P(this,this._req,e)}this.readyState!==M.CLOSING?(this.readyState=M.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._closeFrameReceived&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||m,t,n)):O(this,e,n)}pong(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===M.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||m,t,n)):O(this,e,n)}send(e,t,n){if(this.readyState===M.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==M.OPEN)return void O(this,e,n);const r={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(r.compress=!1),this._sender.send(e||m,r,n)}terminate(){if(this.readyState!==M.CLOSED){if(this.readyState===M.CONNECTING){const e="WebSocket was closed before the connection was established";return P(this,this._req,e)}this._socket&&(this.readyState=M.CLOSING,this._socket.destroy())}}}function C(e){return e.path=e.socketPath,s.connect(e)}function I(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=e.host),a.connect(e)}function P(e,t,n){e.readyState=M.CLOSING;const r=new Error(n);Error.captureStackTrace(r,P),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function O(e,t,n){if(t){const n=S(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){n(new Error(`WebSocket is not open: readyState ${e.readyState} (${A[e.readyState]})`))}}function D(e,t){const n=this[g];n._socket.removeListener("data",j),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function N(){this[g]._socket.resume()}function k(e){const t=this[g];t._socket.removeListener("data",j),t.readyState=M.CLOSING,t._closeCode=e[_],t.emit("error",e),t._socket.destroy()}function R(){this[g].emitClose()}function L(e){this[g].emit("message",e)}function F(e){const t=this[g];t.pong(e,!t._isServer,v),t.emit("ping",e)}function U(e){this[g].emit("pong",e)}function B(){const e=this[g];this.removeListener("close",B),this.removeListener("end",H),e.readyState=M.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",j),this[g]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",R),e._receiver.on("finish",R))}function j(e){this[g]._receiver.write(e)||this.pause()}function H(){const e=this[g];e.readyState=M.CLOSING,e._receiver.end(),this.end()}function V(){const e=this[g];this.removeListener("error",V),this.on("error",v),e&&(e.readyState=M.CLOSING,this.destroy())}A.forEach((e,t)=>{M[e]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(M.prototype,"on"+e,{get(){const t=this.listeners(e);for(let e=0;e<t.length;e++)if(t[e]._listener)return t[e]._listener},set(t){const n=this.listeners(e);for(let t=0;t<n.length;t++)n[t]._listener&&this.removeListener(e,n[t]);this.addEventListener(e,t)}})}),M.prototype.addEventListener=b,M.prototype.removeEventListener=w,e.exports=M},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";const{Writable:r}=n(12),i=n(10),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:u}=n(5),{concat:c,toArrayBuffer:l,unmask:p}=n(11),{isValidStatusCode:h,isValidUTF8:d}=n(44);function f(e,t,n,r){const i=new e(n?"Invalid WebSocket frame: "+t:t);return Error.captureStackTrace(i,f),i[a]=r,i}e.exports=class extends r{constructor(e,t,n,r){super(),this._binaryType=e||o[0],this[u]=void 0,this._extensions=t||{},this._isServer=!!n,this._maxPayload=0|r,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],r=t.length-e;e>=n.length?t.set(this._buffers.shift(),r):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),r),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,f(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,f(RangeError,"invalid opcode "+this._opcode,!0,1002);if(!this._fin)return this._loop=!1,f(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,f(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,f(RangeError,"invalid payload length "+this._payloadLength,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,f(RangeError,"MASK must be set",!0,1002)}else if(this._masked)return this._loop=!1,f(RangeError,"MASK must be clear",!0,1002);if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,f(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,f(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&p(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(f(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let n;n="nodebuffer"===this._binaryType?c(t,e):"arraybuffer"===this._binaryType?l(c(t,e)):t,this.emit("message",n)}else{const n=c(t,e);if(!d(n))return this._loop=!1,f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",n.toString())}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return f(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!h(t))return f(RangeError,"invalid status code "+t,!0,1002);const n=e.slice(2);if(!d(n))return f(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},function(e,t,n){"use strict";try{const e=n(!function(){var e=new Error("Cannot find module 'utf-8-validate'");throw e.code="MODULE_NOT_FOUND",e}());t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=()=>!0}t.isValidStatusCode=e=>e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},function(e,t,n){"use strict";const{randomFillSync:r}=n(17),i=n(10),{EMPTY_BUFFER:o}=n(5),{isValidStatusCode:s}=n(44),{mask:a,toBuffer:u}=n(11),c=Buffer.alloc(4);class l{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=t.mask&&t.readOnly;let i=t.mask?6:2,o=e.length;e.length>=65536?(i+=8,o=127):e.length>125&&(i+=2,o=126);const s=Buffer.allocUnsafe(n?e.length+i:i);return s[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(s[0]|=64),s[1]=o,126===o?s.writeUInt16BE(e.length,2):127===o&&(s.writeUInt32BE(0,2),s.writeUInt32BE(e.length,6)),t.mask?(r(c,0,4),s[1]|=128,s[i-4]=c[0],s[i-3]=c[1],s[i-2]=c[2],s[i-1]=c[3],n?(a(e,c,s,i,e.length),[s]):(a(e,c,e,0,e.length),[s,e])):[s,e]}close(e,t,n,r){let i;if(void 0===e)i=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0===t||""===t)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+n),i.writeUInt16BE(e,0),i.write(t,2)}}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){const r=u(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPing,r,t,u.readOnly,n]):this.doPing(r,t,u.readOnly,n)}doPing(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){const r=u(e);if(r.length>125)throw new RangeError("The data size must not be greater than 125 bytes");this._deflating?this.enqueue([this.doPong,r,t,u.readOnly,n]):this.doPong(r,t,u.readOnly,n)}doPong(e,t,n,r){this.sendFrame(l.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){const r=u(e),o=this._extensions[i.extensionName];let s=t.binary?2:1,a=t.compress;if(this._firstFragment?(this._firstFragment=!1,a&&o&&(a=r.length>=o._threshold),this._compress=a):(a=!1,s=0),t.fin&&(this._firstFragment=!0),o){const e={fin:t.fin,rsv1:a,opcode:s,mask:t.mask,readOnly:u.readOnly};this._deflating?this.enqueue([this.dispatch,r,this._compress,e,n]):this.dispatch(r,this._compress,e,n)}else this.sendFrame(l.frame(r,{fin:t.fin,rsv1:!1,opcode:s,mask:t.mask,readOnly:u.readOnly}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(l.frame(e,n),r);const o=this._extensions[i.extensionName];this._bufferedBytes+=e.length,this._deflating=!0,o.compress(e,n.fin,(t,i)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof r&&r(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t][4];"function"==typeof n&&n(e)}}else this._bufferedBytes-=e.length,this._deflating=!1,n.readOnly=!1,this.sendFrame(l.frame(i,n),r),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=l},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t=Object.create(null);if(void 0===e||""===e)return t;let n,o,s=Object.create(null),a=!1,u=!1,c=!1,l=-1,p=-1,h=0;for(;h<e.length;h++){const d=e.charCodeAt(h);if(void 0===n)if(-1===p&&1===r[d])-1===l&&(l=h);else if(32===d||9===d)-1===p&&-1!==l&&(p=h);else{if(59!==d&&44!==d)throw new SyntaxError("Unexpected character at index "+h);{if(-1===l)throw new SyntaxError("Unexpected character at index "+h);-1===p&&(p=h);const r=e.slice(l,p);44===d?(i(t,r,s),s=Object.create(null)):n=r,l=p=-1}}else if(void 0===o)if(-1===p&&1===r[d])-1===l&&(l=h);else if(32===d||9===d)-1===p&&-1!==l&&(p=h);else if(59===d||44===d){if(-1===l)throw new SyntaxError("Unexpected character at index "+h);-1===p&&(p=h),i(s,e.slice(l,p),!0),44===d&&(i(t,n,s),s=Object.create(null),n=void 0),l=p=-1}else{if(61!==d||-1===l||-1!==p)throw new SyntaxError("Unexpected character at index "+h);o=e.slice(l,h),l=p=-1}else if(u){if(1!==r[d])throw new SyntaxError("Unexpected character at index "+h);-1===l?l=h:a||(a=!0),u=!1}else if(c)if(1===r[d])-1===l&&(l=h);else if(34===d&&-1!==l)c=!1,p=h;else{if(92!==d)throw new SyntaxError("Unexpected character at index "+h);u=!0}else if(34===d&&61===e.charCodeAt(h-1))c=!0;else if(-1===p&&1===r[d])-1===l&&(l=h);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError("Unexpected character at index "+h);{if(-1===l)throw new SyntaxError("Unexpected character at index "+h);-1===p&&(p=h);let r=e.slice(l,p);a&&(r=r.replace(/\\/g,""),a=!1),i(s,o,r),44===d&&(i(t,n,s),s=Object.create(null),n=void 0),o=void 0,l=p=-1}}else-1===p&&(p=h)}if(-1===l||c)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const d=e.slice(l,p);return void 0===n?i(t,d,s):(void 0===o?i(s,d,!0):i(s,o,a?d.replace(/\\/g,""):d),i(t,n,s)),t}}},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,i=Number(new Date),o=i-(n||i);t.diff=o,t.prev=n,t.curr=i,n=i,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;a++;const o=r.formatters[i];if("function"==typeof o){const r=e[a];n=o.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e);(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=i,s.extend=o,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function i(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(t=0;t<i;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(81),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){e.exports=require("tty")},function(e,t){(function(){e.exports=function(){function e(){}return e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,n){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e}()}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,u,c={}.hasOwnProperty;u=n(3).isPlainObject,i=n(49),r=n(95),o=n(2),t=n(0),a=n(53),s=n(35),e.exports=function(e){function n(e){n.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new r,e||(e={}),e.writer||(e.writer=new s),this.options=e,this.stringify=new a(e)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),Object.defineProperty(n.prototype,"implementation",{value:new i}),Object.defineProperty(n.prototype,"doctype",{get:function(){var e,n,r,i;for(n=0,r=(i=this.children).length;n<r;n++)if((e=i[n]).type===t.DocType)return e;return null}}),Object.defineProperty(n.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(n.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(n.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(n.prototype,"origin",{get:function(){return null}}),Object.defineProperty(n.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(n.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(n.prototype,"contentType",{get:function(){return null}}),n.prototype.end=function(e){var t;return t={},e?u(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},n.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},n.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.renameNode=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createNodeIterator=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.createTreeWalker=function(e,t,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n}(o)}).call(this)},function(e,t,n){(function(){var t;t=n(0),n(2),e.exports=function(){function e(e,n,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},e.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&(e.prefix===this.prefix&&(e.localName===this.localName&&e.value===this.value))},e}()}).call(this)},function(e,t,n){(function(){var t,r,i={}.hasOwnProperty;r=n(2),t=n(0),e.exports=function(e){function n(e){n.__super__.constructor.call(this,e),this.type=t.Dummy}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n}(r)}).call(this)},function(e,t){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty;e.exports=function(){function e(e){var r,i,o;for(r in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),e||(e={}),this.options=e,this.options.version||(this.options.version="1.0"),i=e.stringify||{})n.call(i,r)&&(o=i[r],this[r]=o)}return e.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},e.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},e.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},e.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},e.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},e.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},e.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},e.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},e.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},e.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},e.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},e.prototype.convertAttKey="@",e.prototype.convertPIKey="?",e.prototype.convertTextKey="#text",e.prototype.convertCDataKey="#cdata",e.prototype.convertCommentKey="#comment",e.prototype.convertRawKey="#raw",e.prototype.assertLegalChar=function(e){var t,n;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+n.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+n.index);return e},e.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},e.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},e.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},e}()}).call(this)},function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;i=n(3).assign,t=n(0),n(26),n(27),n(24),n(25),n(22),n(32),n(33),n(34),n(52),n(28),n(30),n(29),n(31),r=n(14),e.exports=function(){function e(e){var t,n,r;for(t in e||(e={}),this.options=e,n=e.writer||{})o.call(n,t)&&(r=n[t],this["_"+t]=this[t],this[t]=r)}return e.prototype.filterOptions=function(e){var t,n,o,s,a,u,c,l;return e||(e={}),e=i({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(n=e.indent)?n:"  ",t.newline=null!=(o=e.newline)?o:"\n",t.offset=null!=(s=e.offset)?s:0,t.dontPrettyTextNodes=null!=(a=null!=(u=e.dontPrettyTextNodes)?u:e.dontprettytextnodes)?a:0,t.spaceBeforeSlash=null!=(c=null!=(l=e.spaceBeforeSlash)?l:e.spacebeforeslash)?c:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=r.None,t},e.prototype.indent=function(e,t,n){var r;return!t.pretty||t.suppressPrettyCount?"":t.pretty&&(r=(n||0)+t.offset+1)>0?new Array(r).join(t.indent):""},e.prototype.endline=function(e,t,n){return!t.pretty||t.suppressPrettyCount?"":t.newline},e.prototype.attribute=function(e,t,n){var r;return this.openAttribute(e,t,n),r=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,n),r},e.prototype.cdata=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<![CDATA[",t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+="]]>"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.comment=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"\x3c!-- ",t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=" --\x3e"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.declaration=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<?xml",t.state=r.InsideTag,i+=' version="'+e.version+'"',null!=e.encoding&&(i+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(i+=' standalone="'+e.standalone+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.docType=function(e,t,n){var i,o,s,a,u;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,a=this.indent(e,t,n),a+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(a+=" [",a+=this.endline(e,t,n),t.state=r.InsideTag,o=0,s=(u=e.children).length;o<s;o++)i=u[o],a+=this.writeChildNode(i,t,n+1);t.state=r.CloseTag,a+="]"}return t.state=r.CloseTag,a+=t.spaceBeforeSlash+">",a+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),a},e.prototype.element=function(e,n,i){var s,a,u,c,l,p,h,d,f,m,y,_,g,v;for(f in i||(i=0),m=!1,y="",this.openNode(e,n,i),n.state=r.OpenTag,y+=this.indent(e,n,i)+"<"+e.name,_=e.attribs)o.call(_,f)&&(s=_[f],y+=this.attribute(s,n,i));if(c=0===(u=e.children.length)?null:e.children[0],0===u||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))n.allowEmpty?(y+=">",n.state=r.CloseTag,y+="</"+e.name+">"+this.endline(e,n,i)):(n.state=r.CloseTag,y+=n.spaceBeforeSlash+"/>"+this.endline(e,n,i));else if(!n.pretty||1!==u||c.type!==t.Text&&c.type!==t.Raw||null==c.value){if(n.dontPrettyTextNodes)for(l=0,h=(g=e.children).length;l<h;l++)if(((a=g[l]).type===t.Text||a.type===t.Raw)&&null!=a.value){n.suppressPrettyCount++,m=!0;break}for(y+=">"+this.endline(e,n,i),n.state=r.InsideTag,p=0,d=(v=e.children).length;p<d;p++)a=v[p],y+=this.writeChildNode(a,n,i+1);n.state=r.CloseTag,y+=this.indent(e,n,i)+"</"+e.name+">",m&&n.suppressPrettyCount--,y+=this.endline(e,n,i),n.state=r.None}else y+=">",n.state=r.InsideTag,n.suppressPrettyCount++,m=!0,y+=this.writeChildNode(c,n,i+1),n.suppressPrettyCount--,m=!1,n.state=r.CloseTag,y+="</"+e.name+">"+this.endline(e,n,i);return this.closeNode(e,n,i),y},e.prototype.writeChildNode=function(e,n,r){switch(e.type){case t.CData:return this.cdata(e,n,r);case t.Comment:return this.comment(e,n,r);case t.Element:return this.element(e,n,r);case t.Raw:return this.raw(e,n,r);case t.Text:return this.text(e,n,r);case t.ProcessingInstruction:return this.processingInstruction(e,n,r);case t.Dummy:return"";case t.Declaration:return this.declaration(e,n,r);case t.DocType:return this.docType(e,n,r);case t.AttributeDeclaration:return this.dtdAttList(e,n,r);case t.ElementDeclaration:return this.dtdElement(e,n,r);case t.EntityDeclaration:return this.dtdEntity(e,n,r);case t.NotationDeclaration:return this.dtdNotation(e,n,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},e.prototype.processingInstruction=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<?",t.state=r.InsideTag,i+=e.target,e.value&&(i+=" "+e.value),t.state=r.CloseTag,i+=t.spaceBeforeSlash+"?>",i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.raw=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n),t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.text=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n),t.state=r.InsideTag,i+=e.value,t.state=r.CloseTag,i+=this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdAttList=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ATTLIST",t.state=r.InsideTag,i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(i+=" "+e.defaultValueType),e.defaultValue&&(i+=' "'+e.defaultValue+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdElement=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ELEMENT",t.state=r.InsideTag,i+=" "+e.name+" "+e.value,t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdEntity=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!ENTITY",t.state=r.InsideTag,e.pe&&(i+=" %"),i+=" "+e.name,e.value?i+=' "'+e.value+'"':(e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.nData&&(i+=" NDATA "+e.nData)),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.dtdNotation=function(e,t,n){var i;return this.openNode(e,t,n),t.state=r.OpenTag,i=this.indent(e,t,n)+"<!NOTATION",t.state=r.InsideTag,i+=" "+e.name,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?i+=' PUBLIC "'+e.pubID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),t.state=r.CloseTag,i+=t.spaceBeforeSlash+">"+this.endline(e,t,n),t.state=r.None,this.closeNode(e,t,n),i},e.prototype.openNode=function(e,t,n){},e.prototype.closeNode=function(e,t,n){},e.prototype.openAttribute=function(e,t,n){},e.prototype.closeAttribute=function(e,t,n){},e}()}).call(this)},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Base=void 0;var s=o(n(107)),a=n(40),u=n(19),c=n(126),l=n(20),p=function(){function e(e){this.ip="192.168.1.64",this.port=80,this.user="admin",this.session="",this.useProxy=!1,this.wsPort=7681,this.version=1,this.userPassword="",this.ip=e.ip,this.port=e.port||this.port,this.user=e.user,this.password=e.password,this.useProxy=!!e.proxy,e.version&&(this.version=e.version),e.userPassword&&(this.userPassword=e.userPassword),this.request=s.default.create({baseURL:e.proxy||this.url,timeout:e.timeout||1e4})}return Object.defineProperty(e.prototype,"url",{get:function(){return"http://"+this.ip+":"+this.port},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this.useProxy?{proxy:this.url,Cookie:2===this.version?this.session:"WebSession="+this.session}:{Cookie:2===this.version?this.session:"WebSession="+this.session}},enumerable:!1,configurable:!0}),e.prototype.getSession=function(){return this.session},e.prototype.getSessionParams=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/Security/sessionLogin/capabilities?username="+this.user,{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.sessionParams(t)]}}))}))},e.prototype.deviceInfo=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/System/deviceInfo",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.deviceInfo(t)]}}))}))},e.prototype.updateDeviceInfo=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this.request.put("ISAPI/System/deviceInfo",l.XmlHandler.build(a.LTR.deviceInfo(e)),{headers:this.headers})];case 1:return t=n.sent(),[4,l.XmlHandler.parser(t.data)];case 2:return n.sent(),[2]}}))}))},e.prototype.getTime=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.request.get("ISAPI/System/time",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.timeStatus(t)]}}))}))},e.prototype.setTime=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.request.put("/ISAPI/System/time",l.XmlHandler.build({Time:{timeMode:"manual",localTime:u.formatDate(e.time,"yyyy-MM-ddThh:mm:ss"),timeZone:"CST-8:00:00"}}),{headers:this.headers})];case 1:return t.sent(),[2]}}))}))},e.prototype.addUser=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request.post("/ISAPI/Security/users",l.XmlHandler.build({User:{id:e.id,userName:e.userName,loginPassword:this.password,password:e.password||this.userPassword,userLevel:"Operator"}}),{headers:this.headers})];case 1:return n=i.sent(),t=n.data,[3,3];case 2:return r=i.sent(),t=r.response.data,[3,3];case 3:return[4,l.XmlHandler.parser(t)];case 4:if("1"!==(o=i.sent()).ResponseStatus.statusCode)throw new Error(o.ResponseStatus.subStatusCode);return[2]}}))}))},e.prototype.updateUser=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request.put("/ISAPI/Security/users/"+e.id,l.XmlHandler.build({User:{id:e.id,userName:e.userName,loginPassword:this.password,password:e.password||this.userPassword,userLevel:e.type}}),{headers:this.headers})];case 1:return n=i.sent(),t=n.data,[3,3];case 2:return r=i.sent(),t=r.response.data,[3,3];case 3:return[4,l.XmlHandler.parser(t)];case 4:if("1"!==(o=i.sent()).ResponseStatus.statusCode)throw new Error(o.ResponseStatus.subStatusCode);return[2]}}))}))},e.prototype.deleteUser=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a,u;return i(this,(function(i){switch(i.label){case 0:return t=e,"number"==typeof e?[3,2]:[4,this.fetchUsers()];case 1:n=i.sent(),(r=n.find((function(t){return t.userName===e})))&&(t=r.id),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.request.delete("/ISAPI/Security/users/"+t,{headers:this.headers,params:{loginPassword:this.password}})];case 3:return s=i.sent(),o=s.data,[3,5];case 4:return a=i.sent(),o=a.response.data,[3,5];case 5:return[4,l.XmlHandler.parser(o)];case 6:if("1"!==(u=i.sent()).ResponseStatus.statusCode)throw new Error(u.ResponseStatus.subStatusCode);return[2]}}))}))},e.prototype.fetchUsers=function(){return r(this,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/Security/users",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.fetchUsers(t)]}}))}))},e.prototype.getUsers=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,this.request.get("/ISAPI/Security/users",{headers:this.headers})];case 1:return e=t.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t.sent(),[2]}}))}))},e.prototype.encodePassword=function(e){var t;if(e.isIrreversible){t=c.sha256(this.user+e.salt+this.password),t=c.sha256(t+e.challenge);for(var n=2;n<e.iterations;n++)t=c.sha256(t)}else{t=c.sha256(this.password)+e.challenge;for(n=1;n<e.iterations;n++)t=c.sha256(t)}return t},e.prototype.reboot=function(){return r(this,void 0,void 0,(function(){var e,t,n,r;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.request.put("/ISAPI/System/reboot",null,{headers:this.headers})];case 1:return t=i.sent(),e=t.data,[3,3];case 2:return n=i.sent(),e=n.response.data,[3,3];case 3:return[4,l.XmlHandler.parser(e)];case 4:if("1"!==(r=i.sent()).ResponseStatus.statusCode)throw new Error(r.ResponseStatus.subStatusCode);return[2]}}))}))},e}();t.Base=p},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(1),i=n(113),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(114):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(a=n(120)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(o)})),e.exports=u},function(e,t,n){"use strict";var r=n(38);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(116),i=n(117);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){var r=n(18),i=r.URL,o=n(9),s=n(16),a=n(12).Writable,u=n(121),c=n(122),l=Object.create(null);["abort","aborted","connect","error","socket","timeout"].forEach((function(e){l[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var p=T("ERR_FR_REDIRECTION_FAILURE",""),h=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),d=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),f=T("ERR_STREAM_WRITE_AFTER_END","write after end");function m(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function y(e,t){clearTimeout(e._timeout),e._timeout=setTimeout((function(){e.emit("timeout")}),t)}function _(){clearTimeout(this._timeout)}function g(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(o){var s=o+":",a=n[s]=e[o],l=t[o]=Object.create(a);l.request=function(e,o,a){if("string"==typeof e){var l=e;try{e=b(new i(l))}catch(t){e=r.parse(l)}}else i&&e instanceof i?e=b(e):(a=o,o=e,e={protocol:s});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=n,u.equal(o.protocol,s,"protocol mismatch"),c("options",o),new m(o,a)},l.get=function(e,t,n){var r=l.request(e,t,n);return r.end(),r}})),t}function v(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return n}function T(e,t){function n(e){Error.captureStackTrace(this,this.constructor),this.message=e||t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}m.prototype=Object.create(a.prototype),m.prototype.write=function(e,t,n){if(this._ending)throw new f;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new d),this.abort()):n&&n()},m.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,i=this._currentRequest;this.write(e,t,(function(){r._ended=!0,i.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},m.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},m.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},m.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)y(this,e);else{var n=this;this._currentRequest.once("socket",(function(){y(n,e)}))}return this.once("response",_),this.once("error",_),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){m.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(m.prototype,e,{get:function(){return this._currentRequest[e]}})})),m.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},m.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.substr(0,e.length-1);this._options.agent=this._options.agents[n]}var i=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=r.format(this._options),i._redirectable=this,l)o&&i.on(o,l[o]);if(this._isRedirect){var s=0,a=this,u=this._requestBodyBuffers;!function e(t){if(i===a._currentRequest)if(t)a.emit("error",t);else if(s<u.length){var n=u[s++];i.finished||i.write(n.data,n.encoding,e)}else a._ended&&i.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},m.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(n&&!1!==this._options.followRedirects&&t>=300&&t<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",v),this._currentRequest.abort(),e.destroy(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new h);((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var i=w(/^host$/i,this._options.headers)||r.parse(this._currentUrl).hostname,o=r.resolve(this._currentUrl,n);c("redirecting to",o),this._isRedirect=!0;var s=r.parse(o);if(Object.assign(this._options,s),s.hostname!==i&&w(/^authorization$/i,this._options.headers),"function"==typeof this._options.beforeRedirect){var a={headers:e.headers};try{this._options.beforeRedirect.call(null,this._options,a)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){var u=new p("Redirected request failed: "+e.message);u.cause=e,this.emit("error",u)}}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=g({http:o,https:s}),e.exports.wrap=g},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(o,c),r.forEach(s,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(a,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var l=i.concat(o).concat(s).concat(a),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(p,c),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"defaultPoolSize",(function(){return defaultPoolSize})),__webpack_require__.d(__webpack_exports__,"getWorkerImplementation",(function(){return getWorkerImplementation})),__webpack_require__.d(__webpack_exports__,"isWorkerRuntime",(function(){return isWorkerRuntime}));var callsites__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(66),callsites__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(callsites__WEBPACK_IMPORTED_MODULE_0__),events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7),events__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__),os__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(39),os__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_2__),path__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),path__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);let tsNodeAvailable;const defaultPoolSize=Object(os__WEBPACK_IMPORTED_MODULE_2__.cpus)().length;function detectTsNode(){if("function"==typeof require)return!1;if(tsNodeAvailable)return tsNodeAvailable;try{!function(){var e=new Error("Cannot find module 'ts-node'");throw e.code="MODULE_NOT_FOUND",e}(),tsNodeAvailable=!0}catch(e){if(!e||"MODULE_NOT_FOUND"!==e.code)throw e;tsNodeAvailable=!1}return tsNodeAvailable}function createTsNodeModule(e){return`\n    require("ts-node/register/transpile-only");\n    require(${JSON.stringify(e)});\n  `}function rebaseScriptPath(e,t){const n=callsites__WEBPACK_IMPORTED_MODULE_0___default()().find(e=>{const n=e.getFileName();return Boolean(n&&!n.match(t)&&!n.match(/[\/\\]master[\/\\]implementation/)&&!n.match(/^internal\/process/))}),r=n?n.getFileName():null,i=r?r.replace(/^file:\//,""):null;return i?path__WEBPACK_IMPORTED_MODULE_3__.join(path__WEBPACK_IMPORTED_MODULE_3__.dirname(i),e):e}function resolveScriptPath(scriptPath,baseURL){const makeRelative=filePath=>path__WEBPACK_IMPORTED_MODULE_3__.isAbsolute(filePath)?filePath:path__WEBPACK_IMPORTED_MODULE_3__.join(baseURL||eval("__dirname"),filePath),workerFilePath="function"==typeof require?require.resolve(makeRelative(scriptPath)):__webpack_require__(86).resolve(makeRelative(rebaseScriptPath(scriptPath,/[\/\\]worker_threads[\/\\]/)));return workerFilePath}function initWorkerThreadsWorker(){const NativeWorker="function"==typeof require?require("worker_threads").Worker:eval("require")("worker_threads").Worker;let allWorkers=[];class Worker extends NativeWorker{constructor(e,t){const n=t&&t.fromSource?null:resolveScriptPath(e,(t||{})._baseURL);if(n)n.match(/\.tsx?$/i)&&detectTsNode()?super(createTsNodeModule(n),Object.assign(Object.assign({},t),{eval:!0})):n.match(/\.asar[\/\\]/)?super(n.replace(/\.asar([\/\\])/,".asar.unpacked$1"),t):super(n,t);else{super(e,Object.assign(Object.assign({},t),{eval:!0}))}this.mappedEventListeners=new WeakMap,allWorkers.push(this)}addEventListener(e,t){const n=e=>{t({data:e})};this.mappedEventListeners.set(t,n),this.on(e,n)}removeEventListener(e,t){const n=this.mappedEventListeners.get(t)||t;this.off(e,n)}}const terminateWorkersAndMaster=()=>{Promise.all(allWorkers.map(e=>e.terminate())).then(()=>process.exit(0),()=>process.exit(1)),allWorkers=[]};process.on("SIGINT",()=>terminateWorkersAndMaster()),process.on("SIGTERM",()=>terminateWorkersAndMaster());class BlobWorker extends Worker{constructor(e,t){super(Buffer.from(e).toString("utf-8"),Object.assign(Object.assign({},t),{fromSource:!0}))}static fromText(e,t){return new Worker(e,Object.assign(Object.assign({},t),{fromSource:!0}))}}return{blob:BlobWorker,default:Worker}}function initTinyWorker(){const e=__webpack_require__(87);let t=[];class n extends e{constructor(e,n){const r=n&&n.fromSource?null:"win32"===process.platform?"file:///"+resolveScriptPath(e).replace(/\\/g,"/"):resolveScriptPath(e);if(r)r.match(/\.tsx?$/i)&&detectTsNode()?super(new Function(createTsNodeModule(resolveScriptPath(e))),[],{esm:!0}):r.match(/\.asar[\/\\]/)?super(r.replace(/\.asar([\/\\])/,".asar.unpacked$1"),[],{esm:!0}):super(r,[],{esm:!0});else{super(new Function(e),[],{esm:!0})}t.push(this),this.emitter=new events__WEBPACK_IMPORTED_MODULE_1___default.a,this.onerror=e=>this.emitter.emit("error",e),this.onmessage=e=>this.emitter.emit("message",e)}addEventListener(e,t){this.emitter.addListener(e,t)}removeEventListener(e,t){this.emitter.removeListener(e,t)}terminate(){return t=t.filter(e=>e!==this),super.terminate()}}const r=()=>{Promise.all(t.map(e=>e.terminate())).then(()=>process.exit(0),()=>process.exit(1)),t=[]};process.on("SIGINT",()=>r()),process.on("SIGTERM",()=>r());return{blob:class extends n{constructor(e,t){super(Buffer.from(e).toString("utf-8"),Object.assign(Object.assign({},t),{fromSource:!0}))}static fromText(e,t){return new n(e,Object.assign(Object.assign({},t),{fromSource:!0}))}},default:n}}let implementation,isTinyWorker;function selectWorkerImplementation(){try{return isTinyWorker=!1,initWorkerThreadsWorker()}catch(e){return console.debug("Node worker_threads not available. Trying to fall back to tiny-worker polyfill..."),isTinyWorker=!0,initTinyWorker()}}function getWorkerImplementation(){return implementation||(implementation=selectWorkerImplementation()),implementation}function isWorkerRuntime(){if(isTinyWorker)return!("undefined"==typeof self||!self.postMessage);{const isMainThread="function"==typeof require?require("worker_threads").isMainThread:eval("require")("worker_threads").isMainThread;return!isMainThread}}},function(e,t,n){"use strict";const r=()=>{const e=Error.prepareStackTrace;Error.prepareStackTrace=(e,t)=>t;const t=(new Error).stack.slice(1);return Error.prepareStackTrace=e,t};e.exports=r,e.exports.default=r},function(e,t,n){"use strict";const r=n(89).default;e.exports=e=>Boolean(e&&e[r]&&e===e[r]())},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70),i=n(127),o=n(128);t.default={Nvr:r.Nvr,Camera:i.Camera,SuperRender:o.SuperRender}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Nvr=void 0;var a=n(40),u=n(71),c=n(19),l=n(20),p=function(e){function t(t){var n=e.call(this,t)||this;return n.wsPort=7681,n.wasmUrl=t.wasmUrl||"",n.wsPort=t.wsPort||7681,n}return i(t,e),Object.defineProperty(t.prototype,"headers",{get:function(){return this.useProxy?{proxy:this.url,session:this.session}:{Cookie:2===this.version?this.session:"WebSession="+this.session}},enumerable:!1,configurable:!0}),t.prototype.getWasmUrl=function(){return this.wasmUrl},t.prototype.getIp=function(){return this.ip},t.prototype.getWebsocketUrl=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return 2!==this.version?[3,2]:[4,this.getWebsocketToken()];case 1:return e=t.sent(),[2,"ws://"+this.ip+":"+this.wsPort+"/?version=1.0&cipherSuites=1&token="+e];case 2:return[2,"ws://"+this.ip+":"+this.wsPort+"/?version=1.0&cipherSuites=1&sessionID="+this.session]}}))}))},t.prototype.getPlayCommand=function(e){return JSON.stringify({sequence:0,cmd:"realplay",url:"live://"+this.ip+":"+this.wsPort+"/"+e+"/1"})},t.prototype.getWebsocketToken=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.request.get("/ISAPI/Security/token?format=json",{headers:this.headers})];case 1:return[2,e.sent().data.Token.value]}}))}))},t.prototype.searchDevice=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.request.get("/ISAPI/ContentMgmt/InputProxy/search",{headers:this.headers})];case 1:return e=t.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return[2,t.sent()]}}))}))},t.prototype.getSSHStatus=function(){return o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.request.get("/ISAPI/System/Network/ssh",{headers:this.headers})];case 1:return e=t.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return[2,t.sent().SSH.enabled]}}))}))},t.prototype.setSSHStatus=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("/ISAPI/System/Network/ssh",l.XmlHandler.build({SSH:{enabled:e.toString()}}),{headers:this.headers})];case 1:return t=n.sent(),[4,l.XmlHandler.parser(t.data)];case 2:return[2,"OK"===n.sent().ResponseStatus.statusString]}}))}))},t.prototype.zoom=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("/ISAPI/ContentMgmt/PTZCtrlProxy/channels/"+e+"/continuous",l.XmlHandler.build({PTZData:{zoom:t}}),{headers:this.headers})];case 1:return n.sent(),[2]}}))}))},t.prototype.iris=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("/ISAPI/ContentMgmt/InputProxy/channels/"+e+"/video/iris",l.XmlHandler.build({IrisData:{iris:t}}),{headers:this.headers})];case 1:return n.sent(),[2]}}))}))},t.prototype.focus=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("/ISAPI/ContentMgmt/InputProxy/channels/"+e+"/video/focus",l.XmlHandler.build({FocusData:{focus:t}}),{headers:this.headers})];case 1:return n.sent(),[2]}}))}))},t.prototype.autoPan=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("ISAPI/ContentMgmt/PTZCtrlProxy/channels/"+e+"/autoPan",l.XmlHandler.build({autoPanData:{autoPan:t}}),{headers:this.headers})];case 1:return n.sent(),[2]}}))}))},t.prototype.direction=function(e,t,n){return o(this,void 0,void 0,(function(){return s(this,(function(r){switch(r.label){case 0:return[4,this.request.put("/ISAPI/ContentMgmt/PTZCtrlProxy/channels/"+e+"/continuous",l.XmlHandler.build({PTZData:{pan:t,tilt:n}}),{headers:this.headers})];case 1:return r.sent(),[2]}}))}))},t.prototype.connect=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,o;return s(this,(function(s){switch(s.label){case 0:return[4,this.getSessionParams()];case 1:return e=s.sent(),t=this.encodePassword(e),[4,this.request.post("/ISAPI/Security/sessionLogin?timeStamp="+Date.now(),l.XmlHandler.build({SessionLogin:{userName:this.user,password:t,sessionID:e.sessionId,isSessionIDValidLongTerm:!1,sessionIDVersion:2}}),{headers:this.headers})];case 2:return n=s.sent(),1!==this.version?[3,4]:[4,l.XmlHandler.parser(n.data)];case 3:return r=s.sent(),i=r.SessionUserCheck||r.SessionLogin,this.session=i?i.sessionID:"",[3,5];case 4:(o=n.headers["set-cookie"])&&o.length>0&&(this.session=n.headers["set-cookie"][0]||""),s.label=5;case 5:return[2]}}))}))},t.prototype.disconnect=function(){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.request.put("/ISAPI/Security/sessionLogout",null,{headers:this.headers})];case 1:return e.sent(),this.stopHeart(),[2]}}))}))},t.prototype.stopHeart=function(){this.heart&&clearInterval(this.heart)},t.prototype.fetchChannels=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/ContentMgmt/InputProxy/channels",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.fetchChannels(t)]}}))}))},t.prototype.getChannelStatus=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/ContentMgmt/InputProxy/channels/status",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.getChannelStatus(t)]}}))}))},t.prototype.addChannel=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.post("/ISAPI/ContentMgmt/InputProxy/channels",l.XmlHandler.build({InputProxyChannel:{id:0,quickAdd:!1,sourceInputPortDescriptor:{ipAddress:e.ip,managePortNo:e.port||8e3,srcInputPort:1,userName:e.userName,password:e.password,streamType:"auto",addressingFormatType:"ipaddress",proxyProtocol:e.protocol}}}),{headers:this.headers})];case 1:return t=n.sent(),[4,l.XmlHandler.parser(t.data)];case 2:return n.sent(),[2]}}))}))},t.prototype.deleteChannel=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return t=e,"number"==typeof e?[3,2]:[4,this.fetchChannels()];case 1:n=i.sent(),(r=n.find((function(t){return t.address===e})))&&(t=r.id),i.label=2;case 2:return[4,this.request.delete("/ISAPI/ContentMgmt/InputProxy/channels/"+t,{headers:this.headers})];case 3:return i.sent(),[2]}}))}))},t.prototype.getSecurityVersion=function(e){return o(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/Security/capabilities",{headers:this.headers,params:{username:e||this.user}})];case 1:return t=n.sent(),[4,l.XmlHandler.parser(t.data)];case 2:return[2,n.sent()]}}))}))},t.prototype.getStorages=function(){return o(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:return[4,this.request.get("/ISAPI/ContentMgmt/Storage",{headers:this.headers})];case 1:return e=n.sent(),[4,l.XmlHandler.parser(e.data)];case 2:return t=n.sent(),[2,a.RTL.getStorages(t)]}}))}))},t.prototype.formatHdd=function(e,t){return o(this,void 0,void 0,(function(){var n=this;return s(this,(function(r){return[2,new Promise((function(r,i){var a=n.request.put("/ISAPI/ContentMgmt/Storage/hdd/"+e+"/format",null,{timeout:6e4,headers:n.headers}),u=function(){return o(n,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return t?[4,this.formatHddStatus(e)]:[3,2];case 1:(n=r.sent())>-1&&(t&&t(n),setTimeout(u,1e3)),r.label=2;case 2:return[2]}}))}))};a.then((function(e){return o(n,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return[4,l.XmlHandler.parser(e.data)];case 1:if("1"!==(t=n.sent()).ResponseStatus.statusCode)throw new Error(t.ResponseStatus.subStatusCode);return r(),[2]}}))}))})).catch((function(e){i(e)})).finally((function(){t=void 0})),setTimeout((function(){u()}),500)}))]}))}))},t.prototype.formatHddStatus=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return s(this,(function(i){switch(i.label){case 0:return[4,this.request.get("/ISAPI/ContentMgmt/Storage/hdd/"+e+"/formatStatus",{headers:this.headers})];case 1:return t=i.sent(),[4,l.XmlHandler.parser(t.data)];case 2:return n=i.sent(),r=parseInt(n.formatStatus.percent),[2,Number.isNaN(r)?-1:r]}}))}))},t.prototype.getDailyRecordStatus=function(e,t,n){return o(this,void 0,void 0,(function(){var r,i,o;return s(this,(function(s){switch(s.label){case 0:return r=n||new Date,[4,this.request.post("/ISAPI/ContentMgmt/record/tracks/"+(100*e+t)+"/dailyDistribution",l.XmlHandler.build({trackDailyParam:{year:r.getFullYear(),monthOfYear:r.getMonth()+1}}),{headers:this.headers})];case 1:return i=s.sent(),[4,l.XmlHandler.parser(i.data)];case 2:return o=s.sent(),[2,a.RTL.getDailyRecordStatus(r,o)]}}))}))},t.prototype.searchAllRecords=function(e,t,n,r){return o(this,void 0,void 0,(function(){var i,o,a,u,c;return s(this,(function(s){switch(s.label){case 0:i=!1,o=1,a=100,u=[],s.label=1;case 1:return[4,this.searchRecords(e,t,n,r,o,a)];case 2:c=s.sent(),u.push.apply(u,c.list),i=!c.hasMore,s.label=3;case 3:if(!i)return[3,1];s.label=4;case 4:return[2,u]}}))}))},t.prototype.searchRecords=function(e,t,n,r,i,u){return o(this,void 0,void 0,(function(){var o,p;return s(this,(function(s){switch(s.label){case 0:return[4,this.request.post("/ISAPI/ContentMgmt/search",l.XmlHandler.build({CMSearchDescription:{searchID:c.generateUUID(),trackList:{trackID:100*e+t},timeSpanList:{timeSpan:{startTime:c.formatDate(n,"yyyy-MM-ddThh:mm:ssZ"),endTime:c.formatDate(r,"yyyy-MM-ddThh:mm:ssZ")}},maxResults:u,searchResultPostion:(i-1)*u,metadataList:{metadataDescriptor:"recordType.meta.std-cgi.com"}}}),{headers:this.headers})];case 1:return o=s.sent(),[4,l.XmlHandler.parser(o.data)];case 2:return p=s.sent(),[2,a.RTL.searchRecords(p)]}}))}))},t.prototype.getChannelConnect=function(){return new u.ChannelConnection(this)},t}(n(55).Base);t.Nvr=p},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelConnection=void 0;var u=a(n(72)),c=n(79),l=n(19),p=n(129),h=function(e){function t(t){var n=e.call(this)||this;return n.isPlay=!1,n.isOpenStream=!1,n.isPause=!1,n.isFirstFrame=!1,n.isGetYUV=!1,n.isInput=!1,n.streamOpenMode=null,n.inputMaxBufSize=5242880,n.isPlayRateChange=!1,n.inputDataLengths=[],n.inputDataBuffer=[],n.videoFrameBuffer=[],n.decodeFrameType=0,n.rate=1,n.isInputBufferOver=!1,n.inputDataLength=5e3,n.width=0,n.height=0,n.isVisible=!0,n.isDestroyed=!1,n.bmpCallback=null,n.jpegCallback=null,n.nvr=t,n}return i(t,e),t.prototype.init=function(){var e=this;return new Promise((function(t,n){Promise.all([e.initDecodeWorker(),e.initWebSocket()]).then((function(){return t()})).catch((function(e){console.log(e),n(e)}))}))},t.prototype.initDecodeWorker=function(){return o(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t){var n=e;e.worker=p.BlobWorker.fromText(c.getDecodeWorker(l.isBrowser(),e.nvr.getWasmUrl())),e.worker.addEventListener("message",(function(e){var r=e.data;switch(r.function){case"loaded":t();break;case"GetFrameData":if(!n.isFirstFrame&&31===r.errorCode){n.isInputBufferOver=!1,setTimeout((function(){return n.inputDataFun()}),5);break}if(n.isInputBufferOver?n.inputDataFun():"videoType"===r.type&&(n.inputDataLengths.length>0&&n.isInput?(n.inputDataFun(),n.isInput=!1):(n.isGetYUV=!0,n.isFirstFrame=!1)),n.isVisible)switch(r.type){case"videoType":if(null==r.data||null==r.frameInfo)return 1;n.isFirstFrame=!1,n.width=r.frameInfo.width,n.height=r.frameInfo.height;var i={data:r.data,width:r.frameInfo.width,height:r.frameInfo.height,osdTime:r.osd};n.videoFrameBuffer.push(i),n.dispatchEvent({type:"video",data:i}),n.videoFrameBuffer.length>3&&n.videoFrameBuffer.splice(0,1)}break;case"GetBMP":n.bmpCallback&&n.bmpCallback(r.data);break;case"GetJPEG":n.jpegCallback&&n.jpegCallback(r.data)}}))}))]}))}))},t.prototype.initWebSocket=function(){var e=this;return new Promise((function(n){return o(e,void 0,void 0,(function(){var e,r=this;return s(this,(function(i){switch(i.label){case 0:return[4,this.nvr.getWebsocketUrl()];case 1:return e=i.sent(),this.websocket=l.isBrowser()?new WebSocket(e):new u.default(e),this.websocket.binaryType="arraybuffer",this.websocket.addEventListener("close",(function(){r.isDestroyed||r.dispatchEvent({type:"close",data:"websocket"})})),this.websocket.addEventListener("open",(function(){n()})),this.websocket.addEventListener("message",(function(e){if("string"==typeof e.data){var n=JSON.parse(e.data);if(n&&n.version&&n.cipherSuite)return void r.websocket.send(r.nvr.getPlayCommand(1));if(n&&n.sdp){var i=t.getMediaFromSdp(n.sdp);r.decode({isHead:!0,buffer:i})}}else{var o=void 0,s=new Uint8Array(e.data);if(64===s.byteLength||40===s.byteLength){for(var a=-1,u=s.byteLength,c=0;c<u;c++)if(73===s[c]&&77===s[c+1]&&75===s[c+2]&&72===s[c+3]){a=c;break}o=-1!==a?{isHead:!0,buffer:s.slice(a,a+40)}:{isHead:!1,buffer:s}}else o={isHead:!1,buffer:s};r.dispatchEvent({type:"raw-data",data:o.buffer}),r.decode(o)}})),[2]}}))}))}))},t.prototype.destroy=function(){this.isDestroyed=!0,this.isPlay=!1,this.websocket&&this.websocket.close(),this.worker&&this.worker.terminate()},t.prototype.openStream=function(e,t,n){null!=this.worker&&(null==e||t<=0||n<=0||(this.isPlay=!1,this.isPause=!1,this.isFirstFrame=!0,this.isGetYUV=!1,this.isInput=!1,this.worker.postMessage({command:"SetStreamOpenMode",data:this.streamOpenMode}),this.worker.postMessage({command:"OpenStream",data:e,dataSize:t,bufPoolSize:n}),this.isOpenStream=!0))},t.prototype.setStreamOpenMode=function(e){this.streamOpenMode=e},t.prototype.setInputBufSize=function(e){this.inputMaxBufSize=e},t.prototype.play=function(){return null!==this.worker&&this.isOpenStream?this.isPlay?0:(this.isPlay=!0,this.isPause=!1,void(this.isPlayRateChange=!1)):2},t.prototype.setDecodeFrameType=function(e){this.decodeFrameType=e,this.worker.postMessage({command:"SetDecodeFrameType",data:e})},t.prototype.inputDataFun=function(){var e,t=0;if(this.isGetYUV=!1,this.isInputBufferOver)e=new Uint8Array(1);else{for(;this.inputDataLengths.length>0&&(t+=this.inputDataLengths.shift()||0)<=this.inputDataLength;);e=this.inputDataBuffer.splice(0,t)}var n={command:"InputData",data:new Uint8Array(e).buffer,dataSize:t};this.isPlay&&!this.isPause&&this.worker.postMessage(n,[n.data])},t.prototype.inputData=function(e,t){if(null===this.worker||!this.isOpenStream)return 2;var n=this.inputDataBuffer.length;if(4===t){var r=new Uint8Array(e.buffer);if(1===r[0]&&2===r[1]&&3===r[2]&&4===r[3])return this.isFirstFrame||this.isGetYUV?this.inputDataFun():this.isInput=!0,0}if(n>this.inputMaxBufSize)return 11;var i=null,o=t;switch(this.streamOpenMode){case 1:i=new Uint8Array(e.buffer),this.inputDataLengths.push(t);break;case 0:o=t+4;var s=new Uint32Array([t]),a=new Uint8Array(s.buffer);(i=new Uint8Array(o)).set(a,0),i.set(e,4),this.inputDataLengths.push(t+4);break;default:return 16}for(var u=0;u<o;u++)this.inputDataBuffer[n+u]=i[u];this.isFirstFrame||this.isGetYUV?this.inputDataFun():this.isInput=!0},t.prototype.decode=function(e){if(e.isHead&&!this.isPlay)this.isPlay=!0,this.aHead=new Uint8Array(e.buffer),this.openStream(e.buffer,40,2097152),this.setStreamOpenMode(4===this.aHead[8]?0:1),this.setInputBufSize(4194304),this.play();else{var t=new Uint8Array(e.buffer),n=this.inputDataBuffer.length,r=this.videoFrameBuffer.length;2!==r||this.isFirstFrame||(this.isFirstFrame=!0);var i=this.decodeFrameType;2097152<n&&n<3355443.2&&1===this.rate?1!==i&&this.setDecodeFrameType(1):3355443.2<=n&&(t=new Uint8Array([1,2,3,4])),r>10&&r<15?1!==i&&this.setDecodeFrameType(1):r>15&&(t=new Uint8Array([1,2,3,4])),r<10&&n<2097152&&0!==i&&this.setDecodeFrameType(0),this.inputData(t,t.length)}},t.getMediaFromSdp=function(e){for(var t=e.indexOf("MEDIAINFO=")+10,n=e.slice(t,t+80),r=[],i=n.length/2,o=0;o<i;o++)r[o]=parseInt(n.slice(2*o,2*o+2),16);return new Uint8Array(r)},t.prototype.startRealPlay=function(e){this.websocket.send('{"sequence":0,"cmd":"realplay","url":"live://'+this.nvr.getIp()+":7681/"+(32+e)+'/1"}')},t.prototype.startPlayback=function(e,t,n){var r="yyyy-MM-ddThh:mm:ssZ",i=l.formatDate(t,r),o=l.formatDate(n,r);this.websocket.send('{"sequence":0,"cmd":"playback","url":"live://'+this.nvr.getIp()+":7681/"+(32+e)+'/0","startTime":"'+i+'","endTime":"'+o+'"}')},t.prototype.getHead=function(){return this.aHead},t.prototype.getBmp=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.getImage(e,"bmp")]}))}))},t.prototype.getJpeg=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.getImage(e,"jpeg")]}))}))},t.arrayBufferCopy=function(e){for(var t=e.byteLength,n=new Uint8Array(e),r=new Uint8Array(t),i=0;i<t;i++)r[i]=n[i];return r},t.prototype.getImage=function(e,n){return o(this,void 0,void 0,(function(){var r=this;return s(this,(function(i){return[2,new Promise((function(i){var o={command:"jpeg"===n?"GetJPEG":"GetBMP",data:t.arrayBufferCopy(e.data).buffer,width:e.width,height:e.height,rect:{left:0,top:0,right:0,bottom:0}};"jpeg"===n?r.jpegCallback=function(e){i(e)}:r.bmpCallback=function(e){i(e)},r.worker.postMessage(o,[o.data])}))]}))}))},t}(n(91).EventEmitter);t.ChannelConnection=h},function(e,t,n){"use strict";const r=n(41);r.createWebSocketStream=n(77),r.Server=n(78),r.Receiver=n(43),r.Sender=n(45),e.exports=r},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";const r=Symbol("kDone"),i=Symbol("kRun");e.exports=class{constructor(e){this[r]=()=>{this.pending--,this[i]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[i]()}[i](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[r])}}}},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const u={addEventListener(e,t,n){if("function"!=typeof t)return;function r(e){t.call(this,new i(e,this))}function u(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function l(){t.call(this,new s(this))}const p=n&&n.once?"once":"on";"message"===e?(r._listener=t,this[p](e,r)):"close"===e?(u._listener=t,this[p](e,u)):"error"===e?(c._listener=t,this[p](e,c)):"open"===e?(l._listener=t,this[p](e,l)):this[p](e,t)},removeEventListener(e,t){const n=this.listeners(e);for(let r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=u},function(e,t,n){"use strict";const{Duplex:r}=n(12);function i(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;function a(){n&&e._socket.resume()}e.readyState===e.CONNECTING?e.once("open",(function(){e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a)})):(e._receiver.removeAllListeners("drain"),e._receiver.on("drain",a));const u=new r({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t){u.push(t)||(n=!1,e._socket.pause())})),e.once("error",(function(e){u.destroyed||u.destroy(e)})),e.once("close",(function(){u.destroyed||u.push(null)})),u._destroy=function(t,n){if(e.readyState===e.CLOSED)return n(t),void process.nextTick(i,u);let r=!1;e.once("error",(function(e){r=!0,n(e)})),e.once("close",(function(){r||n(t),process.nextTick(i,u)})),e.terminate()},u._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),u._readableState.endEmitted&&u.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){u._final(t)}))},u._read=function(){e.readyState!==e.OPEN||n||(n=!0,e._receiver._writableState.needDrain||e._socket.resume())},u._write=function(t,n,r){e.readyState!==e.CONNECTING?e.send(t,r):e.once("open",(function(){u._write(t,n,r)}))},u.on("end",o),u.on("error",s),u}},function(e,t,n){"use strict";const r=n(7),{createHash:i}=n(17),{createServer:o,STATUS_CODES:s}=n(9),a=n(10),u=n(41),{format:c,parse:l}=n(46),{GUID:p,kWebSocket:h}=n(5),d=/^[+/0-9A-Za-z]{22}==$/;function f(e){e.emit("close")}function m(){this.destroy()}function y(e,t,n,r){e.writable&&(n=n||s[t],r={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...r},e.write(`HTTP/1.1 ${t} ${s[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",m),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e={maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,...e}).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=o((e,t)=>{const n=s[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(e&&this.once("close",e),this.clients)for(const e of this.clients)e.terminate();const t=this._server;t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port)?t.close(()=>this.emit("close")):process.nextTick(f,this)}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,r){t.on("error",m);const i=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"].trim(),o=+e.headers["sec-websocket-version"],s={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!i||!d.test(i)||8!==o&&13!==o||!this.shouldHandle(e))return y(t,400);if(this.options.perMessageDeflate){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=l(e.headers["sec-websocket-extensions"]);t[a.extensionName]&&(n.accept(t[a.extensionName]),s[a.extensionName]=n)}catch(e){return y(t,400)}}if(this.options.verifyClient){const a={origin:e.headers[""+(8===o?"sec-websocket-origin":"origin")],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(a,(o,a,u,c)=>{if(!o)return y(t,a||401,u,c);this.completeUpgrade(i,s,e,t,n,r)});if(!this.options.verifyClient(a))return y(t,401)}this.completeUpgrade(i,s,e,t,n,r)}completeUpgrade(e,t,n,r,o,s){if(!r.readable||!r.writable)return r.destroy();if(r[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade","Sec-WebSocket-Accept: "+i("sha1").update(e+p).digest("base64")],d=new u(null);let f=n.headers["sec-websocket-protocol"];if(f&&(f=f.trim().split(/ *, */),f=this.options.handleProtocols?this.options.handleProtocols(f,n):f[0],f&&(l.push("Sec-WebSocket-Protocol: "+f),d.protocol=f)),t[a.extensionName]){const e=t[a.extensionName].params,n=c({[a.extensionName]:[e]});l.push("Sec-WebSocket-Extensions: "+n),d._extensions=t}this.emit("headers",l,n),r.write(l.concat("\r\n").join("\r\n")),r.removeListener("error",m),d.setSocket(r,o,this.options.maxPayload),this.clients&&(this.clients.add(d),d.on("close",()=>this.clients.delete(d))),s(d)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDecodeWorker=void 0,t.getDecodeWorker=function(e,t){var n="postMessage";return" \n(function(event) {\n  const AUDIO_TYPE = 0;\t// 音频\n  const VIDEO_TYPE = 1; // 视频\n  const PRIVT_TYPE = 2; // 私有帧\n\n  const PLAYM4_AUDIO_FRAME = 100; // 音频帧\n  const PLAYM4_VIDEO_FRAME = 101; // 视频帧\n\n  const HK_TRUE = 1; // true\n  const PLAYM4_NEED_MORE_DATA = 31; // 需要更多数据才能解析\n  const PLAYM4_SYS_NOT_SUPPORT = 16; \t// 不支持\n\n  let Module;\n  if (!Module) Module = (typeof Module !== 'undefined' ? Module : null) || {};\n  let moduleOverrides = {};\n  for (let key in Module) {\n    if (Module.hasOwnProperty(key)) {\n      moduleOverrides[key] = Module[key];\n    }\n  }\n  const ENVIRONMENT_IS_WEB = true;\n  const ENVIRONMENT_IS_WORKER = typeof importScripts === 'function';\n  const ENVIRONMENT_IS_NODE = typeof process === 'object' && typeof require === 'function' && !ENVIRONMENT_IS_WEB && !ENVIRONMENT_IS_WORKER;\n  if (ENVIRONMENT_IS_NODE) {\n    if (!Module['print']) Module['print'] = console.log;\n    if (!Module['printErr']) Module['printErr'] = console.warn;\n    let nodeFS;\n    let nodePath;\n    Module['read'] = function shell_read(filename, binary) {\n      if (!nodeFS) nodeFS = require('fs');\n      if (!nodePath) nodePath = require('path');\n      filename = nodePath['normalize'](filename);\n      const ret = nodeFS['readFileSync'](filename);\n      return binary ? ret : ret.toString();\n    };\n    Module['readBinary'] = function readBinary(filename) {\n      let ret = Module['read'](filename, true);\n      if (!ret.buffer) {\n        ret = new Uint8Array(ret);\n      }\n      assert(ret.buffer);\n      return ret;\n    };\n    Module['load'] = function load(f) {\n      globalEval(read(f));\n    };\n    if (!Module['thisProgram']) {\n      if (process['argv'].length > 1) {\n        Module['thisProgram'] = process['argv'][1].replace(/\\\\/g, '/');\n      } else {\n        Module['thisProgram'] = 'unknown-program';\n      }\n    }\n    Module['arguments'] = process['argv'].slice(2);\n    if (typeof module !== 'undefined') {\n      module['exports'] = Module;\n    }\n    process['on']('uncaughtException', function(ex) {\n      if (!(ex instanceof ExitStatus)) {\n        throw ex;\n      }\n    });\n    Module['inspect'] = function() {\n      return '[Emscripten Module object]';\n    };\n  } else if (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) {\n    Module['read'] = function shell_read(url) {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, false);\n      xhr.send(null);\n      return xhr.responseText;\n    };\n    if (ENVIRONMENT_IS_WORKER) {\n      Module['readBinary'] = function readBinary(url) {\n        const xhr = new XMLHttpRequest();\n        xhr.open('GET', url, false);\n        xhr.responseType = 'arraybuffer';\n        xhr.send(null);\n        return new Uint8Array(xhr.response);\n      };\n    }\n    Module['readAsync'] = function readAsync(url, onload, onerror) {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, true);\n      xhr.responseType = 'arraybuffer';\n      xhr.onload = function xhr_onload() {\n        if (xhr.status === 200 || xhr.status === 0 && xhr.response) {\n          onload(xhr.response);\n        } else {\n          onerror();\n        }\n      };\n      xhr.onerror = onerror;\n      xhr.send(null);\n    };\n    if (typeof arguments !== 'undefined') {\n      Module['arguments'] = arguments;\n    }\n    if (typeof console !== 'undefined') {\n      if (!Module['print']) Module['print'] = function shell_print(x) {\n        console.log(x);\n      };\n      if (!Module['printErr']) Module['printErr'] = function shell_printErr(x) {\n        console.warn(x);\n      };\n    } else {\n      const TRY_USE_DUMP = false;\n      if (!Module['print']) Module['print'] = TRY_USE_DUMP && typeof dump !== 'undefined' ? function(x) {\n        dump(x);\n      } : function(x) {\n      };\n    }\n    if (ENVIRONMENT_IS_WORKER) {\n      Module['load'] = importScripts;\n    }\n    if (typeof Module['setWindowTitle'] === 'undefined') {\n      Module['setWindowTitle'] = function(title) {\n        document.title = title;\n      };\n    }\n  } else {\n    throw 'Unknown runtime environment. Where are we?';\n  }\n\n  function globalEval(x) {\n    eval.call(null, x);\n  }\n\n  if (!Module['load'] && Module['read']) {\n    Module['load'] = function load(f) {\n      globalEval(Module['read'](f));\n    };\n  }\n  if (!Module['print']) {\n    Module['print'] = function() {\n    };\n  }\n  if (!Module['printErr']) {\n    Module['printErr'] = Module['print'];\n  }\n  if (!Module['arguments']) {\n    Module['arguments'] = [];\n  }\n  if (!Module['thisProgram']) {\n    Module['thisProgram'] = './this.program';\n  }\n  if (!Module['quit']) {\n    Module['quit'] = function(status, toThrow) {\n      throw toThrow;\n    };\n  }\n  Module.print = Module['print'];\n  Module.printErr = Module['printErr'];\n  Module['preRun'] = [];\n  Module['postRun'] = [];\n  for (let key in moduleOverrides) {\n    if (moduleOverrides.hasOwnProperty(key)) {\n      Module[key] = moduleOverrides[key];\n    }\n  }\n  moduleOverrides = undefined;\n  const Runtime = {\n    setTempRet0: function(value) {\n      tempRet0 = value;\n      return value;\n    }, getTempRet0: function() {\n      return tempRet0;\n    }, stackSave: function() {\n      return STACKTOP;\n    }, stackRestore: function(stackTop) {\n      STACKTOP = stackTop;\n    }, getNativeTypeSize: function(type) {\n      switch (type) {\n        case 'i1':\n        case 'i8':\n          return 1;\n        case 'i16':\n          return 2;\n        case 'i32':\n          return 4;\n        case 'i64':\n          return 8;\n        case 'float':\n          return 4;\n        case 'double':\n          return 8;\n        default: {\n          if (type[type.length - 1] === '*') {\n            return Runtime.QUANTUM_SIZE;\n          } else if (type[0] === 'i') {\n            const bits = parseInt(type.substr(1));\n            assert(bits % 8 === 0);\n            return bits / 8;\n          } else {\n            return 0;\n          }\n        }\n      }\n    }, getNativeFieldSize: function(type) {\n      return Math.max(Runtime.getNativeTypeSize(type), Runtime.QUANTUM_SIZE);\n    }, STACK_ALIGN: 16, prepVararg: function(ptr, type) {\n      if (type === 'double' || type === 'i64') {\n        if ((ptr & 7) !== 0) {\n          assert((ptr & 7) === 4);\n          ptr += 4;\n        }\n      } else {\n        assert((ptr & 3) === 0);\n      }\n      return ptr;\n    }, getAlignSize: function(type, size, vararg) {\n      if (!vararg && (type === 'i64' || type === 'double')) return 8;\n      if (!type) return Math.min(size, 8);\n      return Math.min(size || (type ? Runtime.getNativeFieldSize(type) : 0), Runtime.QUANTUM_SIZE);\n    }, dynCall: function(sig, ptr, args) {\n      if (args && args.length) {\n        return Module['dynCall_' + sig].apply(null, [ptr].concat(args));\n      } else {\n        return Module['dynCall_' + sig].call(null, ptr);\n      }\n    }, functionPointers: [], warnOnce: function(text) {\n      if (!Runtime.warnOnce.shown) Runtime.warnOnce.shown = {};\n      if (!Runtime.warnOnce.shown[text]) {\n        Runtime.warnOnce.shown[text] = 1;\n        Module.printErr(text);\n      }\n    }, funcWrappers: {}, getFuncWrapper: function(func, sig) {\n      if (!func) return;\n      assert(sig);\n      if (!Runtime.funcWrappers[sig]) {\n        Runtime.funcWrappers[sig] = {};\n      }\n      var sigCache = Runtime.funcWrappers[sig];\n      if (!sigCache[func]) {\n        if (sig.length === 1) {\n          sigCache[func] = function dynCall_wrapper() {\n            return Runtime.dynCall(sig, func);\n          };\n        } else if (sig.length === 2) {\n          sigCache[func] = function dynCall_wrapper(arg) {\n            return Runtime.dynCall(sig, func, [arg]);\n          };\n        } else {\n          sigCache[func] = function dynCall_wrapper() {\n            return Runtime.dynCall(sig, func, Array.prototype.slice.call(arguments));\n          };\n        }\n      }\n      return sigCache[func];\n    }, getCompilerSetting: function(name) {\n      throw 'You must build with -s RETAIN_COMPILER_SETTINGS=1 for Runtime.getCompilerSetting or emscripten_get_compiler_setting to work';\n    }, stackAlloc: function(size) {\n      var ret = STACKTOP;\n      STACKTOP = STACKTOP + size | 0;\n      STACKTOP = STACKTOP + 15 & -16;\n      return ret;\n    }, staticAlloc: function(size) {\n      var ret = STATICTOP;\n      STATICTOP = STATICTOP + size | 0;\n      STATICTOP = STATICTOP + 15 & -16;\n      return ret;\n    }, dynamicAlloc: function(size) {\n      var ret = HEAP32[DYNAMICTOP_PTR >> 2];\n      var end = (ret + size + 15 | 0) & -16;\n      HEAP32[DYNAMICTOP_PTR >> 2] = end;\n      if (end >= TOTAL_MEMORY) {\n        var success = enlargeMemory();\n        if (!success) {\n          HEAP32[DYNAMICTOP_PTR >> 2] = ret;\n          return 0;\n        }\n      }\n      return ret;\n    }, alignMemory: function(size, quantum) {\n      var ret = size = Math.ceil(size / (quantum || 16)) * (quantum || 16);\n      return ret;\n    }, makeBigInt: function(low, high, unsigned) {\n      var ret = unsigned ? +(low >>> 0) + +(high >>> 0) * 4294967296 : +(low >>> 0) + +(high | 0) * 4294967296;\n      return ret;\n    }, GLOBAL_BASE: 1024, QUANTUM_SIZE: 4, __dummy__: 0\n  };\n  Module['Runtime'] = Runtime;\n  var ABORT = 0;\n  var EXITSTATUS = 0;\n\n  function assert(condition, text) {\n    if (!condition) {\n      abort('Assertion failed: ' + text);\n    }\n  }\n\n  function getCFunc(ident) {\n    var func = Module['_' + ident];\n    if (!func) {\n      try {\n        func = eval('_' + ident);\n      } catch (e) {\n      }\n    }\n    assert(func, 'Cannot call unknown function ' + ident + ' (perhaps LLVM optimizations or closure removed it?)');\n    return func;\n  }\n\n  var cwrap, ccall;\n  (function() {\n    var JSfuncs = {\n      'stackSave': function() {\n        Runtime.stackSave();\n      }, 'stackRestore': function() {\n        Runtime.stackRestore();\n      }, 'arrayToC': function(arr) {\n        var ret = Runtime.stackAlloc(arr.length);\n        writeArrayToMemory(arr, ret);\n        return ret;\n      }, 'stringToC': function(str) {\n        var ret = 0;\n        if (str !== null && str !== undefined && str !== 0) {\n          var len = (str.length << 2) + 1;\n          ret = Runtime.stackAlloc(len);\n          stringToUTF8(str, ret, len);\n        }\n        return ret;\n      }\n    };\n    var toC = { 'string': JSfuncs['stringToC'], 'array': JSfuncs['arrayToC'] };\n    ccall = function ccallFunc(ident, returnType, argTypes, args, opts) {\n      var func = getCFunc(ident);\n      var cArgs = [];\n      var stack = 0;\n      if (args) {\n        for (let i = 0; i < args.length; i++) {\n          var converter = toC[argTypes[i]];\n          if (converter) {\n            if (stack === 0) stack = Runtime.stackSave();\n            cArgs[i] = converter(args[i]);\n          } else {\n            cArgs[i] = args[i];\n          }\n        }\n      }\n      var ret = func.apply(null, cArgs);\n      if (returnType === 'string') ret = Pointer_stringify(ret);\n      if (stack !== 0) {\n        if (opts && opts.async) {\n          EmterpreterAsync.asyncFinalizers.push(function() {\n            Runtime.stackRestore(stack);\n          });\n          return;\n        }\n        Runtime.stackRestore(stack);\n      }\n      return ret;\n    };\n    var sourceRegex = /^function\\s*[a-zA-Z$_0-9]*\\s*\\(([^)]*)\\)\\s*{\\s*([^*]*?)[\\s;]*(?:return\\s*(.*?)[;\\s]*)?}$/;\n\n    function parseJSFunc(jsfunc) {\n      var parsed = jsfunc.toString().match(sourceRegex).slice(1);\n      return { arguments: parsed[0], body: parsed[1], returnValue: parsed[2] };\n    }\n\n    var JSsource = null;\n\n    function ensureJSsource() {\n      if (!JSsource) {\n        JSsource = {};\n        for (let fun in JSfuncs) {\n          if (JSfuncs.hasOwnProperty(fun)) {\n            JSsource[fun] = parseJSFunc(JSfuncs[fun]);\n          }\n        }\n      }\n    }\n\n    cwrap = function cwrap(ident, returnType, argTypes) {\n      argTypes = argTypes || [];\n      var cfunc = getCFunc(ident);\n      var numericArgs = argTypes.every(function(type) {\n        return type === 'number';\n      });\n      var numericRet = returnType !== 'string';\n      if (numericRet && numericArgs) {\n        return cfunc;\n      }\n      var argNames = argTypes.map(function(x, i) {\n        return '$' + i;\n      });\n      var funcstr = '(function(' + argNames.join(',') + ') {';\n      var nargs = argTypes.length;\n      if (!numericArgs) {\n        ensureJSsource();\n        funcstr += 'var stack = ' + JSsource['stackSave'].body + ';';\n        for (let i = 0; i < nargs; i++) {\n          var arg = argNames[i];\n          var type = argTypes[i];\n          if (type === 'number') continue;\n          var convertCode = JSsource[type + 'ToC'];\n          funcstr += 'var ' + convertCode.arguments + ' = ' + arg + ';';\n          funcstr += convertCode.body + ';';\n          funcstr += arg + '=(' + convertCode.returnValue + ');';\n        }\n      }\n      var cfuncname = parseJSFunc(function() {\n        return cfunc;\n      }).returnValue;\n      funcstr += 'var ret = ' + cfuncname + '(' + argNames.join(',') + ');';\n      if (!numericRet) {\n        const strgfy = parseJSFunc(function() {\n          return Pointer_stringify;\n        }).returnValue;\n        funcstr += 'ret = ' + strgfy + '(ret);';\n      }\n      if (!numericArgs) {\n        ensureJSsource();\n        funcstr += JSsource['stackRestore'].body.replace('()', '(stack)') + ';';\n      }\n      funcstr += 'return ret})';\n      return eval(funcstr);\n    };\n  })();\n  Module['ccall'] = ccall;\n  Module['cwrap'] = cwrap;\n\n  function setValue(ptr, value, type, noSafe) {\n    type = type || 'i8';\n    if (type.charAt(type.length - 1) === '*') type = 'i32';\n    switch (type) {\n      case 'i1':\n        HEAP8[ptr >> 0] = value;\n        break;\n      case 'i8':\n        HEAP8[ptr >> 0] = value;\n        break;\n      case 'i16':\n        HEAP16[ptr >> 1] = value;\n        break;\n      case 'i32':\n        HEAP32[ptr >> 2] = value;\n        break;\n      case 'i64':\n        tempI64 = [value >>> 0, (tempDouble = value, +Math_abs(tempDouble) >= 1 ? tempDouble > 0 ? (Math_min(+Math_floor(tempDouble / 4294967296), 4294967295) | 0) >>> 0 : ~~+Math_ceil((tempDouble - +(~~tempDouble >>> 0)) / 4294967296) >>> 0 : 0)], HEAP32[ptr >> 2] = tempI64[0], HEAP32[ptr + 4 >> 2] = tempI64[1];\n        break;\n      case 'float':\n        HEAPF32[ptr >> 2] = value;\n        break;\n      case 'double':\n        HEAPF64[ptr >> 3] = value;\n        break;\n      default:\n        abort('invalid type for setValue: ' + type);\n    }\n  }\n\n  Module['setValue'] = setValue;\n\n  function getValue(ptr, type, noSafe) {\n    type = type || 'i8';\n    if (type.charAt(type.length - 1) === '*') type = 'i32';\n    switch (type) {\n      case 'i1':\n        return HEAP8[ptr >> 0];\n      case 'i8':\n        return HEAP8[ptr >> 0];\n      case 'i16':\n        return HEAP16[ptr >> 1];\n      case 'i32':\n        return HEAP32[ptr >> 2];\n      case 'i64':\n        return HEAP32[ptr >> 2];\n      case 'float':\n        return HEAPF32[ptr >> 2];\n      case 'double':\n        return HEAPF64[ptr >> 3];\n      default:\n        abort('invalid type for setValue: ' + type);\n    }\n    return null;\n  }\n\n  Module['getValue'] = getValue;\n  var ALLOC_NORMAL = 0;\n  var ALLOC_STACK = 1;\n  var ALLOC_STATIC = 2;\n  var ALLOC_DYNAMIC = 3;\n  var ALLOC_NONE = 4;\n  Module['ALLOC_NORMAL'] = ALLOC_NORMAL;\n  Module['ALLOC_STACK'] = ALLOC_STACK;\n  Module['ALLOC_STATIC'] = ALLOC_STATIC;\n  Module['ALLOC_DYNAMIC'] = ALLOC_DYNAMIC;\n  Module['ALLOC_NONE'] = ALLOC_NONE;\n\n  function allocate(slab, types, allocator, ptr) {\n    var zeroinit, size;\n    if (typeof slab === 'number') {\n      zeroinit = true;\n      size = slab;\n    } else {\n      zeroinit = false;\n      size = slab.length;\n    }\n    var singleType = typeof types === 'string' ? types : null;\n    var ret;\n    if (allocator === ALLOC_NONE) {\n      ret = ptr;\n    } else {\n      ret = [typeof _malloc === 'function' ? _malloc : Runtime.staticAlloc, Runtime.stackAlloc, Runtime.staticAlloc, Runtime.dynamicAlloc][allocator === undefined ? ALLOC_STATIC : allocator](Math.max(size, singleType ? 1 : types.length));\n    }\n    if (zeroinit) {\n      var ptr = ret;\n      var stop;\n      assert((ret & 3) === 0);\n      stop = ret + (size & ~3);\n      for (; ptr < stop; ptr += 4) {\n        HEAP32[ptr >> 2] = 0;\n      }\n      stop = ret + size;\n      while (ptr < stop) {\n        HEAP8[ptr++ >> 0] = 0;\n      }\n      return ret;\n    }\n    if (singleType === 'i8') {\n      if (slab.subarray || slab.slice) {\n        HEAPU8.set(slab, ret);\n      } else {\n        HEAPU8.set(new Uint8Array(slab), ret);\n      }\n      return ret;\n    }\n    var i = 0;\n    var type;\n    var typeSize;\n    var previousType;\n    while (i < size) {\n      var curr = slab[i];\n      if (typeof curr === 'function') {\n        curr = Runtime.getFunctionIndex(curr);\n      }\n      type = singleType || types[i];\n      if (type === 0) {\n        i++;\n        continue;\n      }\n      if (type === 'i64') type = 'i32';\n      setValue(ret + i, curr, type);\n      if (previousType !== type) {\n        typeSize = Runtime.getNativeTypeSize(type);\n        previousType = type;\n      }\n      i += typeSize;\n    }\n    return ret;\n  }\n\n  Module['allocate'] = allocate;\n\n  function getMemory(size) {\n    if (!staticSealed) return Runtime.staticAlloc(size);\n    if (!runtimeInitialized) return Runtime.dynamicAlloc(size);\n    return _malloc(size);\n  }\n\n  Module['getMemory'] = getMemory;\n\n  function Pointer_stringify(ptr, length) {\n    if (length === 0 || !ptr) return '';\n    var hasUtf = 0;\n    var t;\n    var i = 0;\n    while (1) {\n      t = HEAPU8[ptr + i >> 0];\n      hasUtf |= t;\n      if (t === 0 && !length) break;\n      i++;\n      if (length && i === length) break;\n    }\n    if (!length) length = i;\n    var ret = '';\n    if (hasUtf < 128) {\n      var MAX_CHUNK = 1024;\n      var curr;\n      while (length > 0) {\n        curr = String.fromCharCode.apply(String, HEAPU8.subarray(ptr, ptr + Math.min(length, MAX_CHUNK)));\n        ret = ret ? ret + curr : curr;\n        ptr += MAX_CHUNK;\n        length -= MAX_CHUNK;\n      }\n      return ret;\n    }\n    return Module['UTF8ToString'](ptr);\n  }\n\n  Module['Pointer_stringify'] = Pointer_stringify;\n\n  function AsciiToString(ptr) {\n    var str = '';\n    while (1) {\n      var ch = HEAP8[ptr++ >> 0];\n      if (!ch) return str;\n      str += String.fromCharCode(ch);\n    }\n  }\n\n  Module['AsciiToString'] = AsciiToString;\n\n  function stringToAscii(str, outPtr) {\n    return writeAsciiToMemory(str, outPtr, false);\n  }\n\n  Module['stringToAscii'] = stringToAscii;\n  var UTF8Decoder = typeof TextDecoder !== 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(u8Array, idx) {\n    var endPtr = idx;\n    while (u8Array[endPtr]) ++endPtr;\n    if (endPtr - idx > 16 && u8Array.subarray && UTF8Decoder) {\n      return UTF8Decoder.decode(u8Array.subarray(idx, endPtr));\n    } else {\n      var u0, u1, u2, u3, u4, u5;\n      var str = '';\n      while (1) {\n        u0 = u8Array[idx++];\n        if (!u0) return str;\n        if (!(u0 & 128)) {\n          str += String.fromCharCode(u0);\n          continue;\n        }\n        u1 = u8Array[idx++] & 63;\n        if ((u0 & 224) === 192) {\n          str += String.fromCharCode((u0 & 31) << 6 | u1);\n          continue;\n        }\n        u2 = u8Array[idx++] & 63;\n        if ((u0 & 240) === 224) {\n          u0 = (u0 & 15) << 12 | u1 << 6 | u2;\n        } else {\n          u3 = u8Array[idx++] & 63;\n          if ((u0 & 248) === 240) {\n            u0 = (u0 & 7) << 18 | u1 << 12 | u2 << 6 | u3;\n          } else {\n            u4 = u8Array[idx++] & 63;\n            if ((u0 & 252) === 248) {\n              u0 = (u0 & 3) << 24 | u1 << 18 | u2 << 12 | u3 << 6 | u4;\n            } else {\n              u5 = u8Array[idx++] & 63;\n              u0 = (u0 & 1) << 30 | u1 << 24 | u2 << 18 | u3 << 12 | u4 << 6 | u5;\n            }\n          }\n        }\n        if (u0 < 65536) {\n          str += String.fromCharCode(u0);\n        } else {\n          var ch = u0 - 65536;\n          str += String.fromCharCode(55296 | ch >> 10, 56320 | ch & 1023);\n        }\n      }\n    }\n  }\n\n  Module['UTF8ArrayToString'] = UTF8ArrayToString;\n\n  function UTF8ToString(ptr) {\n    return UTF8ArrayToString(HEAPU8, ptr);\n  }\n\n  Module['UTF8ToString'] = UTF8ToString;\n\n  function stringToUTF8Array(str, outU8Array, outIdx, maxBytesToWrite) {\n    if (!(maxBytesToWrite > 0)) return 0;\n    var startIdx = outIdx;\n    var endIdx = outIdx + maxBytesToWrite - 1;\n    for (let i = 0; i < str.length; ++i) {\n      var u = str.charCodeAt(i);\n      if (u >= 55296 && u <= 57343) u = 65536 + ((u & 1023) << 10) | str.charCodeAt(++i) & 1023;\n      if (u <= 127) {\n        if (outIdx >= endIdx) break;\n        outU8Array[outIdx++] = u;\n      } else if (u <= 2047) {\n        if (outIdx + 1 >= endIdx) break;\n        outU8Array[outIdx++] = 192 | u >> 6;\n        outU8Array[outIdx++] = 128 | u & 63;\n      } else if (u <= 65535) {\n        if (outIdx + 2 >= endIdx) break;\n        outU8Array[outIdx++] = 224 | u >> 12;\n        outU8Array[outIdx++] = 128 | u >> 6 & 63;\n        outU8Array[outIdx++] = 128 | u & 63;\n      } else if (u <= 2097151) {\n        if (outIdx + 3 >= endIdx) break;\n        outU8Array[outIdx++] = 240 | u >> 18;\n        outU8Array[outIdx++] = 128 | u >> 12 & 63;\n        outU8Array[outIdx++] = 128 | u >> 6 & 63;\n        outU8Array[outIdx++] = 128 | u & 63;\n      } else if (u <= 67108863) {\n        if (outIdx + 4 >= endIdx) break;\n        outU8Array[outIdx++] = 248 | u >> 24;\n        outU8Array[outIdx++] = 128 | u >> 18 & 63;\n        outU8Array[outIdx++] = 128 | u >> 12 & 63;\n        outU8Array[outIdx++] = 128 | u >> 6 & 63;\n        outU8Array[outIdx++] = 128 | u & 63;\n      } else {\n        if (outIdx + 5 >= endIdx) break;\n        outU8Array[outIdx++] = 252 | u >> 30;\n        outU8Array[outIdx++] = 128 | u >> 24 & 63;\n        outU8Array[outIdx++] = 128 | u >> 18 & 63;\n        outU8Array[outIdx++] = 128 | u >> 12 & 63;\n        outU8Array[outIdx++] = 128 | u >> 6 & 63;\n        outU8Array[outIdx++] = 128 | u & 63;\n      }\n    }\n    outU8Array[outIdx] = 0;\n    return outIdx - startIdx;\n  }\n\n  Module['stringToUTF8Array'] = stringToUTF8Array;\n\n  function stringToUTF8(str, outPtr, maxBytesToWrite) {\n    return stringToUTF8Array(str, HEAPU8, outPtr, maxBytesToWrite);\n  }\n\n  Module['stringToUTF8'] = stringToUTF8;\n\n  function lengthBytesUTF8(str) {\n    var len = 0;\n    for (let i = 0; i < str.length; ++i) {\n      var u = str.charCodeAt(i);\n      if (u >= 55296 && u <= 57343) u = 65536 + ((u & 1023) << 10) | str.charCodeAt(++i) & 1023;\n      if (u <= 127) {\n        ++len;\n      } else if (u <= 2047) {\n        len += 2;\n      } else if (u <= 65535) {\n        len += 3;\n      } else if (u <= 2097151) {\n        len += 4;\n      } else if (u <= 67108863) {\n        len += 5;\n      } else {\n        len += 6;\n      }\n    }\n    return len;\n  }\n\n  Module['lengthBytesUTF8'] = lengthBytesUTF8;\n  var UTF16Decoder = typeof TextDecoder !== 'undefined' ? new TextDecoder('utf-16le') : undefined;\n\n  function demangle(func) {\n    var __cxa_demangle_func = Module['___cxa_demangle'] || Module['__cxa_demangle'];\n    if (__cxa_demangle_func) {\n      try {\n        var s = func.substr(1);\n        var len = lengthBytesUTF8(s) + 1;\n        var buf = _malloc(len);\n        stringToUTF8(s, buf, len);\n        var status = _malloc(4);\n        var ret = __cxa_demangle_func(buf, 0, 0, status);\n        if (getValue(status, 'i32') === 0 && ret) {\n          return Pointer_stringify(ret);\n        }\n      } catch (e) {\n      } finally {\n        if (buf) _free(buf);\n        if (status) _free(status);\n        if (ret) _free(ret);\n      }\n      return func;\n    }\n    Runtime.warnOnce('warning: build with  -s DEMANGLE_SUPPORT=1  to link in libcxxabi demangling');\n    return func;\n  }\n\n  function demangleAll(text) {\n    var regex = /__Z[\\w\\d_]+/g;\n    return text.replace(regex, function(x) {\n      var y = demangle(x);\n      return x === y ? x : x + ' [' + y + ']';\n    });\n  }\n\n  function jsStackTrace() {\n    var err = new Error();\n    if (!err.stack) {\n      try {\n        throw new Error(0);\n      } catch (e) {\n        err = e;\n      }\n      if (!err.stack) {\n        return '(no stack trace available)';\n      }\n    }\n    return err.stack.toString();\n  }\n\n  function stackTrace() {\n    var js = jsStackTrace();\n    if (Module['extraStackTrace']) js += '\\n' + Module['extraStackTrace']();\n    return demangleAll(js);\n  }\n\n  Module['stackTrace'] = stackTrace;\n  var WASM_PAGE_SIZE = 65536;\n  var ASMJS_PAGE_SIZE = 16777216;\n\n  function alignUp(x, multiple) {\n    if (x % multiple > 0) {\n      x += multiple - x % multiple;\n    }\n    return x;\n  }\n\n  let HEAP, buffer, HEAP8, HEAPU8, HEAP16, HEAPU16, HEAP32, HEAPU32, HEAPF32, HEAPF64;\n\n  function updateGlobalBuffer(buf) {\n    Module['buffer'] = buffer = buf;\n  }\n\n  function updateGlobalBufferViews() {\n    Module['HEAP8'] = HEAP8 = new Int8Array(buffer);\n    Module['HEAP16'] = HEAP16 = new Int16Array(buffer);\n    Module['HEAP32'] = HEAP32 = new Int32Array(buffer);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buffer);\n    Module['HEAPU16'] = HEAPU16 = new Uint16Array(buffer);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buffer);\n    Module['HEAPF32'] = HEAPF32 = new Float32Array(buffer);\n    Module['HEAPF64'] = HEAPF64 = new Float64Array(buffer);\n  }\n\n  let STATIC_BASE, STATICTOP, staticSealed;\n  let STACK_BASE, STACKTOP, STACK_MAX;\n  let DYNAMIC_BASE, DYNAMICTOP_PTR;\n  STATIC_BASE = STATICTOP = STACK_BASE = STACKTOP = STACK_MAX = DYNAMIC_BASE = DYNAMICTOP_PTR = 0;\n  staticSealed = false;\n\n  function abortOnCannotGrowMemory() {\n    abort('Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value ' + TOTAL_MEMORY + ', (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ');\n  }\n\n  function enlargeMemory() {\n    abortOnCannotGrowMemory();\n  }\n\n  var TOTAL_STACK = Module['TOTAL_STACK'] || 5242880;\n  var TOTAL_MEMORY = Module['TOTAL_MEMORY'] || 134217728;\n  if (TOTAL_MEMORY < TOTAL_STACK) Module.printErr('TOTAL_MEMORY should be larger than TOTAL_STACK, was ' + TOTAL_MEMORY + '! (TOTAL_STACK=' + TOTAL_STACK + ')');\n  if (Module['buffer']) {\n    buffer = Module['buffer'];\n  } else {\n    if (typeof WebAssembly === 'object' && typeof WebAssembly.Memory === 'function') {\n      Module['wasmMemory'] = new WebAssembly.Memory({\n        'initial': TOTAL_MEMORY / WASM_PAGE_SIZE,\n        'maximum': TOTAL_MEMORY / WASM_PAGE_SIZE\n      });\n      buffer = Module['wasmMemory'].buffer;\n    } else {\n      buffer = new ArrayBuffer(TOTAL_MEMORY);\n    }\n  }\n  updateGlobalBufferViews();\n\n  function getTotalMemory() {\n    return TOTAL_MEMORY;\n  }\n\n  HEAP32[0] = 1668509029;\n  HEAP16[1] = 25459;\n  if (HEAPU8[2] !== 115 || HEAPU8[3] !== 99) throw 'Runtime error: expected the system to be little-endian!';\n  Module['HEAP'] = HEAP;\n  Module['buffer'] = buffer;\n  Module['HEAP8'] = HEAP8;\n  Module['HEAP16'] = HEAP16;\n  Module['HEAP32'] = HEAP32;\n  Module['HEAPU8'] = HEAPU8;\n  Module['HEAPU16'] = HEAPU16;\n  Module['HEAPU32'] = HEAPU32;\n  Module['HEAPF32'] = HEAPF32;\n  Module['HEAPF64'] = HEAPF64;\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      var callback = callbacks.shift();\n      if (typeof callback === 'function') {\n        callback();\n        continue;\n      }\n      var func = callback.func;\n      if (typeof func === 'number') {\n        if (callback.arg === undefined) {\n          Module['dynCall_v'](func);\n        } else {\n          Module['dynCall_vi'](func, callback.arg);\n        }\n      } else {\n        func(callback.arg === undefined ? null : callback.arg);\n      }\n    }\n  }\n\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATMAIN__ = [];\n  var __ATEXIT__ = [];\n  var __ATPOSTRUN__ = [];\n  var runtimeInitialized = false;\n  var runtimeExited = false;\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] === 'function') Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function ensureInitRuntime() {\n    if (runtimeInitialized) return;\n    runtimeInitialized = true;\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function preMain() {\n    callRuntimeCallbacks(__ATMAIN__);\n  }\n\n  function exitRuntime() {\n    callRuntimeCallbacks(__ATEXIT__);\n    runtimeExited = true;\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] === 'function') Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  Module['addOnPreRun'] = addOnPreRun;\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  Module['addOnInit'] = addOnInit;\n\n  function addOnPreMain(cb) {\n    __ATMAIN__.unshift(cb);\n  }\n\n  Module['addOnPreMain'] = addOnPreMain;\n\n  function addOnExit(cb) {\n    __ATEXIT__.unshift(cb);\n  }\n\n  Module['addOnExit'] = addOnExit;\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  Module['addOnPostRun'] = addOnPostRun;\n\n  function intArrayFromString(stringy, dontAddNull, length) {\n    var len = length > 0 ? length : lengthBytesUTF8(stringy) + 1;\n    var u8array = new Array(len);\n    var numBytesWritten = stringToUTF8Array(stringy, u8array, 0, u8array.length);\n    if (dontAddNull) u8array.length = numBytesWritten;\n    return u8array;\n  }\n\n  Module['intArrayFromString'] = intArrayFromString;\n\n  function intArrayToString(array) {\n    var ret = [];\n    for (let i = 0; i < array.length; i++) {\n      var chr = array[i];\n      if (chr > 255) {\n        chr &= 255;\n      }\n      ret.push(String.fromCharCode(chr));\n    }\n    return ret.join('');\n  }\n\n  Module['intArrayToString'] = intArrayToString;\n\n  function writeStringToMemory(string, buffer, dontAddNull) {\n    Runtime.warnOnce('writeStringToMemory is deprecated and should not be called! Use stringToUTF8() instead!');\n    var lastChar, end;\n    if (dontAddNull) {\n      end = buffer + lengthBytesUTF8(string);\n      lastChar = HEAP8[end];\n    }\n    stringToUTF8(string, buffer, Infinity);\n    if (dontAddNull) HEAP8[end] = lastChar;\n  }\n\n  Module['writeStringToMemory'] = writeStringToMemory;\n\n  function writeArrayToMemory(array, buffer) {\n    HEAP8.set(array, buffer);\n  }\n\n  Module['writeArrayToMemory'] = writeArrayToMemory;\n\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (let i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    if (!dontAddNull) HEAP8[buffer >> 0] = 0;\n  }\n\n  Module['writeAsciiToMemory'] = writeAsciiToMemory;\n  if (!Math['imul'] || Math['imul'](4294967295, 5) !== -5) Math['imul'] = function imul(a, b) {\n    var ah = a >>> 16;\n    var al = a & 65535;\n    var bh = b >>> 16;\n    var bl = b & 65535;\n    return al * bl + (ah * bl + al * bh << 16) | 0;\n  };\n  Math.imul = Math['imul'];\n  if (!Math['fround']) {\n    var froundBuffer = new Float32Array(1);\n    Math['fround'] = function(x) {\n      froundBuffer[0] = x;\n      return froundBuffer[0];\n    };\n  }\n  Math.fround = Math['fround'];\n  if (!Math['clz32']) Math['clz32'] = function(x) {\n    x = x >>> 0;\n    for (let i = 0; i < 32; i++) {\n      if (x & 1 << 31 - i) return i;\n    }\n    return 32;\n  };\n  Math.clz32 = Math['clz32'];\n  if (!Math['trunc']) Math['trunc'] = function(x) {\n    return x < 0 ? Math.ceil(x) : Math.floor(x);\n  };\n  Math.trunc = Math['trunc'];\n  const Math_abs = Math.abs;\n  const Math_ceil = Math.ceil;\n  const Math_floor = Math.floor;\n  const Math_min = Math.min;\n  let runDependencies = 0;\n  let runDependencyWatcher = null;\n  let dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  Module['addRunDependency'] = addRunDependency;\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies === 0) {\n      if (runDependencyWatcher !== null) {\n        clearInterval(runDependencyWatcher);\n        runDependencyWatcher = null;\n      }\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  Module['removeRunDependency'] = removeRunDependency;\n  Module['preloadedImages'] = {};\n  Module['preloadedAudios'] = {};\n  let memoryInitializer = null;\n\n  function integrateWasmJS() {\n    Module['wasmJSMethod'] = Module['wasmJSMethod'] || 'native-wasm';\n    let wasmBinaryFile = Module['wasmBinaryFile'] || '"+t+"';\n    if (typeof Module['locateFile'] === 'function') {\n      wasmBinaryFile = Module['locateFile'](wasmBinaryFile);\n    }\n    const wasmPageSize = 64 * 1024;\n    const asm2wasmImports = {\n      'f64-rem': function(x, y) {\n        return x % y;\n      }, 'f64-to-int': function(x) {\n        return x | 0;\n      }, 'i32s-div': function(x, y) {\n        return (x | 0) / (y | 0) | 0;\n      }, 'i32u-div': function(x, y) {\n        return (x >>> 0) / (y >>> 0) >>> 0;\n      }, 'i32s-rem': function(x, y) {\n        return (x | 0) % (y | 0) | 0;\n      }, 'i32u-rem': function(x, y) {\n        return (x >>> 0) % (y >>> 0) >>> 0;\n      }, 'debugger': function() {\n        debugger;\n      }\n    };\n    const info = { 'global': null, 'env': null, 'asm2wasm': asm2wasmImports, 'parent': Module };\n    let exports = null;\n\n    function lookupImport(mod, base) {\n      let lookup = info;\n      if (mod.indexOf('.') < 0) {\n        lookup = (lookup || {})[mod];\n      } else {\n        const parts = mod.split('.');\n        lookup = (lookup || {})[parts[0]];\n        lookup = (lookup || {})[parts[1]];\n      }\n      if (base) {\n        lookup = (lookup || {})[base];\n      }\n      if (lookup === undefined) {\n        abort('bad lookupImport to (' + mod + ').' + base);\n      }\n      return lookup;\n    }\n\n    function mergeMemory(newBuffer) {\n      const oldBuffer = Module['buffer'];\n      if (newBuffer.byteLength < oldBuffer.byteLength) {\n        Module['printErr']('the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here');\n      }\n      const oldView = new Int8Array(oldBuffer);\n      const newView = new Int8Array(newBuffer);\n      if (!memoryInitializer) {\n        oldView.set(newView.subarray(Module['STATIC_BASE'], Module['STATIC_BASE'] + Module['STATIC_BUMP']), Module['STATIC_BASE']);\n      }\n      newView.set(oldView);\n      updateGlobalBuffer(newBuffer);\n      updateGlobalBufferViews();\n    }\n\n    function fixImports(imports) {\n      if (!0) return imports;\n      const ret = {};\n      for (let i in imports) {\n        var fixed = i;\n        if (fixed[0] === '_') fixed = fixed.substr(1);\n        ret[fixed] = imports[i];\n      }\n      return ret;\n    }\n\n    function getBinary() {\n      try {\n        var binary;\n        if (Module['wasmBinary']) {\n          binary = Module['wasmBinary'];\n          binary = new Uint8Array(binary);\n        } else if (Module['readBinary']) {\n          binary = Module['readBinary'](wasmBinaryFile);\n        } else {\n          throw \"on the web, we need the wasm binary to be preloaded and set on Module['wasmBinary']. emcc.py will do that for you when generating HTML (but not JS)\";\n        }\n        return binary;\n      } catch (err) {\n        abort(err);\n      }\n    }\n\n    function getBinaryPromise() {\n      if (!Module['wasmBinary'] && (ENVIRONMENT_IS_WEB || ENVIRONMENT_IS_WORKER) && typeof fetch === 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(function(response) {\n          if (!response['ok']) {\n            throw \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\";\n          }\n          return response['arrayBuffer']();\n        });\n      }\n      return new Promise(function(resolve) {\n        resolve(getBinary());\n      });\n    }\n\n    function doNativeWasm(global, env) {\n      if (typeof WebAssembly !== 'object') {\n        Module['printErr']('no native wasm support detected');\n        return false;\n      }\n      if (!(Module['wasmMemory'] instanceof WebAssembly.Memory)) {\n        Module['printErr']('no native wasm Memory in use');\n        return false;\n      }\n      env['memory'] = Module['wasmMemory'];\n      info['global'] = { 'NaN': NaN, 'Infinity': Infinity };\n      info['global.Math'] = global.Math;\n      info['env'] = env;\n\n      function receiveInstance(instance) {\n        exports = instance.exports;\n        if (exports.memory) mergeMemory(exports.memory);\n        Module['asm'] = exports;\n        Module['usingWasm'] = true;\n        removeRunDependency('wasm-instantiate');\n      }\n\n      addRunDependency('wasm-instantiate');\n      if (Module['instantiateWasm']) {\n        try {\n          return Module['instantiateWasm'](info, receiveInstance);\n        } catch (e) {\n          Module['printErr']('Module.instantiateWasm callback failed with error: ' + e);\n          return false;\n        }\n      }\n\n      function receiveInstantiatedSource(output) {\n        receiveInstance(output['instance']);\n      }\n\n      function instantiateArrayBuffer(receiver) {\n        getBinaryPromise().then(function(binary) {\n          return WebAssembly.instantiate(binary, info);\n        }).then(receiver).catch(function(reason) {\n          Module['printErr']('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n      }\n\n      if (!Module['wasmBinary'] && typeof WebAssembly.instantiateStreaming === 'function') {\n        WebAssembly.instantiateStreaming(fetch(wasmBinaryFile, { credentials: 'same-origin' }), info).then(function(output) {\n          receiveInstantiatedSource(output);\n        }).catch(function(reason) {\n          Module['printErr']('wasm streaming compile failed: ' + reason);\n          Module['printErr']('falling back to ArrayBuffer instantiation');\n          instantiateArrayBuffer(receiveInstantiatedSource);\n        });\n      } else {\n        instantiateArrayBuffer(receiveInstantiatedSource);\n      }\n      return {};\n    }\n\n    Module['asmPreload'] = Module['asm'];\n    var asmjsReallocBuffer = Module['reallocBuffer'];\n    var wasmReallocBuffer = function(size) {\n      var PAGE_MULTIPLE = Module['usingWasm'] ? WASM_PAGE_SIZE : ASMJS_PAGE_SIZE;\n      size = alignUp(size, PAGE_MULTIPLE);\n      var old = Module['buffer'];\n      var oldSize = old.byteLength;\n      if (Module['usingWasm']) {\n        try {\n          var result = Module['wasmMemory'].grow((size - oldSize) / wasmPageSize);\n          if (result !== (-1 | 0)) {\n            return Module['buffer'] = Module['wasmMemory'].buffer;\n          } else {\n            return null;\n          }\n        } catch (e) {\n          return null;\n        }\n      } else {\n        exports['__growWasmMemory']((size - oldSize) / wasmPageSize);\n        return Module['buffer'] !== old ? Module['buffer'] : null;\n      }\n    };\n    Module['reallocBuffer'] = function(size) {\n      if (finalMethod === 'asmjs') {\n        return asmjsReallocBuffer(size);\n      } else {\n        return wasmReallocBuffer(size);\n      }\n    };\n    var finalMethod = '';\n    Module['asm'] = function(global, env, providedBuffer) {\n      global = fixImports(global);\n      env = fixImports(env);\n      if (!env['table']) {\n        const TABLE_SIZE = Module['wasmTableSize'] || 1024;\n        const MAX_TABLE_SIZE = Module['wasmMaxTableSize'];\n        if (typeof WebAssembly === 'object' && typeof WebAssembly.Table === 'function') {\n          if (MAX_TABLE_SIZE !== undefined) {\n            env['table'] = new WebAssembly.Table({\n              'initial': TABLE_SIZE,\n              'maximum': MAX_TABLE_SIZE,\n              'element': 'anyfunc'\n            });\n          } else {\n            env['table'] = new WebAssembly.Table({ 'initial': TABLE_SIZE, element: 'anyfunc' });\n          }\n        } else {\n          env['table'] = new Array(TABLE_SIZE);\n        }\n        Module['wasmTable'] = env['table'];\n      }\n      if (!env['memoryBase']) {\n        env['memoryBase'] = Module['STATIC_BASE'];\n      }\n      if (!env['tableBase']) {\n        env['tableBase'] = 0;\n      }\n      var exports;\n      exports = doNativeWasm(global, env, providedBuffer);\n      if (!exports) abort('no binaryen method succeeded. consider enabling more options, like interpreting, if you want that: https://github.com/kripken/emscripten/wiki/WebAssembly#binaryen-methods');\n      return exports;\n    };\n  }\n\n  integrateWasmJS();\n  STATIC_BASE = Runtime.GLOBAL_BASE;\n  STATICTOP = STATIC_BASE + 163184;\n  __ATINIT__.push({\n    func: function() {\n      __GLOBAL__sub_I_Decoder_cpp();\n    }\n  }, {\n    func: function() {\n      __GLOBAL__sub_I_bind_cpp();\n    }\n  });\n  memoryInitializer = Module['wasmJSMethod'].indexOf('asmjs') >= 0 || Module['wasmJSMethod'].indexOf('interpret-asm2wasm') >= 0 ? 'Decoder.js.mem' : null;\n  var STATIC_BUMP = 163184;\n  Module['STATIC_BASE'] = STATIC_BASE;\n  Module['STATIC_BUMP'] = STATIC_BUMP;\n  var tempDoublePtr = STATICTOP;\n  STATICTOP += 16;\n  var structRegistrations = {};\n\n  function embind_init_charCodes() {\n    var codes = new Array(256);\n    for (let i = 0; i < 256; ++i) {\n      codes[i] = String.fromCharCode(i);\n    }\n    embind_charCodes = codes;\n  }\n\n  var embind_charCodes = undefined;\n\n  function readLatin1String(ptr) {\n    var ret = '';\n    var c = ptr;\n    while (HEAPU8[c]) {\n      ret += embind_charCodes[HEAPU8[c++]];\n    }\n    return ret;\n  }\n\n  var char_0 = 48;\n  var char_9 = 57;\n\n  function makeLegalFunctionName(name) {\n    if (undefined === name) {\n      return '_unknown';\n    }\n    name = name.replace(/[^a-zA-Z0-9_]/g, '$');\n    var f = name.charCodeAt(0);\n    if (f >= char_0 && f <= char_9) {\n      return '_' + name;\n    } else {\n      return name;\n    }\n  }\n\n  function createNamedFunction(name, body) {\n    name = makeLegalFunctionName(name);\n    return (new Function('body', 'return function ' + name + '() {\\n' + '    \"use strict\";' + '    return body.apply(this, arguments);\\n' + '};\\n'))(body);\n  }\n\n  function extendError(baseErrorType, errorName) {\n    var errorClass = createNamedFunction(errorName, function(message) {\n      this.name = errorName;\n      this.message = message;\n      var stack = (new Error(message)).stack;\n      if (stack !== undefined) {\n        this.stack = this.toString() + '\\n' + stack.replace(/^Error(:[^\\n]*)?\\n/, '');\n      }\n    });\n    errorClass.prototype = Object.create(baseErrorType.prototype);\n    errorClass.prototype.constructor = errorClass;\n    errorClass.prototype.toString = function() {\n      if (this.message === undefined) {\n        return this.name;\n      } else {\n        return this.name + ': ' + this.message;\n      }\n    };\n    return errorClass;\n  }\n\n  var BindingError = undefined;\n\n  function throwBindingError(message) {\n    throw new BindingError(message);\n  }\n\n  function requireFunction(signature, rawFunction) {\n    signature = readLatin1String(signature);\n\n    function makeDynCaller(dynCall) {\n      var args = [];\n      for (let i = 1; i < signature.length; ++i) {\n        args.push('a' + i);\n      }\n      var name = 'dynCall_' + signature + '_' + rawFunction;\n      var body = 'return function ' + name + '(' + args.join(', ') + ') {\\n';\n      body += '    return dynCall(rawFunction' + (args.length ? ', ' : '') + args.join(', ') + ');\\n';\n      body += '};\\n';\n      return (new Function('dynCall', 'rawFunction', body))(dynCall, rawFunction);\n    }\n\n    var fp;\n    if (Module['FUNCTION_TABLE_' + signature] !== undefined) {\n      fp = Module['FUNCTION_TABLE_' + signature][rawFunction];\n    } else if (typeof FUNCTION_TABLE !== 'undefined') {\n      fp = FUNCTION_TABLE[rawFunction];\n    } else {\n      var dc = Module['asm']['dynCall_' + signature];\n      if (dc === undefined) {\n        dc = Module['asm']['dynCall_' + signature.replace(/f/g, 'd')];\n        if (dc === undefined) {\n          throwBindingError('No dynCall invoker for signature: ' + signature);\n        }\n      }\n      fp = makeDynCaller(dc);\n    }\n    if (typeof fp !== 'function') {\n      throwBindingError('unknown function pointer with signature ' + signature + ': ' + rawFunction);\n    }\n    return fp;\n  }\n\n  function __embind_register_value_object(rawType, name, constructorSignature, rawConstructor, destructorSignature, rawDestructor) {\n    structRegistrations[rawType] = {\n      name: readLatin1String(name),\n      rawConstructor: requireFunction(constructorSignature, rawConstructor),\n      rawDestructor: requireFunction(destructorSignature, rawDestructor),\n      fields: []\n    };\n  }\n\n  function ___assert_fail(condition, filename, line, func) {\n    ABORT = true;\n    throw 'Assertion failed: ' + Pointer_stringify(condition) + ', at: ' + [filename ? Pointer_stringify(filename) : 'unknown filename', line, func ? Pointer_stringify(func) : 'unknown function'] + ' at ' + stackTrace();\n  }\n\n  var awaitingDependencies = {};\n  var registeredTypes = {};\n  var typeDependencies = {};\n  var InternalError = undefined;\n\n  function throwInternalError(message) {\n    throw new InternalError(message);\n  }\n\n  function whenDependentTypesAreResolved(myTypes, dependentTypes, getTypeConverters) {\n    myTypes.forEach(function(type) {\n      typeDependencies[type] = dependentTypes;\n    });\n\n    function onComplete(typeConverters) {\n      var myTypeConverters = getTypeConverters(typeConverters);\n      if (myTypeConverters.length !== myTypes.length) {\n        throwInternalError('Mismatched type converter count');\n      }\n      for (let i = 0; i < myTypes.length; ++i) {\n        registerType(myTypes[i], myTypeConverters[i]);\n      }\n    }\n\n    var typeConverters = new Array(dependentTypes.length);\n    var unregisteredTypes = [];\n    var registered = 0;\n    dependentTypes.forEach(function(dt, i) {\n      if (registeredTypes.hasOwnProperty(dt)) {\n        typeConverters[i] = registeredTypes[dt];\n      } else {\n        unregisteredTypes.push(dt);\n        if (!awaitingDependencies.hasOwnProperty(dt)) {\n          awaitingDependencies[dt] = [];\n        }\n        awaitingDependencies[dt].push(function() {\n          typeConverters[i] = registeredTypes[dt];\n          ++registered;\n          if (registered === unregisteredTypes.length) {\n            onComplete(typeConverters);\n          }\n        });\n      }\n    });\n    if (unregisteredTypes.length === 0) {\n      onComplete(typeConverters);\n    }\n  }\n\n  function registerType(rawType, registeredInstance, options) {\n    options = options || {};\n    if (!('argPackAdvance' in registeredInstance)) {\n      throw new TypeError('registerType registeredInstance requires argPackAdvance');\n    }\n    var name = registeredInstance.name;\n    if (!rawType) {\n      throwBindingError('type \"' + name + '\" must have a positive integer typeid pointer');\n    }\n    if (registeredTypes.hasOwnProperty(rawType)) {\n      if (options.ignoreDuplicateRegistrations) {\n        return;\n      } else {\n        throwBindingError(\"Cannot register type '\" + name + \"' twice\");\n      }\n    }\n    registeredTypes[rawType] = registeredInstance;\n    delete typeDependencies[rawType];\n    if (awaitingDependencies.hasOwnProperty(rawType)) {\n      var callbacks = awaitingDependencies[rawType];\n      delete awaitingDependencies[rawType];\n      callbacks.forEach(function(cb) {\n        cb();\n      });\n    }\n  }\n\n  function __embind_register_void(rawType, name) {\n    name = readLatin1String(name);\n    registerType(rawType, {\n      isVoid: true, name: name, 'argPackAdvance': 0, 'fromWireType': function() {\n        return undefined;\n      }, 'toWireType': function(destructors, o) {\n        return undefined;\n      }\n    });\n  }\n\n  function _pthread_mutex_destroy() {\n  }\n\n  function __ZSt18uncaught_exceptionv() {\n    return !!__ZSt18uncaught_exceptionv.uncaught_exception;\n  }\n\n  var EXCEPTIONS = {\n    last: 0, caught: [], infos: {}, deAdjust: function(adjusted) {\n      if (!adjusted || EXCEPTIONS.infos[adjusted]) return adjusted;\n      for (let ptr in EXCEPTIONS.infos) {\n        var info = EXCEPTIONS.infos[ptr];\n        if (info.adjusted === adjusted) {\n          return ptr;\n        }\n      }\n      return adjusted;\n    }, addRef: function(ptr) {\n      if (!ptr) return;\n      var info = EXCEPTIONS.infos[ptr];\n      info.refcount++;\n    }\n  };\n\n  function ___resumeException(ptr) {\n    if (!EXCEPTIONS.last) {\n      EXCEPTIONS.last = ptr;\n    }\n    throw ptr + ' - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.';\n  }\n\n  function ___cxa_find_matching_catch() {\n    var thrown = EXCEPTIONS.last;\n    if (!thrown) {\n      return (Runtime.setTempRet0(0), 0) | 0;\n    }\n    var info = EXCEPTIONS.infos[thrown];\n    var throwntype = info.type;\n    if (!throwntype) {\n      return (Runtime.setTempRet0(0), thrown) | 0;\n    }\n    var typeArray = Array.prototype.slice.call(arguments);\n    var pointer = Module['___cxa_is_pointer_type'](throwntype);\n    if (!___cxa_find_matching_catch.buffer) ___cxa_find_matching_catch.buffer = _malloc(4);\n    HEAP32[___cxa_find_matching_catch.buffer >> 2] = thrown;\n    thrown = ___cxa_find_matching_catch.buffer;\n    for (let i = 0; i < typeArray.length; i++) {\n      if (typeArray[i] && Module['___cxa_can_catch'](typeArray[i], throwntype, thrown)) {\n        thrown = HEAP32[thrown >> 2];\n        info.adjusted = thrown;\n        return (Runtime.setTempRet0(typeArray[i]), thrown) | 0;\n      }\n    }\n    thrown = HEAP32[thrown >> 2];\n    return (Runtime.setTempRet0(throwntype), thrown) | 0;\n  }\n\n  function ___cxa_throw(ptr, type, destructor) {\n    EXCEPTIONS.infos[ptr] = {\n      ptr: ptr,\n      adjusted: ptr,\n      type: type,\n      destructor: destructor,\n      refcount: 0,\n      caught: false,\n      rethrown: false\n    };\n    EXCEPTIONS.last = ptr;\n    if (!('uncaught_exception' in __ZSt18uncaught_exceptionv)) {\n      __ZSt18uncaught_exceptionv.uncaught_exception = 1;\n    } else {\n      __ZSt18uncaught_exceptionv.uncaught_exception++;\n    }\n    throw ptr + ' - Exception catching is disabled, this exception cannot be caught. Compile with -s DISABLE_EXCEPTION_CATCHING=0 or DISABLE_EXCEPTION_CATCHING=2 to catch.';\n  }\n\n  function getShiftFromSize(size) {\n    switch (size) {\n      case 1:\n        return 0;\n      case 2:\n        return 1;\n      case 4:\n        return 2;\n      case 8:\n        return 3;\n      default:\n        throw new TypeError('Unknown type size: ' + size);\n    }\n  }\n\n  function __embind_register_bool(rawType, name, size, trueValue, falseValue) {\n    var shift = getShiftFromSize(size);\n    name = readLatin1String(name);\n    registerType(rawType, {\n      name: name, 'fromWireType': function(wt) {\n        return !!wt;\n      }, 'toWireType': function(destructors, o) {\n        return o ? trueValue : falseValue;\n      }, 'argPackAdvance': 8, 'readValueFromPointer': function(pointer) {\n        var heap;\n        if (size === 1) {\n          heap = HEAP8;\n        } else if (size === 2) {\n          heap = HEAP16;\n        } else if (size === 4) {\n          heap = HEAP32;\n        } else {\n          throw new TypeError('Unknown boolean type size: ' + name);\n        }\n        return this['fromWireType'](heap[pointer >> shift]);\n      }, destructorFunction: null\n    });\n  }\n\n  function ___gxx_personality_v0() {\n  }\n\n  function _pthread_cond_signal() {\n    return 0;\n  }\n\n  function _abort() {\n    Module['abort']();\n  }\n\n  function _pthread_cond_destroy() {\n    return 0;\n  }\n\n  function simpleReadValueFromPointer(pointer) {\n    return this['fromWireType'](HEAPU32[pointer >> 2]);\n  }\n\n  function __embind_register_std_string(rawType, name) {\n    name = readLatin1String(name);\n    registerType(rawType, {\n      name: name, 'fromWireType': function(value) {\n        var length = HEAPU32[value >> 2];\n        var a = new Array(length);\n        for (let i = 0; i < length; ++i) {\n          a[i] = String.fromCharCode(HEAPU8[value + 4 + i]);\n        }\n        _free(value);\n        return a.join('');\n      }, 'toWireType': function(destructors, value) {\n        if (value instanceof ArrayBuffer) {\n          value = new Uint8Array(value);\n        }\n\n        function getTAElement(ta, index) {\n          return ta[index];\n        }\n\n        function getStringElement(string, index) {\n          return string.charCodeAt(index);\n        }\n\n        var getElement;\n        if (value instanceof Uint8Array) {\n          getElement = getTAElement;\n        } else if (value instanceof Uint8ClampedArray) {\n          getElement = getTAElement;\n        } else if (value instanceof Int8Array) {\n          getElement = getTAElement;\n        } else if (typeof value === 'string') {\n          getElement = getStringElement;\n        } else {\n          throwBindingError('Cannot pass non-string to std::string');\n        }\n        var length = value.length;\n        var ptr = _malloc(4 + length);\n        HEAPU32[ptr >> 2] = length;\n        for (let i = 0; i < length; ++i) {\n          var charCode = getElement(value, i);\n          if (charCode > 255) {\n            _free(ptr);\n            throwBindingError('String has UTF-16 code units that do not fit in 8 bits');\n          }\n          HEAPU8[ptr + 4 + i] = charCode;\n        }\n        if (destructors !== null) {\n          destructors.push(_free, ptr);\n        }\n        return ptr;\n      }, 'argPackAdvance': 8, 'readValueFromPointer': simpleReadValueFromPointer, destructorFunction: function(ptr) {\n        _free(ptr);\n      }\n    });\n  }\n\n  function _embind_repr(v) {\n    if (v === null) {\n      return 'null';\n    }\n    var t = typeof v;\n    if (t === 'object' || t === 'array' || t === 'function') {\n      return v.toString();\n    } else {\n      return '' + v;\n    }\n  }\n\n  function integerReadValueFromPointer(name, shift, signed) {\n    switch (shift) {\n      case 0:\n        return signed ? function readS8FromPointer(pointer) {\n          return HEAP8[pointer];\n        } : function readU8FromPointer(pointer) {\n          return HEAPU8[pointer];\n        };\n      case 1:\n        return signed ? function readS16FromPointer(pointer) {\n          return HEAP16[pointer >> 1];\n        } : function readU16FromPointer(pointer) {\n          return HEAPU16[pointer >> 1];\n        };\n      case 2:\n        return signed ? function readS32FromPointer(pointer) {\n          return HEAP32[pointer >> 2];\n        } : function readU32FromPointer(pointer) {\n          return HEAPU32[pointer >> 2];\n        };\n      default:\n        throw new TypeError('Unknown integer type: ' + name);\n    }\n  }\n\n  function __embind_register_integer(primitiveType, name, size, minRange, maxRange) {\n    name = readLatin1String(name);\n    if (maxRange === -1) {\n      maxRange = 4294967295;\n    }\n    var shift = getShiftFromSize(size);\n    var fromWireType = function(value) {\n      return value;\n    };\n    if (minRange === 0) {\n      var bitshift = 32 - 8 * size;\n      fromWireType = function(value) {\n        return value << bitshift >>> bitshift;\n      };\n    }\n    var isUnsignedType = name.indexOf('unsigned') != -1;\n    registerType(primitiveType, {\n      name: name,\n      'fromWireType': fromWireType,\n      'toWireType': function(destructors, value) {\n        if (typeof value !== 'number' && typeof value !== 'boolean') {\n          throw new TypeError('Cannot convert \"' + _embind_repr(value) + '\" to ' + this.name);\n        }\n        if (value < minRange || value > maxRange) {\n          throw new TypeError('Passing a number \"' + _embind_repr(value) + '\" from JS side to C/C++ side to an argument of type \"' + name + '\", which is outside the valid range [' + minRange + ', ' + maxRange + ']!');\n        }\n        return isUnsignedType ? value >>> 0 : value | 0;\n      },\n      'argPackAdvance': 8,\n      'readValueFromPointer': integerReadValueFromPointer(name, shift, minRange !== 0),\n      destructorFunction: null\n    });\n  }\n\n  function _pthread_once(ptr, func) {\n    if (!_pthread_once.seen) _pthread_once.seen = {};\n    if (ptr in _pthread_once.seen) return;\n    Module['dynCall_v'](func);\n    _pthread_once.seen[ptr] = 1;\n  }\n\n  function _pthread_create() {\n    return 11;\n  }\n\n  function __embind_register_value_object_field(structType, fieldName, getterReturnType, getterSignature, getter, getterContext, setterArgumentType, setterSignature, setter, setterContext) {\n    structRegistrations[structType].fields.push({\n      fieldName: readLatin1String(fieldName),\n      getterReturnType: getterReturnType,\n      getter: requireFunction(getterSignature, getter),\n      getterContext: getterContext,\n      setterArgumentType: setterArgumentType,\n      setter: requireFunction(setterSignature, setter),\n      setterContext: setterContext\n    });\n  }\n\n  function ___lock() {\n  }\n\n  function ___unlock() {\n  }\n\n  var PTHREAD_SPECIFIC = {};\n\n  function _pthread_getspecific(key) {\n    return PTHREAD_SPECIFIC[key] || 0;\n  }\n\n  function runDestructors(destructors) {\n    while (destructors.length) {\n      var ptr = destructors.pop();\n      var del = destructors.pop();\n      del(ptr);\n    }\n  }\n\n  function __embind_finalize_value_object(structType) {\n    var reg = structRegistrations[structType];\n    delete structRegistrations[structType];\n    var rawConstructor = reg.rawConstructor;\n    var rawDestructor = reg.rawDestructor;\n    var fieldRecords = reg.fields;\n    var fieldTypes = fieldRecords.map(function(field) {\n      return field.getterReturnType;\n    }).concat(fieldRecords.map(function(field) {\n      return field.setterArgumentType;\n    }));\n    whenDependentTypesAreResolved([structType], fieldTypes, function(fieldTypes) {\n      var fields = {};\n      fieldRecords.forEach(function(field, i) {\n        var fieldName = field.fieldName;\n        var getterReturnType = fieldTypes[i];\n        var getter = field.getter;\n        var getterContext = field.getterContext;\n        var setterArgumentType = fieldTypes[i + fieldRecords.length];\n        var setter = field.setter;\n        var setterContext = field.setterContext;\n        fields[fieldName] = {\n          read: function(ptr) {\n            return getterReturnType['fromWireType'](getter(getterContext, ptr));\n          }, write: function(ptr, o) {\n            var destructors = [];\n            setter(setterContext, ptr, setterArgumentType['toWireType'](destructors, o));\n            runDestructors(destructors);\n          }\n        };\n      });\n      return [{\n        name: reg.name, 'fromWireType': function(ptr) {\n          var rv = {};\n          for (let i in fields) {\n            rv[i] = fields[i].read(ptr);\n          }\n          rawDestructor(ptr);\n          return rv;\n        }, 'toWireType': function(destructors, o) {\n          for (let fieldName in fields) {\n            if (!(fieldName in o)) {\n              throw new TypeError('Missing field');\n            }\n          }\n          var ptr = rawConstructor();\n          for (fieldName in fields) {\n            fields[fieldName].write(ptr, o[fieldName]);\n          }\n          if (destructors !== null) {\n            destructors.push(rawDestructor, ptr);\n          }\n          return ptr;\n        }, 'argPackAdvance': 8, 'readValueFromPointer': simpleReadValueFromPointer, destructorFunction: rawDestructor\n      }];\n    });\n  }\n\n  function _clock() {\n    if (_clock.start === undefined) _clock.start = Date.now();\n    return (Date.now() - _clock.start) * (1e6 / 1e3) | 0;\n  }\n\n  var PTHREAD_SPECIFIC_NEXT_KEY = 1;\n  var ERRNO_CODES = {\n    EPERM: 1,\n    ENOENT: 2,\n    ESRCH: 3,\n    EINTR: 4,\n    EIO: 5,\n    ENXIO: 6,\n    E2BIG: 7,\n    ENOEXEC: 8,\n    EBADF: 9,\n    ECHILD: 10,\n    EAGAIN: 11,\n    EWOULDBLOCK: 11,\n    ENOMEM: 12,\n    EACCES: 13,\n    EFAULT: 14,\n    ENOTBLK: 15,\n    EBUSY: 16,\n    EEXIST: 17,\n    EXDEV: 18,\n    ENODEV: 19,\n    ENOTDIR: 20,\n    EISDIR: 21,\n    EINVAL: 22,\n    ENFILE: 23,\n    EMFILE: 24,\n    ENOTTY: 25,\n    ETXTBSY: 26,\n    EFBIG: 27,\n    ENOSPC: 28,\n    ESPIPE: 29,\n    EROFS: 30,\n    EMLINK: 31,\n    EPIPE: 32,\n    EDOM: 33,\n    ERANGE: 34,\n    ENOMSG: 42,\n    EIDRM: 43,\n    ECHRNG: 44,\n    EL2NSYNC: 45,\n    EL3HLT: 46,\n    EL3RST: 47,\n    ELNRNG: 48,\n    EUNATCH: 49,\n    ENOCSI: 50,\n    EL2HLT: 51,\n    EDEADLK: 35,\n    ENOLCK: 37,\n    EBADE: 52,\n    EBADR: 53,\n    EXFULL: 54,\n    ENOANO: 55,\n    EBADRQC: 56,\n    EBADSLT: 57,\n    EDEADLOCK: 35,\n    EBFONT: 59,\n    ENOSTR: 60,\n    ENODATA: 61,\n    ETIME: 62,\n    ENOSR: 63,\n    ENONET: 64,\n    ENOPKG: 65,\n    EREMOTE: 66,\n    ENOLINK: 67,\n    EADV: 68,\n    ESRMNT: 69,\n    ECOMM: 70,\n    EPROTO: 71,\n    EMULTIHOP: 72,\n    EDOTDOT: 73,\n    EBADMSG: 74,\n    ENOTUNIQ: 76,\n    EBADFD: 77,\n    EREMCHG: 78,\n    ELIBACC: 79,\n    ELIBBAD: 80,\n    ELIBSCN: 81,\n    ELIBMAX: 82,\n    ELIBEXEC: 83,\n    ENOSYS: 38,\n    ENOTEMPTY: 39,\n    ENAMETOOLONG: 36,\n    ELOOP: 40,\n    EOPNOTSUPP: 95,\n    EPFNOSUPPORT: 96,\n    ECONNRESET: 104,\n    ENOBUFS: 105,\n    EAFNOSUPPORT: 97,\n    EPROTOTYPE: 91,\n    ENOTSOCK: 88,\n    ENOPROTOOPT: 92,\n    ESHUTDOWN: 108,\n    ECONNREFUSED: 111,\n    EADDRINUSE: 98,\n    ECONNABORTED: 103,\n    ENETUNREACH: 101,\n    ENETDOWN: 100,\n    ETIMEDOUT: 110,\n    EHOSTDOWN: 112,\n    EHOSTUNREACH: 113,\n    EINPROGRESS: 115,\n    EALREADY: 114,\n    EDESTADDRREQ: 89,\n    EMSGSIZE: 90,\n    EPROTONOSUPPORT: 93,\n    ESOCKTNOSUPPORT: 94,\n    EADDRNOTAVAIL: 99,\n    ENETRESET: 102,\n    EISCONN: 106,\n    ENOTCONN: 107,\n    ETOOMANYREFS: 109,\n    EUSERS: 87,\n    EDQUOT: 122,\n    ESTALE: 116,\n    ENOTSUP: 95,\n    ENOMEDIUM: 123,\n    EILSEQ: 84,\n    EOVERFLOW: 75,\n    ECANCELED: 125,\n    ENOTRECOVERABLE: 131,\n    EOWNERDEAD: 130,\n    ESTRPIPE: 86\n  };\n\n  function _pthread_key_create(key, destructor) {\n    if (key === 0) {\n      return ERRNO_CODES.EINVAL;\n    }\n    HEAP32[key >> 2] = PTHREAD_SPECIFIC_NEXT_KEY;\n    PTHREAD_SPECIFIC[PTHREAD_SPECIFIC_NEXT_KEY] = 0;\n    PTHREAD_SPECIFIC_NEXT_KEY++;\n    return 0;\n  }\n\n  function _pthread_mutex_init() {\n  }\n\n  var emval_free_list = [];\n  var emval_handle_array = [{}, { value: undefined }, { value: null }, { value: true }, { value: false }];\n\n  function __emval_decref(handle) {\n    if (handle > 4 && --emval_handle_array[handle].refcount === 0) {\n      emval_handle_array[handle] = undefined;\n      emval_free_list.push(handle);\n    }\n  }\n\n  function count_emval_handles() {\n    var count = 0;\n    for (let i = 5; i < emval_handle_array.length; ++i) {\n      if (emval_handle_array[i] !== undefined) {\n        ++count;\n      }\n    }\n    return count;\n  }\n\n  function get_first_emval() {\n    for (let i = 5; i < emval_handle_array.length; ++i) {\n      if (emval_handle_array[i] !== undefined) {\n        return emval_handle_array[i];\n      }\n    }\n    return null;\n  }\n\n  function init_emval() {\n    Module['count_emval_handles'] = count_emval_handles;\n    Module['get_first_emval'] = get_first_emval;\n  }\n\n  function __emval_register(value) {\n    switch (value) {\n      case undefined: {\n        return 1;\n      }\n      case null: {\n        return 2;\n      }\n      case true: {\n        return 3;\n      }\n      case false: {\n        return 4;\n      }\n      default: {\n        const handle = emval_free_list.length ? emval_free_list.pop() : emval_handle_array.length;\n        emval_handle_array[handle] = { refcount: 1, value: value };\n        return handle;\n      }\n    }\n  }\n\n  function __embind_register_emval(rawType, name) {\n    name = readLatin1String(name);\n    registerType(rawType, {\n      name: name, 'fromWireType': function(handle) {\n        var rv = emval_handle_array[handle].value;\n        __emval_decref(handle);\n        return rv;\n      }, 'toWireType': function(destructors, value) {\n        return __emval_register(value);\n      }, 'argPackAdvance': 8, 'readValueFromPointer': simpleReadValueFromPointer, destructorFunction: null\n    });\n  }\n\n  function _pthread_setspecific(key, value) {\n    if (!(key in PTHREAD_SPECIFIC)) {\n      return ERRNO_CODES.EINVAL;\n    }\n    PTHREAD_SPECIFIC[key] = value;\n    return 0;\n  }\n\n  function ___cxa_allocate_exception(size) {\n    return _malloc(size);\n  }\n\n  var SYSCALLS = {\n    varargs: 0, get: function(varargs) {\n      SYSCALLS.varargs += 4;\n      return HEAP32[SYSCALLS.varargs - 4 >> 2];\n    }, get64: function() {\n      const low = SYSCALLS.get();\n      const high = SYSCALLS.get();\n      if (low >= 0) assert(high === 0); else assert(high === -1);\n      return low;\n    }\n  };\n\n  function ___syscall54(which, varargs) {\n    SYSCALLS.varargs = varargs;\n    try {\n      return 0;\n    } catch (e) {\n      if (typeof FS === 'undefined' || !(e instanceof FS.ErrnoError)) abort(e);\n      return -e.errno;\n    }\n  }\n\n  function ___cxa_pure_virtual() {\n    ABORT = true;\n    throw 'Pure virtual function called!';\n  }\n\n  function floatReadValueFromPointer(name, shift) {\n    switch (shift) {\n      case 2:\n        return function(pointer) {\n          return this['fromWireType'](HEAPF32[pointer >> 2]);\n        };\n      case 3:\n        return function(pointer) {\n          return this['fromWireType'](HEAPF64[pointer >> 3]);\n        };\n      default:\n        throw new TypeError('Unknown float type: ' + name);\n    }\n  }\n\n  function __embind_register_float(rawType, name, size) {\n    var shift = getShiftFromSize(size);\n    name = readLatin1String(name);\n    registerType(rawType, {\n      name: name, 'fromWireType': function(value) {\n        return value;\n      }, 'toWireType': function(destructors, value) {\n        if (typeof value !== 'number' && typeof value !== 'boolean') {\n          throw new TypeError('Cannot convert \"' + _embind_repr(value) + '\" to ' + this.name);\n        }\n        return value;\n      }, 'argPackAdvance': 8, 'readValueFromPointer': floatReadValueFromPointer(name, shift), destructorFunction: null\n    });\n  }\n\n  function new_(constructor, argumentList) {\n    if (!(constructor instanceof Function)) {\n      throw new TypeError('new_ called with constructor type ' + typeof constructor + ' which is not a function');\n    }\n    var dummy = createNamedFunction(constructor.name || 'unknownFunctionName', function() {\n    });\n    dummy.prototype = constructor.prototype;\n    var obj = new dummy();\n    var r = constructor.apply(obj, argumentList);\n    return r instanceof Object ? r : obj;\n  }\n\n  function craftInvokerFunction(humanName, argTypes, classType, cppInvokerFunc, cppTargetFunc) {\n    var argCount = argTypes.length;\n    if (argCount < 2) {\n      throwBindingError(\"argTypes array size mismatch! Must at least get return value and 'this' types!\");\n    }\n    var isClassMethodFunc = argTypes[1] !== null && classType !== null;\n    var needsDestructorStack = false;\n    for (let i = 1; i < argTypes.length; ++i) {\n      if (argTypes[i] !== null && argTypes[i].destructorFunction === undefined) {\n        needsDestructorStack = true;\n        break;\n      }\n    }\n    var returns = argTypes[0].name !== 'void';\n    var argsList = '';\n    var argsListWired = '';\n    for (let i = 0; i < argCount - 2; ++i) {\n      argsList += (i !== 0 ? ', ' : '') + 'arg' + i;\n      argsListWired += (i !== 0 ? ', ' : '') + 'arg' + i + 'Wired';\n    }\n    var invokerFnBody = 'return function ' + makeLegalFunctionName(humanName) + '(' + argsList + ') {\\n' + 'if (arguments.length !== ' + (argCount - 2) + ') {\\n' + \"throwBindingError('function \" + humanName + \" called with ' + arguments.length + ' arguments, expected \" + (argCount - 2) + \" args!');\\n\" + '}\\n';\n    if (needsDestructorStack) {\n      invokerFnBody += 'var destructors = [];\\n';\n    }\n    var dtorStack = needsDestructorStack ? 'destructors' : 'null';\n    var args1 = ['throwBindingError', 'invoker', 'fn', 'runDestructors', 'retType', 'classParam'];\n    var args2 = [throwBindingError, cppInvokerFunc, cppTargetFunc, runDestructors, argTypes[0], argTypes[1]];\n    if (isClassMethodFunc) {\n      invokerFnBody += 'var thisWired = classParam.toWireType(' + dtorStack + ', this);\\n';\n    }\n    for (let i = 0; i < argCount - 2; ++i) {\n      invokerFnBody += 'var arg' + i + 'Wired = argType' + i + '.toWireType(' + dtorStack + ', arg' + i + '); // ' + argTypes[i + 2].name + '\\n';\n      args1.push('argType' + i);\n      args2.push(argTypes[i + 2]);\n    }\n    if (isClassMethodFunc) {\n      argsListWired = 'thisWired' + (argsListWired.length > 0 ? ', ' : '') + argsListWired;\n    }\n    invokerFnBody += (returns ? 'var rv = ' : '') + 'invoker(fn' + (argsListWired.length > 0 ? ', ' : '') + argsListWired + ');\\n';\n    if (needsDestructorStack) {\n      invokerFnBody += 'runDestructors(destructors);\\n';\n    } else {\n      for (let i = isClassMethodFunc ? 1 : 2; i < argTypes.length; ++i) {\n        var paramName = i === 1 ? 'thisWired' : 'arg' + (i - 2) + 'Wired';\n        if (argTypes[i].destructorFunction !== null) {\n          invokerFnBody += paramName + '_dtor(' + paramName + '); // ' + argTypes[i].name + '\\n';\n          args1.push(paramName + '_dtor');\n          args2.push(argTypes[i].destructorFunction);\n        }\n      }\n    }\n    if (returns) {\n      invokerFnBody += 'var ret = retType.fromWireType(rv);\\n' + 'return ret;\\n';\n    } else {\n    }\n    invokerFnBody += '}\\n';\n    args1.push(invokerFnBody);\n    var invokerFunction = new_(Function, args1).apply(null, args2);\n    return invokerFunction;\n  }\n\n  function ensureOverloadTable(proto, methodName, humanName) {\n    if (undefined === proto[methodName].overloadTable) {\n      var prevFunc = proto[methodName];\n      proto[methodName] = function() {\n        if (!proto[methodName].overloadTable.hasOwnProperty(arguments.length)) {\n          throwBindingError(\"Function '\" + humanName + \"' called with an invalid number of arguments (\" + arguments.length + ') - expects one of (' + proto[methodName].overloadTable + ')!');\n        }\n        return proto[methodName].overloadTable[arguments.length].apply(this, arguments);\n      };\n      proto[methodName].overloadTable = [];\n      proto[methodName].overloadTable[prevFunc.argCount] = prevFunc;\n    }\n  }\n\n  function exposePublicSymbol(name, value, numArguments) {\n    if (Module.hasOwnProperty(name)) {\n      if (undefined === numArguments || undefined !== Module[name].overloadTable && undefined !== Module[name].overloadTable[numArguments]) {\n        throwBindingError(\"Cannot register public name '\" + name + \"' twice\");\n      }\n      ensureOverloadTable(Module, name, name);\n      if (Module.hasOwnProperty(numArguments)) {\n        throwBindingError('Cannot register multiple overloads of a function with the same number of arguments (' + numArguments + ')!');\n      }\n      Module[name].overloadTable[numArguments] = value;\n    } else {\n      Module[name] = value;\n      if (undefined !== numArguments) {\n        Module[name].numArguments = numArguments;\n      }\n    }\n  }\n\n  function heap32VectorToArray(count, firstElement) {\n    var array = [];\n    for (let i = 0; i < count; i++) {\n      array.push(HEAP32[(firstElement >> 2) + i]);\n    }\n    return array;\n  }\n\n  function replacePublicSymbol(name, value, numArguments) {\n    if (!Module.hasOwnProperty(name)) {\n      throwInternalError('Replacing nonexistant public symbol');\n    }\n    if (undefined !== Module[name].overloadTable && undefined !== numArguments) {\n      Module[name].overloadTable[numArguments] = value;\n    } else {\n      Module[name] = value;\n      Module[name].argCount = numArguments;\n    }\n  }\n\n  var UnboundTypeError = undefined;\n\n  function getTypeName(type) {\n    var ptr = ___getTypeName(type);\n    var rv = readLatin1String(ptr);\n    _free(ptr);\n    return rv;\n  }\n\n  function throwUnboundTypeError(message, types) {\n    var unboundTypes = [];\n    var seen = {};\n\n    function visit(type) {\n      if (seen[type]) {\n        return;\n      }\n      if (registeredTypes[type]) {\n        return;\n      }\n      if (typeDependencies[type]) {\n        typeDependencies[type].forEach(visit);\n        return;\n      }\n      unboundTypes.push(type);\n      seen[type] = true;\n    }\n\n    types.forEach(visit);\n    throw new UnboundTypeError(message + ': ' + unboundTypes.map(getTypeName).join([', ']));\n  }\n\n  function __embind_register_function(name, argCount, rawArgTypesAddr, signature, rawInvoker, fn) {\n    var argTypes = heap32VectorToArray(argCount, rawArgTypesAddr);\n    name = readLatin1String(name);\n    rawInvoker = requireFunction(signature, rawInvoker);\n    exposePublicSymbol(name, function() {\n      throwUnboundTypeError('Cannot call ' + name + ' due to unbound types', argTypes);\n    }, argCount - 1);\n    whenDependentTypesAreResolved([], argTypes, function(argTypes) {\n      var invokerArgsArray = [argTypes[0], null].concat(argTypes.slice(1));\n      replacePublicSymbol(name, craftInvokerFunction(name, invokerArgsArray, null, rawInvoker, fn), argCount - 1);\n      return [];\n    });\n  }\n\n  function _pthread_join() {\n  }\n\n  function _pthread_cond_init() {\n    return 0;\n  }\n\n  function ___syscall6(which, varargs) {\n    SYSCALLS.varargs = varargs;\n    try {\n      var stream = SYSCALLS.getStreamFromFD();\n      FS.close(stream);\n      return 0;\n    } catch (e) {\n      if (typeof FS === 'undefined' || !(e instanceof FS.ErrnoError)) abort(e);\n      return -e.errno;\n    }\n  }\n\n  function ___setErrNo(value) {\n    if (Module['___errno_location']) HEAP32[Module['___errno_location']() >> 2] = value;\n    return value;\n  }\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.set(HEAPU8.subarray(src, src + num), dest);\n    return dest;\n  }\n\n  function __embind_register_std_wstring(rawType, charSize, name) {\n    name = readLatin1String(name);\n    var getHeap, shift;\n    if (charSize === 2) {\n      getHeap = function() {\n        return HEAPU16;\n      };\n      shift = 1;\n    } else if (charSize === 4) {\n      getHeap = function() {\n        return HEAPU32;\n      };\n      shift = 2;\n    }\n    registerType(rawType, {\n      name: name, 'fromWireType': function(value) {\n        var HEAP = getHeap();\n        var length = HEAPU32[value >> 2];\n        var a = new Array(length);\n        var start = value + 4 >> shift;\n        for (let i = 0; i < length; ++i) {\n          a[i] = String.fromCharCode(HEAP[start + i]);\n        }\n        _free(value);\n        return a.join('');\n      }, 'toWireType': function(destructors, value) {\n        var HEAP = getHeap();\n        var length = value.length;\n        var ptr = _malloc(4 + length * charSize);\n        HEAPU32[ptr >> 2] = length;\n        var start = ptr + 4 >> shift;\n        for (let i = 0; i < length; ++i) {\n          HEAP[start + i] = value.charCodeAt(i);\n        }\n        if (destructors !== null) {\n          destructors.push(_free, ptr);\n        }\n        return ptr;\n      }, 'argPackAdvance': 8, 'readValueFromPointer': simpleReadValueFromPointer, destructorFunction: function(ptr) {\n        _free(ptr);\n      }\n    });\n  }\n\n  function ___cxa_begin_catch(ptr) {\n    const info = EXCEPTIONS.infos[ptr];\n    if (info && !info.caught) {\n      info.caught = true;\n      __ZSt18uncaught_exceptionv.uncaught_exception--;\n    }\n    if (info) info.rethrown = false;\n    EXCEPTIONS.caught.push(ptr);\n    EXCEPTIONS.addRef(EXCEPTIONS.deAdjust(ptr));\n    return ptr;\n  }\n\n  function _gettimeofday(ptr) {\n    const now = Date.now();\n    HEAP32[ptr >> 2] = now / 1e3 | 0;\n    HEAP32[ptr + 4 >> 2] = now % 1e3 * 1e3 | 0;\n    return 0;\n  }\n\n  function _pthread_cond_wait() {\n    return 0;\n  }\n\n  function __embind_register_memory_view(rawType, dataTypeIndex, name) {\n    const typeMapping = [Int8Array, Uint8Array, Int16Array, Uint16Array, Int32Array, Uint32Array, Float32Array, Float64Array];\n    const TA = typeMapping[dataTypeIndex];\n\n    function decodeMemoryView(handle) {\n      handle = handle >> 2;\n      const heap = HEAPU32;\n      const size = heap[handle];\n      const data = heap[handle + 1];\n      return new TA(heap['buffer'], data, size);\n    }\n\n    name = readLatin1String(name);\n    registerType(rawType, {\n      name: name,\n      'fromWireType': decodeMemoryView,\n      'argPackAdvance': 8,\n      'readValueFromPointer': decodeMemoryView\n    }, { ignoreDuplicateRegistrations: true });\n  }\n\n  function ___syscall140(which, varargs) {\n    SYSCALLS.varargs = varargs;\n    try {\n      const stream = SYSCALLS.getStreamFromFD();\n      const offset_low = SYSCALLS.get();\n      const result = SYSCALLS.get();\n      const whence = SYSCALLS.get();\n      const offset = offset_low;\n      FS.llseek(stream, offset, whence);\n      HEAP32[result >> 2] = stream.position;\n      if (stream.getdents && offset === 0 && whence === 0) stream.getdents = null;\n      return 0;\n    } catch (e) {\n      if (typeof FS === 'undefined' || !(e instanceof FS.ErrnoError)) abort(e);\n      return -e.errno;\n    }\n  }\n\n  function ___syscall146(which, varargs) {\n    SYSCALLS.varargs = varargs;\n    try {\n      var stream = SYSCALLS.get();\n      var iov = SYSCALLS.get();\n      var iovcnt = SYSCALLS.get();\n      var ret = 0;\n      if (!___syscall146.buffer) {\n        ___syscall146.buffers = [null, [], []];\n        ___syscall146.printChar = function(stream, curr) {\n          var buffer = ___syscall146.buffers[stream];\n          assert(buffer);\n          if (curr === 0 || curr === 10) {\n            (stream === 1 ? Module['print'] : Module['printErr'])(UTF8ArrayToString(buffer, 0));\n            buffer.length = 0;\n          } else {\n            buffer.push(curr);\n          }\n        };\n      }\n      for (let i = 0; i < iovcnt; i++) {\n        var ptr = HEAP32[iov + i * 8 >> 2];\n        var len = HEAP32[iov + (i * 8 + 4) >> 2];\n        for (let j = 0; j < len; j++) {\n          ___syscall146.printChar(stream, HEAPU8[ptr + j]);\n        }\n        ret += len;\n      }\n      return ret;\n    } catch (e) {\n      if (typeof FS === 'undefined' || !(e instanceof FS.ErrnoError)) abort(e);\n      return -e.errno;\n    }\n  }\n\n  embind_init_charCodes();\n  BindingError = Module['BindingError'] = extendError(Error, 'BindingError');\n  InternalError = Module['InternalError'] = extendError(Error, 'InternalError');\n  init_emval();\n  UnboundTypeError = Module['UnboundTypeError'] = extendError(Error, 'UnboundTypeError');\n  __ATEXIT__.push(function() {\n    var fflush = Module['_fflush'];\n    if (fflush) fflush(0);\n    var printChar = ___syscall146.printChar;\n    if (!printChar) return;\n    var buffers = ___syscall146.buffers;\n    if (buffers[1].length) printChar(1, 10);\n    if (buffers[2].length) printChar(2, 10);\n  });\n  DYNAMICTOP_PTR = allocate(1, 'i32', ALLOC_STATIC);\n  STACK_BASE = STACKTOP = Runtime.alignMemory(STATICTOP);\n  STACK_MAX = STACK_BASE + TOTAL_STACK;\n  DYNAMIC_BASE = Runtime.alignMemory(STACK_MAX);\n  HEAP32[DYNAMICTOP_PTR >> 2] = DYNAMIC_BASE;\n  staticSealed = true;\n  Module['wasmTableSize'] = 494;\n  Module['wasmMaxTableSize'] = 494;\n\n  function invoke_iiiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\n    try {\n      return Module['dynCall_iiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiii(index, a1, a2, a3, a4, a5) {\n    try {\n      Module['dynCall_viiiii'](index, a1, a2, a3, a4, a5);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_vi(index, a1) {\n    try {\n      Module['dynCall_vi'](index, a1);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_vii(index, a1, a2) {\n    try {\n      Module['dynCall_vii'](index, a1, a2);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iiiiiii(index, a1, a2, a3, a4, a5, a6) {\n    try {\n      return Module['dynCall_iiiiiii'](index, a1, a2, a3, a4, a5, a6);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_ii(index, a1) {\n    try {\n      return Module['dynCall_ii'](index, a1);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11) {\n    try {\n      Module['dynCall_viiiiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iiiiii(index, a1, a2, a3, a4, a5) {\n    try {\n      return Module['dynCall_iiiiii'](index, a1, a2, a3, a4, a5);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iiii(index, a1, a2, a3) {\n    try {\n      return Module['dynCall_iiii'](index, a1, a2, a3);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8) {\n    try {\n      Module['dynCall_viiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiii(index, a1, a2, a3, a4, a5, a6) {\n    try {\n      Module['dynCall_viiiiii'](index, a1, a2, a3, a4, a5, a6);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13) {\n    try {\n      Module['dynCall_viiiiiiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12, a13);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiii(index, a1, a2, a3, a4, a5, a6, a7) {\n    try {\n      Module['dynCall_viiiiiii'](index, a1, a2, a3, a4, a5, a6, a7);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n    try {\n      Module['dynCall_viiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) {\n    try {\n      Module['dynCall_viiiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iii(index, a1, a2) {\n    try {\n      return Module['dynCall_iii'](index, a1, a2);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_i(index) {\n    try {\n      return Module['dynCall_i'](index);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiiiiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12) {\n    try {\n      Module['dynCall_viiiiiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8, a9, a10, a11, a12);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iiiii(index, a1, a2, a3, a4) {\n    try {\n      return Module['dynCall_iiiii'](index, a1, a2, a3, a4);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viii(index, a1, a2, a3) {\n    try {\n      Module['dynCall_viii'](index, a1, a2, a3);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_v(index) {\n    try {\n      Module['dynCall_v'](index);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_iiiiiiiii(index, a1, a2, a3, a4, a5, a6, a7, a8) {\n    try {\n      return Module['dynCall_iiiiiiiii'](index, a1, a2, a3, a4, a5, a6, a7, a8);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  function invoke_viiii(index, a1, a2, a3, a4) {\n    try {\n      Module['dynCall_viiii'](index, a1, a2, a3, a4);\n    } catch (e) {\n      if (typeof e !== 'number' && e !== 'longjmp') throw e;\n      Module['setThrew'](1, 0);\n    }\n  }\n\n  Module.asmGlobalArg = {\n    'Math': Math,\n    'Int8Array': Int8Array,\n    'Int16Array': Int16Array,\n    'Int32Array': Int32Array,\n    'Uint8Array': Uint8Array,\n    'Uint16Array': Uint16Array,\n    'Uint32Array': Uint32Array,\n    'Float32Array': Float32Array,\n    'Float64Array': Float64Array,\n    'NaN': NaN,\n    'Infinity': Infinity\n  };\n  Module.asmLibraryArg = {\n    'abort': abort,\n    'assert': assert,\n    'enlargeMemory': enlargeMemory,\n    'getTotalMemory': getTotalMemory,\n    'abortOnCannotGrowMemory': abortOnCannotGrowMemory,\n    'invoke_iiiiiiii': invoke_iiiiiiii,\n    'invoke_viiiii': invoke_viiiii,\n    'invoke_vi': invoke_vi,\n    'invoke_vii': invoke_vii,\n    'invoke_iiiiiii': invoke_iiiiiii,\n    'invoke_ii': invoke_ii,\n    'invoke_viiiiiiiiiii': invoke_viiiiiiiiiii,\n    'invoke_iiiiii': invoke_iiiiii,\n    'invoke_iiii': invoke_iiii,\n    'invoke_viiiiiiii': invoke_viiiiiiii,\n    'invoke_viiiiii': invoke_viiiiii,\n    'invoke_viiiiiiiiiiiii': invoke_viiiiiiiiiiiii,\n    'invoke_viiiiiii': invoke_viiiiiii,\n    'invoke_viiiiiiiii': invoke_viiiiiiiii,\n    'invoke_viiiiiiiiii': invoke_viiiiiiiiii,\n    'invoke_iii': invoke_iii,\n    'invoke_i': invoke_i,\n    'invoke_viiiiiiiiiiii': invoke_viiiiiiiiiiii,\n    'invoke_iiiii': invoke_iiiii,\n    'invoke_viii': invoke_viii,\n    'invoke_v': invoke_v,\n    'invoke_iiiiiiiii': invoke_iiiiiiiii,\n    'invoke_viiii': invoke_viiii,\n    'requireFunction': requireFunction,\n    '_pthread_cond_wait': _pthread_cond_wait,\n    '_pthread_join': _pthread_join,\n    'simpleReadValueFromPointer': simpleReadValueFromPointer,\n    'new_': new_,\n    '___syscall54': ___syscall54,\n    '__embind_register_integer': __embind_register_integer,\n    'throwInternalError': throwInternalError,\n    'get_first_emval': get_first_emval,\n    '_abort': _abort,\n    'whenDependentTypesAreResolved': whenDependentTypesAreResolved,\n    '___gxx_personality_v0': ___gxx_personality_v0,\n    'extendError': extendError,\n    '___assert_fail': ___assert_fail,\n    '__embind_register_void': __embind_register_void,\n    '___cxa_find_matching_catch': ___cxa_find_matching_catch,\n    '__embind_register_value_object_field': __embind_register_value_object_field,\n    'exposePublicSymbol': exposePublicSymbol,\n    '_pthread_cond_init': _pthread_cond_init,\n    '__embind_register_function': __embind_register_function,\n    'embind_init_charCodes': embind_init_charCodes,\n    '___cxa_begin_catch': ___cxa_begin_catch,\n    '___setErrNo': ___setErrNo,\n    '__emval_register': __emval_register,\n    'readLatin1String': readLatin1String,\n    '___cxa_allocate_exception': ___cxa_allocate_exception,\n    '_emscripten_memcpy_big': _emscripten_memcpy_big,\n    '__embind_register_bool': __embind_register_bool,\n    '___resumeException': ___resumeException,\n    '__ZSt18uncaught_exceptionv': __ZSt18uncaught_exceptionv,\n    '_embind_repr': _embind_repr,\n    '__embind_register_std_wstring': __embind_register_std_wstring,\n    '_pthread_getspecific': _pthread_getspecific,\n    '_clock': _clock,\n    'createNamedFunction': createNamedFunction,\n    '__embind_register_emval': __embind_register_emval,\n    '_pthread_cond_signal': _pthread_cond_signal,\n    '__embind_finalize_value_object': __embind_finalize_value_object,\n    '_pthread_mutex_destroy': _pthread_mutex_destroy,\n    'throwUnboundTypeError': throwUnboundTypeError,\n    'craftInvokerFunction': craftInvokerFunction,\n    '__emval_decref': __emval_decref,\n    '_pthread_once': _pthread_once,\n    'getShiftFromSize': getShiftFromSize,\n    'makeLegalFunctionName': makeLegalFunctionName,\n    '_pthread_key_create': _pthread_key_create,\n    '___unlock': ___unlock,\n    'heap32VectorToArray': heap32VectorToArray,\n    'init_emval': init_emval,\n    '_pthread_create': _pthread_create,\n    'floatReadValueFromPointer': floatReadValueFromPointer,\n    '__embind_register_value_object': __embind_register_value_object,\n    '_pthread_setspecific': _pthread_setspecific,\n    'integerReadValueFromPointer': integerReadValueFromPointer,\n    'registerType': registerType,\n    '___cxa_throw': ___cxa_throw,\n    '___lock': ___lock,\n    '___syscall6': ___syscall6,\n    'throwBindingError': throwBindingError,\n    'ensureOverloadTable': ensureOverloadTable,\n    'count_emval_handles': count_emval_handles,\n    '_pthread_cond_destroy': _pthread_cond_destroy,\n    '__embind_register_float': __embind_register_float,\n    '_gettimeofday': _gettimeofday,\n    'getTypeName': getTypeName,\n    '___syscall140': ___syscall140,\n    '_pthread_mutex_init': _pthread_mutex_init,\n    '__embind_register_memory_view': __embind_register_memory_view,\n    '__embind_register_std_string': __embind_register_std_string,\n    'replacePublicSymbol': replacePublicSymbol,\n    '___cxa_pure_virtual': ___cxa_pure_virtual,\n    '___syscall146': ___syscall146,\n    'runDestructors': runDestructors,\n    'DYNAMICTOP_PTR': DYNAMICTOP_PTR,\n    'tempDoublePtr': tempDoublePtr,\n    'ABORT': ABORT,\n    'STACKTOP': STACKTOP,\n    'STACK_MAX': STACK_MAX\n  };\n  var asm = Module['asm'](Module.asmGlobalArg, Module.asmLibraryArg, buffer);\n  Module['asm'] = asm;\n  Module['stackSave'] = function() {\n    return Module['asm']['stackSave'].apply(null, arguments);\n  };\n  Module['_SetIFrameDecInterval'] = function() {\n    return Module['asm']['_SetIFrameDecInterval'].apply(null, arguments);\n  };\n  Module['_CloseStream'] = function() {\n    return Module['asm']['_CloseStream'].apply(null, arguments);\n  };\n  Module['setThrew'] = function() {\n    return Module['asm']['setThrew'].apply(null, arguments);\n  };\n  Module['_GetFrameData'] = function() {\n    return Module['asm']['_GetFrameData'].apply(null, arguments);\n  };\n  Module['_sbrk'] = function() {\n    return Module['asm']['_sbrk'].apply(null, arguments);\n  };\n  Module['_fflush'] = function() {\n    return Module['asm']['_fflush'].apply(null, arguments);\n  };\n  Module['___cxa_is_pointer_type'] = function() {\n    return Module['asm']['___cxa_is_pointer_type'].apply(null, arguments);\n  };\n  Module['_memset'] = function() {\n    return Module['asm']['_memset'].apply(null, arguments);\n  };\n  Module['_SetDisplayRegion'] = function() {\n    return Module['asm']['_SetDisplayRegion'].apply(null, arguments);\n  };\n  Module['_memcpy'] = function() {\n    return Module['asm']['_memcpy'].apply(null, arguments);\n  };\n  Module['_llvm_bswap_i32'] = function() {\n    return Module['asm']['_llvm_bswap_i32'].apply(null, arguments);\n  };\n  Module['stackAlloc'] = function() {\n    return Module['asm']['stackAlloc'].apply(null, arguments);\n  };\n  Module['getTempRet0'] = function() {\n    return Module['asm']['getTempRet0'].apply(null, arguments);\n  };\n  const __GLOBAL__sub_I_bind_cpp = Module['__GLOBAL__sub_I_bind_cpp'] = function() {\n    return Module['asm']['__GLOBAL__sub_I_bind_cpp'].apply(null, arguments);\n  };\n  Module['setTempRet0'] = function() {\n    return Module['asm']['setTempRet0'].apply(null, arguments);\n  };\n  Module['_SetSecretKey'] = function() {\n    return Module['asm']['_SetSecretKey'].apply(null, arguments);\n  };\n  Module['_pthread_mutex_unlock'] = function() {\n    return Module['asm']['_pthread_mutex_unlock'].apply(null, arguments);\n  };\n  const __GLOBAL__sub_I_Decoder_cpp = Module['__GLOBAL__sub_I_Decoder_cpp'] = function() {\n    return Module['asm']['__GLOBAL__sub_I_Decoder_cpp'].apply(null, arguments);\n  };\n  Module['_emscripten_get_global_libc'] = function() {\n    return Module['asm']['_emscripten_get_global_libc'].apply(null, arguments);\n  };\n  Module['_InputData'] = function() {\n    return Module['asm']['_InputData'].apply(null, arguments);\n  };\n  const ___getTypeName = Module['___getTypeName'] = function() {\n    return Module['asm']['___getTypeName'].apply(null, arguments);\n  };\n  Module['_GetJPEG'] = function() {\n    return Module['asm']['_GetJPEG'].apply(null, arguments);\n  };\n  Module['_OpenStream'] = function() {\n    return Module['asm']['_OpenStream'].apply(null, arguments);\n  };\n  Module['_GetBMP'] = function() {\n    return Module['asm']['_GetBMP'].apply(null, arguments);\n  };\n  Module['_pthread_cond_broadcast'] = function() {\n    return Module['asm']['_pthread_cond_broadcast'].apply(null, arguments);\n  };\n  Module['___errno_location'] = function() {\n    return Module['asm']['___errno_location'].apply(null, arguments);\n  };\n  Module['runPostSets'] = function() {\n    return Module['asm']['runPostSets'].apply(null, arguments);\n  };\n  Module['___cxa_can_catch'] = function() {\n    return Module['asm']['___cxa_can_catch'].apply(null, arguments);\n  };\n  const _free = Module['_free'] = function() {\n    return Module['asm']['_free'].apply(null, arguments);\n  };\n  Module['_GetFrameBuffer'] = function() {\n    return Module['asm']['_GetFrameBuffer'].apply(null, arguments);\n  };\n  Module['establishStackSpace'] = function() {\n    return Module['asm']['establishStackSpace'].apply(null, arguments);\n  };\n  Module['_memmove'] = function() {\n    return Module['asm']['_memmove'].apply(null, arguments);\n  };\n  Module['_SetStreamOpenMode'] = function() {\n    return Module['asm']['_SetStreamOpenMode'].apply(null, arguments);\n  };\n  Module['stackRestore'] = function() {\n    return Module['asm']['stackRestore'].apply(null, arguments);\n  };\n  var _malloc = Module['_malloc'] = function() {\n    return Module['asm']['_malloc'].apply(null, arguments);\n  };\n  Module['_pthread_mutex_lock'] = function() {\n    return Module['asm']['_pthread_mutex_lock'].apply(null, arguments);\n  };\n  Module['_SetDecodeFrameType'] = function() {\n    return Module['asm']['_SetDecodeFrameType'].apply(null, arguments);\n  };\n  Module['_Stop'] = function() {\n    return Module['asm']['_Stop'].apply(null, arguments);\n  };\n  Module['dynCall_iiiiiiii'] = function() {\n    return Module['asm']['dynCall_iiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiii'] = function() {\n    return Module['asm']['dynCall_viiiii'].apply(null, arguments);\n  };\n  Module['dynCall_vi'] = function() {\n    return Module['asm']['dynCall_vi'].apply(null, arguments);\n  };\n  Module['dynCall_vii'] = function() {\n    return Module['asm']['dynCall_vii'].apply(null, arguments);\n  };\n  Module['dynCall_iiiiiii'] = function() {\n    return Module['asm']['dynCall_iiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_ii'] = function() {\n    return Module['asm']['dynCall_ii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_iiiiii'] = function() {\n    return Module['asm']['dynCall_iiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_iiii'] = function() {\n    return Module['asm']['dynCall_iiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_iii'] = function() {\n    return Module['asm']['dynCall_iii'].apply(null, arguments);\n  };\n  Module['dynCall_i'] = function() {\n    return Module['asm']['dynCall_i'].apply(null, arguments);\n  };\n  Module['dynCall_viiiiiiiiiiii'] = function() {\n    return Module['asm']['dynCall_viiiiiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_iiiii'] = function() {\n    return Module['asm']['dynCall_iiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viii'] = function() {\n    return Module['asm']['dynCall_viii'].apply(null, arguments);\n  };\n  Module['dynCall_v'] = function() {\n    return Module['asm']['dynCall_v'].apply(null, arguments);\n  };\n  Module['dynCall_iiiiiiiii'] = function() {\n    return Module['asm']['dynCall_iiiiiiiii'].apply(null, arguments);\n  };\n  Module['dynCall_viiii'] = function() {\n    return Module['asm']['dynCall_viiii'].apply(null, arguments);\n  };\n  Runtime.stackAlloc = Module['stackAlloc'];\n  Runtime.stackSave = Module['stackSave'];\n  Runtime.stackRestore = Module['stackRestore'];\n  Runtime.establishStackSpace = Module['establishStackSpace'];\n  Runtime.setTempRet0 = Module['setTempRet0'];\n  Runtime.getTempRet0 = Module['getTempRet0'];\n  Module['asm'] = asm;\n  if (memoryInitializer) {\n    if (typeof Module['locateFile'] === 'function') {\n      memoryInitializer = Module['locateFile'](memoryInitializer);\n    } else if (Module['memoryInitializerPrefixURL']) {\n      memoryInitializer = Module['memoryInitializerPrefixURL'] + memoryInitializer;\n    }\n    if (ENVIRONMENT_IS_NODE) {\n      var data = Module['readBinary'](memoryInitializer);\n      HEAPU8.set(data, Runtime.GLOBAL_BASE);\n    } else {\n      addRunDependency('memory initializer');\n      const applyMemoryInitializer = function(data) {\n        if (data.byteLength) data = new Uint8Array(data);\n        HEAPU8.set(data, Runtime.GLOBAL_BASE);\n        if (Module['memoryInitializerRequest']) delete Module['memoryInitializerRequest'].response;\n        removeRunDependency('memory initializer');\n      };\n\n      function doBrowserLoad() {\n        Module['readAsync'](memoryInitializer, applyMemoryInitializer, function() {\n          throw 'could not load memory initializer ' + memoryInitializer;\n        });\n      }\n\n      if (Module['memoryInitializerRequest']) {\n        function useRequest() {\n          var request = Module['memoryInitializerRequest'];\n          if (request.status !== 200 && request.status !== 0) {\n            console.warn('a problem seems to have happened with Module.memoryInitializerRequest, status: ' + request.status + ', retrying ' + memoryInitializer);\n            doBrowserLoad();\n            return;\n          }\n          applyMemoryInitializer(request.response);\n        }\n\n        if (Module['memoryInitializerRequest'].response) {\n          setTimeout(useRequest, 0);\n        } else {\n          Module['memoryInitializerRequest'].addEventListener('load', useRequest);\n        }\n      } else {\n        doBrowserLoad();\n      }\n    }\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  ExitStatus.prototype = new Error();\n  ExitStatus.prototype.constructor = ExitStatus;\n  var initialStackTop;\n  var preloadStartTime = null;\n  var calledMain = false;\n  dependenciesFulfilled = function runCaller() {\n    if (!Module['calledRun']) run();\n    if (!Module['calledRun']) dependenciesFulfilled = runCaller;\n  };\n  Module['callMain'] = Module.callMain = function callMain(args) {\n    args = args || [];\n    ensureInitRuntime();\n    var argc = args.length + 1;\n\n    function pad() {\n      for (let i = 0; i < 4 - 1; i++) {\n        argv.push(0);\n      }\n    }\n\n    var argv = [allocate(intArrayFromString(Module['thisProgram']), 'i8', ALLOC_NORMAL)];\n    pad();\n    for (let i = 0; i < argc - 1; i = i + 1) {\n      argv.push(allocate(intArrayFromString(args[i]), 'i8', ALLOC_NORMAL));\n      pad();\n    }\n    argv.push(0);\n    argv = allocate(argv, 'i32', ALLOC_NORMAL);\n    try {\n      var ret = Module['_main'](argc, argv, 0);\n      exit(ret, true);\n    } catch (e) {\n      if (e instanceof ExitStatus) {\n      } else if (e === 'SimulateInfiniteLoop') {\n        Module['noExitRuntime'] = true;\n      } else {\n        var toLog = e;\n        if (e && typeof e === 'object' && e.stack) {\n          toLog = [e, e.stack];\n        }\n        Module.printErr('exception thrown: ' + toLog);\n        Module['quit'](1, e);\n      }\n    } finally {\n      calledMain = true;\n    }\n  };\n\n  function run(args) {\n    args = args || Module['arguments'];\n    if (preloadStartTime === null) preloadStartTime = Date.now();\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) return;\n    if (Module['calledRun']) return;\n\n    function doRun() {\n      if (Module['calledRun']) return;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      ensureInitRuntime();\n      preMain();\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      if (Module['_main'] && shouldRunNow) Module['callMain'](args);\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function() {\n        setTimeout(function() {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  Module['run'] = Module.run = run;\n\n  function exit(status, implicit) {\n    if (implicit && Module['noExitRuntime']) {\n      return;\n    }\n    if (Module['noExitRuntime']) {\n    } else {\n      ABORT = true;\n      EXITSTATUS = status;\n      STACKTOP = initialStackTop;\n      exitRuntime();\n      if (Module['onExit']) Module['onExit'](status);\n    }\n    if (ENVIRONMENT_IS_NODE) {\n      process['exit'](status);\n    }\n    Module['quit'](status, new ExitStatus(status));\n  }\n\n  Module['exit'] = Module.exit = exit;\n  const abortDecorators = [];\n\n  function abort(what) {\n    if (Module['onAbort']) {\n      Module['onAbort'](what);\n    }\n    if (what !== undefined) {\n      Module.print(what);\n      Module.printErr(what);\n      what = JSON.stringify(what);\n    } else {\n      what = '';\n    }\n    ABORT = true;\n    EXITSTATUS = 1;\n    var extra = '\\nIf this abort() is unexpected, build with -s ASSERTIONS=1 which can give more information.';\n    var output = 'abort(' + what + ') at ' + stackTrace() + extra;\n    if (abortDecorators) {\n      abortDecorators.forEach(function(decorator) {\n        output = decorator(output, what);\n      });\n    }\n    throw output;\n  }\n\n  Module['abort'] = Module.abort = abort;\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] === 'function') Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  var shouldRunNow = true;\n  if (Module['noInitialRun']) {\n    shouldRunNow = false;\n  }\n  run();\n\n  Module.postRun.push(function() {\n    "+n+"({ 'function': 'loaded' });\n  });\n\n  var iStreamMode = 0; // 流模式\n\n  var bOpenMode = false;\n  var bOpenStream = false;\n\n  var funGetFrameData = null;\n\n  onmessage = function(event) {\n    var eventData = event.data;\n    var res = 0;\n    switch (eventData.command) {\n      case 'setWasmPath':\n        Module['wasmBinaryFile'] = eventData.data;\n        break;\n      case 'SetStreamOpenMode':\n        iStreamMode = eventData.data;\n        res = Module._SetStreamOpenMode(iStreamMode);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'SetStreamOpenMode', 'errorCode': res });\n          return;\n        }\n        bOpenMode = true;\n        break;\n\n      case 'OpenStream':\n        var iHeadLen = eventData.dataSize;\n        var pHead = Module._malloc(iHeadLen + 4);\n        if (pHead === null) {\n          return;\n        }\n        var aHead = Module.HEAPU8.subarray(pHead, pHead + iHeadLen);\n        aHead.set(eventData.data);\n\n        res = Module._OpenStream(pHead, iHeadLen, eventData.bufPoolSize);\n        "+n+"({ 'function': 'OpenStream', 'errorCode': res });\n        if (res !== HK_TRUE) {\n          // 释放内存\n          Module._free(pHead);\n          pHead = null;\n          return;\n        }\n        bOpenStream = true;\n\n        // 加4字节长度信息\n        var a32 = new Uint32Array([iHeadLen]);\n        var a8 = new Uint8Array(a32.buffer);\n        var tempBuf = new Uint8Array(iHeadLen + 4);\n        tempBuf.set(a8, 0);\n        tempBuf.set(eventData.data, 4);\n        a32 = null;\n        a8 = null;\n\n        aHead = Module.HEAPU8.subarray(pHead, pHead + iHeadLen + 4);\n        aHead.set(tempBuf);\n        tempBuf = null;\n\n        res = Module._InputData(pHead, iHeadLen + 4);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'InputData', 'errorCode': res });\n          Module._free(pHead);\n          pHead = null;\n          return;\n        }\n\n        // 释放内存\n        Module._free(pHead);\n        pHead = null;\n\n        if (funGetFrameData === null) {\n          funGetFrameData = Module.cwrap('GetFrameData', 'number');\n        }\n\n        if (iStreamMode === 0) {\n          // Module._GetFrameData();\n          funGetFrameData();\n        }\n        break;\n\n      case 'InputData':\n        var iLen = eventData.dataSize;\n\n        if (iLen > 0) {\n          var pInputData = Module._malloc(iLen);\n          if (pInputData === null) {\n            return;\n          }\n          var inputData = new Uint8Array(eventData.data);\n          Module.writeArrayToMemory(inputData, pInputData);\n          inputData = null;\n\n          res = Module._InputData(pInputData, iLen);\n          if (res !== HK_TRUE) {\n            if (res === 98) {\n              res = 1;\n            }\n            "+n+"({ 'function': 'InputData', 'errorCode': res });\n          }\n          Module._free(pInputData);\n          pData = null;\n        }\n\n        /// //////////////////\n        if (funGetFrameData === null) {\n          funGetFrameData = Module.cwrap('GetFrameData', 'number');\n        }\n\n        while (bOpenMode && bOpenStream) {\n          var ret = getFrameData(funGetFrameData);\n          if (PLAYM4_VIDEO_FRAME === ret || PLAYM4_NEED_MORE_DATA === ret) {\n            break;\n          }\n        }\n        break;\n\n      case 'SetSecretKey':\n        var keyLen = eventData.nKeyLen;\n        var pKeyData = Module._malloc(keyLen);\n        if (pKeyData === null) {\n          return;\n        }\n        var nKeySize = eventData.data.length;\n        var bufData = stringToBytes(eventData.data);\n        var aKeyData = Module.HEAPU8.subarray(pKeyData, pKeyData + keyLen);\n        aKeyData.set(new Uint8Array(bufData));\n\n        res = Module._SetSecretKey(eventData.nKeyType, pKeyData, keyLen, nKeySize);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'SetSecretKey', 'errorCode': res });\n          Module._free(pKeyData);\n          pKeyData = null;\n          return;\n        }\n\n        Module._free(pKeyData);\n        pKeyData = null;\n        break;\n\n      case 'GetBMP':\n        var nBMPWidth = eventData.width;\n        var nBMPHeight = eventData.height;\n        var pYUVData = eventData.data;\n        var nYUVSize = nBMPWidth * nBMPHeight * 3 / 2;\n        var oBMPCropRect = eventData.rect;\n\n        var pDataYUV = Module._malloc(nYUVSize);\n        if (pDataYUV === null) {\n          return;\n        }\n\n        Module.writeArrayToMemory(new Uint8Array(pYUVData, 0, nYUVSize), pDataYUV);\n\n        // 分配BMP空间\n        var nBmpSize = nBMPWidth * nBMPHeight * 4 + 60;\n        var pBmpData = Module._malloc(nBmpSize);\n        var pBmpSize = Module._malloc(4);\n        if (pBmpData === null || pBmpSize === null) {\n          Module._free(pDataYUV);\n          pDataYUV = null;\n\n          if (pBmpData != null) {\n            Module._free(pBmpData);\n            pBmpData = null;\n          }\n\n          if (pBmpSize != null) {\n            Module._free(pBmpSize);\n            pBmpSize = null;\n          }\n          return;\n        }\n\n        Module._memset(pBmpSize, nBmpSize, 4); // 防止bmp截图出现输入数据过大的错误码\n\n        res = Module._GetBMP(pDataYUV, nYUVSize, pBmpData, pBmpSize,\n            oBMPCropRect.left, oBMPCropRect.top, oBMPCropRect.right, oBMPCropRect.bottom);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'GetBMP', 'errorCode': res });\n          Module._free(pDataYUV);\n          pDataYUV = null;\n          Module._free(pBmpData);\n          pBmpData = null;\n          Module._free(pBmpSize);\n          pBmpSize = null;\n          return;\n        }\n\n        // 获取BMP图片大小\n        var nBmpDataSize = Module.getValue(pBmpSize, 'i32');\n\n        // 获取BMP图片数据\n        var aBmpData = new Uint8Array(nBmpDataSize);\n        aBmpData.set(Module.HEAPU8.subarray(pBmpData, pBmpData + nBmpDataSize));\n\n        "+n+"({ 'function': 'GetBMP', 'data': aBmpData, 'errorCode': res }, [aBmpData.buffer]);\n\n        if (pDataYUV != null) {\n          Module._free(pDataYUV);\n          pDataYUV = null;\n        }\n        if (pBmpData != null) {\n          Module._free(pBmpData);\n          pBmpData = null;\n        }\n        if (pBmpSize != null) {\n          Module._free(pBmpSize);\n          pBmpSize = null;\n        }\n        break;\n\n      case 'GetJPEG':\n        var nJpegWidth = eventData.width;\n        var nJpegHeight = eventData.height;\n        var pYUVData1 = eventData.data;\n        var nYUVSize1 = nJpegWidth * nJpegHeight * 3 / 2;\n        var oJpegCropRect = eventData.rect;\n\n        var pDataYUV1 = Module._malloc(nYUVSize1);\n        if (pDataYUV1 === null) {\n          return;\n        }\n\n        Module.writeArrayToMemory(new Uint8Array(pYUVData1, 0, nYUVSize1), pDataYUV1);\n\n        // 分配JPEG空间\n        var pJpegData = Module._malloc(nYUVSize1);\n        var pJpegSize = Module._malloc(4);\n        if (pJpegData === null || pJpegSize === null) {\n          if (pJpegData != null) {\n            Module._free(pJpegData);\n            pJpegData = null;\n          }\n\n          if (pJpegSize != null) {\n            Module._free(pJpegSize);\n            pJpegSize = null;\n          }\n\n          if (pDataYUV1 != null) {\n            Module._free(pDataYUV1);\n            pDataYUV1 = null;\n          }\n          return;\n        }\n\n        Module.setValue(pJpegSize, nJpegWidth * nJpegHeight * 2, 'i32'); // JPEG抓图，输入缓冲长度不小于当前帧YUV大小\n\n        res = Module._GetJPEG(pDataYUV1, nYUVSize1, pJpegData, pJpegSize,\n            oJpegCropRect.left, oJpegCropRect.top, oJpegCropRect.right, oJpegCropRect.bottom);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'GetJPEG', 'errorCode': res });\n          if (pJpegData != null) {\n            Module._free(pJpegData);\n            pJpegData = null;\n          }\n\n          if (pJpegSize != null) {\n            Module._free(pJpegSize);\n            pJpegSize = null;\n          }\n\n          if (pDataYUV1 != null) {\n            Module._free(pDataYUV1);\n            pDataYUV1 = null;\n          }\n          return;\n        }\n\n        // 获取JPEG图片大小\n        var nJpegSize = Module.getValue(pJpegSize, 'i32');\n\n        // 获取JPEG图片数据\n        var aJpegData = new Uint8Array(nJpegSize);\n        aJpegData.set(Module.HEAPU8.subarray(pJpegData, pJpegData + nJpegSize));\n\n        "+n+"({ 'function': 'GetJPEG', 'data': aJpegData, 'errorCode': res }, [aJpegData.buffer]);\n\n        ajpegSizeData = null;\n        aJpegData = null;\n\n        if (pDataYUV1 != null) {\n          Module._free(pDataYUV1);\n          pDataYUV1 = null;\n        }\n        if (pJpegData != null) {\n          Module._free(pJpegData);\n          pJpegData = null;\n        }\n        if (pJpegSize != null) {\n          Module._free(pJpegSize);\n          pJpegSize = null;\n        }\n        break;\n\n      case 'SetDecodeFrameType':\n        var nFrameType = eventData.data;\n        res = Module._SetDecodeFrameType(nFrameType);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'SetDecodeFrameType', 'errorCode': res });\n        }\n        break;\n\n      case 'DisplayRegion':\n        var nRegionNum = eventData.nRegionNum;\n        var srcRect = eventData.srcRect;\n        var hDestWnd = eventData.hDestWnd;\n        var bEnable = eventData.bEnable;\n\n        res = Module._SetDisplayRegion(nRegionNum, srcRect, hDestWnd, bEnable);\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'DisplayRegion', 'errorCode': res });\n        }\n        break;\n\n      case 'CloseStream':\n        res = Module._CloseStream();\n        if (res !== HK_TRUE) {\n          "+n+"({ 'function': 'CloseStream', 'errorCode': res });\n        }\n        break;\n\n      case 'SetIFrameDecInterval':\n        Module._SetIFrameDecInterval(eventData.data);\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  function getOSDTime(oFrameInfo) {\n    var iYear = oFrameInfo.year;\n    var iMonth = oFrameInfo.month;\n    var iDay = oFrameInfo.day;\n    var iHour = oFrameInfo.hour;\n    var iMinute = oFrameInfo.minute;\n    var iSecond = oFrameInfo.second;\n\n    if (iMonth < 10) {\n      iMonth = '0' + iMonth;\n    }\n    if (iDay < 10) {\n      iDay = '0' + iDay;\n    }\n    if (iHour < 10) {\n      iHour = '0' + iHour;\n    }\n    if (iMinute < 10) {\n      iMinute = '0' + iMinute;\n    }\n    if (iSecond < 10) {\n      iSecond = '0' + iSecond;\n    }\n\n    return iYear + '-' + iMonth + '-' + iDay + ' ' + iHour + ':' + iMinute + ':' + iSecond;\n  }\n\n  // 获取帧数据\n  function getFrameData(fun) {\n    // function getFrameData() {\n    // 获取帧数据\n    // var res = Module._GetFrameData();\n    var res = fun();\n\n    if (res === HK_TRUE) {\n      var oFrameInfo = Module._GetFrameInfo();\n      // console.log(\"getFrameData-ok:%d %d %d %d %d %d \\n\", oFrameInfo.year, oFrameInfo.month, oFrameInfo.day, oFrameInfo.hour, oFrameInfo.minute, oFrameInfo.second);\n\n      switch (oFrameInfo.frameType) {\n        case AUDIO_TYPE:\n          var iSize = oFrameInfo.frameSize;\n          if (iSize === 0) {\n            return -1;\n          }\n\n          var pPCM = Module._GetFrameBuffer();\n          // var audioBuf = new ArrayBuffer(iSize);\n          var aPCMData = new Uint8Array(iSize);\n          aPCMData.set(Module.HEAPU8.subarray(pPCM, pPCM + iSize));\n\n          "+n+"({\n            'function': 'GetFrameData',\n            'type': 'audioType',\n            'data': aPCMData.buffer,\n            'frameInfo': oFrameInfo,\n            'errorCode': res\n          }, [aPCMData.buffer]);\n\n          oFrameInfo = null;\n          pPCM = null;\n          audioBuf = null;\n          aPCMData = null;\n          return PLAYM4_AUDIO_FRAME;\n\n        case VIDEO_TYPE:\n          var szOSDTime = getOSDTime(oFrameInfo);\n\n          var iWidth = oFrameInfo.width;\n          var iHeight = oFrameInfo.height;\n\n          var iYUVSize = iWidth * iHeight * 3 / 2;\n          if (iYUVSize === 0) {\n            return -1;\n          }\n\n          let pYUV = Module._GetFrameBuffer();\n\n          // 图像数据渲染后压回，若从主码流切到子码流，存在数组大小与图像大小不匹配现象\n          let aYUVData = new Uint8Array(iYUVSize);\n          aYUVData.set(Module.HEAPU8.subarray(pYUV, pYUV + iYUVSize));\n\n          "+n+"({\n            'function': 'GetFrameData',\n            'type': 'videoType',\n            'data': aYUVData.buffer,\n            'dataLen': aYUVData.length,\n            'osd': szOSDTime,\n            'frameInfo': oFrameInfo,\n            'errorCode': res\n          }, [aYUVData.buffer]);\n\n          oFrameInfo = null;\n          pYUV = null;\n          buf = null;\n          aYUVData = null;\n          return PLAYM4_VIDEO_FRAME;\n\n        case PRIVT_TYPE:\n          "+n+"({\n            'function': 'GetFrameData',\n            'type': '',\n            'data': null,\n            'dataLen': -1,\n            'osd': 0,\n            'frameInfo': null,\n            'errorCode': PLAYM4_SYS_NOT_SUPPORT\n          });\n          return PLAYM4_SYS_NOT_SUPPORT;\n\n        default:\n          "+n+"({\n            'function': 'GetFrameData',\n            'type': '',\n            'data': null,\n            'dataLen': -1,\n            'osd': 0,\n            'frameInfo': null,\n            'errorCode': PLAYM4_SYS_NOT_SUPPORT\n          });\n          return PLAYM4_SYS_NOT_SUPPORT;\n      }\n    } else {\n      if (PLAYM4_NEED_MORE_DATA === res || PLAYM4_SYS_NOT_SUPPORT === res) {\n        "+n+"({\n          'function': 'GetFrameData',\n          'type': '',\n          'data': null,\n          'dataLen': -1,\n          'osd': 0,\n          'frameInfo': null,\n          'errorCode': res\n        });\n      }\n\n      return res;\n    }\n  }\n\n  function stringToBytes(str) {\n    let ch;\n    let st;\n    let re = [];\n    for (let i = 0; i < str.length; i++) {\n      ch = str.charCodeAt(i); // get char\n      st = []; // set up \"stack\"\n      do {\n        st.push(ch & 0xFF); // push byte to stack\n        ch = ch >> 8; // shift value down by 1 byte\n      }\n      while (ch);\n      // add stack contents to result\n      // done because chars have \"wrong\" endianness\n      re = re.concat(st.reverse());\n    }\n    // return an array of bytes\n    return re;\n  }\n})();\n"}},function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(i=r))}),t.splice(i,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(47)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3,r=6e4,i=60*r,o=24*i;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return s(e,t,o,"day");if(t>=i)return s(e,t,i,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=i)return Math.round(e/i)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){const r=n(48),i=n(83);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const t=this.color,i="[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=n(84);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(47)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";const r=n(39),i=n(48),o=n(85),{env:s}=process;let a;function u(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===s.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in s)||"codeship"===s.CI_NAME?1:n;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in s)return 1;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return u(c(e,e&&e.isTTY))},stdout:u(c(!0,i.isatty(1))),stderr:u(c(!0,i.isatty(2)))}},function(e,t,n){"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),i=t.indexOf("--");return-1!==r&&(-1===i||r<i)}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=86},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(6),s=n(88).fork,a=o.join(t,"worker.js"),u=/^(error|message)$/,c={inspect:9229,debug:5858},l={min:1,max:300},p=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cwd:process.cwd()};i(this,e);var u="function"==typeof t,p=u?t.toString():t;o.cwd||(o.cwd=process.cwd());var h=process.execArgv.filter((function(e){return/(debug|inspect)/.test(e)}));if(h.length>0&&!o.noDebugRedirection){o.execArgv||(h=Array.from(process.execArgv),o.execArgv=[]);var d=h.findIndex((function(e){return/^--inspect(-brk)?(=\d+)?$/.test(e)})),f=h.findIndex((function(e){return/^--debug(-brk)?(=\d+)?$/.test(e)})),m=d>=0?d:f;if(m>=0){var y=/^--(debug|inspect)(?:-brk)?(?:=(\d+))?$/.exec(h[m]),_=c[y[1]];y[2]&&(_=parseInt(y[2])),h[m]="--"+y[1]+"="+(_+l.min+Math.floor(Math.random()*(l.max-l.min))),f>=0&&f!==m&&(y=/^(--debug)(?:-brk)?(.*)/.exec(h[f]),h[f]=y[1]+(y[2]?y[2]:""))}o.execArgv=o.execArgv.concat(h)}delete o.noDebugRedirection,this.child=s(a,r,o),this.onerror=void 0,this.onmessage=void 0,this.child.on("error",(function(e){n.onerror&&n.onerror.call(n,e)})),this.child.on("message",(function(e){var t=JSON.parse(e),r=void 0;!t.error&&n.onmessage&&n.onmessage.call(n,t),t.error&&n.onerror&&((r=new Error(t.error)).stack=t.stack,n.onerror.call(n,r))})),this.child.send({input:p,isfn:u,cwd:o.cwd,esm:o.esm})}return r(e,[{key:"addEventListener",value:function(e,t){u.test(e)&&(this["on"+e]=t)}},{key:"postMessage",value:function(e){this.child.send(JSON.stringify({data:e},null,0))}},{key:"terminate",value:function(){this.child.kill("SIGINT")}}],[{key:"setRange",value:function(e,t){return!(e>=t)&&(l.min=e,l.max=t,!0)}}]),e}();e.exports=p}).call(this,"/")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";n.r(t),function(e){var r,i=n(68);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:e;var o=Object(i.a)(r);t.default=o}.call(this,n(90)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;var r=function(){function e(){}return e.prototype.addEventListener=function(e,t){void 0===this._listeners&&(this._listeners=new Map);var n=this._listeners,r=n.get(e);void 0===r?n.set(e,[t]):-1===r.indexOf(t)&&r.push(t)},e.prototype.hasEventListener=function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners.get(e);return void 0!==n&&-1!==n.indexOf(t)},e.prototype.removeEventListener=function(e,t){if(void 0!==this._listeners){var n=this._listeners.get(e);if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},e.prototype.dispatchEvent=function(e){if(void 0===this._listeners)return!1;var t=this._listeners.get(e.type);if(void 0!==t){for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);return!0}return!1},e}();t.EventEmitter=r},function(e,t,n){(function(){"use strict";var e,r,i,o,s={}.hasOwnProperty;r=n(21),e=n(93),i=n(102),o=n(36),t.defaults=r.defaults,t.processors=o,t.ValidationError=function(e){function t(e){this.message=e}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,Error),t}(),t.Builder=e.Builder,t.Parser=i.Parser,t.parseString=i.parseString,t.parseStringPromise=i.parseStringPromise}).call(this)},function(e,t,n){(function(){"use strict";var e,r,i,o,s,a={}.hasOwnProperty;e=n(94),r=n(21).defaults,o=function(e){return"string"==typeof e&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)},s=function(e){return"<![CDATA["+i(e)+"]]>"},i=function(e){return e.replace("]]>","]]]]><![CDATA[>")},t.Builder=function(){function t(e){var t,n,i;for(t in this.options={},n=r[.2])a.call(n,t)&&(i=n[t],this.options[t]=i);for(t in e)a.call(e,t)&&(i=e[t],this.options[t]=i)}return t.prototype.buildObject=function(t){var n,i,u,c,l,p;return n=this.options.attrkey,i=this.options.charkey,1===Object.keys(t).length&&this.options.rootName===r[.2].rootName?t=t[l=Object.keys(t)[0]]:l=this.options.rootName,p=this,u=function(e,t){var r,c,l,h,d,f;if("object"!=typeof t)p.options.cdata&&o(t)?e.raw(s(t)):e.txt(t);else if(Array.isArray(t)){for(h in t)if(a.call(t,h))for(d in c=t[h])l=c[d],e=u(e.ele(d),l).up()}else for(d in t)if(a.call(t,d))if(c=t[d],d===n){if("object"==typeof c)for(r in c)f=c[r],e=e.att(r,f)}else if(d===i)e=p.options.cdata&&o(c)?e.raw(s(c)):e.txt(c);else if(Array.isArray(c))for(h in c)a.call(c,h)&&(e="string"==typeof(l=c[h])?p.options.cdata&&o(l)?e.ele(d).raw(s(l)).up():e.ele(d,l).up():u(e.ele(d),l).up());else"object"==typeof c?e=u(e.ele(d),c).up():"string"==typeof c&&p.options.cdata&&o(c)?e=e.ele(d).raw(s(c)).up():(null==c&&(c=""),e=e.ele(d,c.toString()).up());return e},c=e.create(l,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),u(c,t).end(this.options.renderOpts)},t}()}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,u,c,l,p;p=n(3),c=p.assign,l=p.isFunction,i=n(49),o=n(50),s=n(100),u=n(35),a=n(101),t=n(0),r=n(14),e.exports.create=function(e,t,n,r){var i,s;if(null==e)throw new Error("Root element needs a name.");return r=c({},t,n,r),s=(i=new o(r)).element(e),r.headless||(i.declaration(r),null==r.pubID&&null==r.sysID||i.dtd(r)),s},e.exports.begin=function(e,t,n){var r;return l(e)&&(t=(r=[e,t])[0],n=r[1],e={}),t?new s(e,t,n):new o(e)},e.exports.stringWriter=function(e){return new u(e)},e.exports.streamWriter=function(e,t){return new a(e,t)},e.exports.implementation=new i,e.exports.nodeType=t,e.exports.writerState=r}).call(this)},function(e,t,n){(function(){var t,r;t=n(96),r=n(97),e.exports=function(){function e(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(e.prototype,"parameterNames",{get:function(){return new r(Object.keys(this.defaultParams))}}),e.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},e.prototype.canSetParameter=function(e,t){return!0},e.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},e}()}).call(this)},function(e,t){(function(){e.exports=function(){function e(){}return e.prototype.handleError=function(e){throw new Error(e)},e}()}).call(this)},function(e,t){(function(){e.exports=function(){function e(e){this.arr=e||[]}return Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e}()}).call(this)},function(e,t){(function(){e.exports=function(){function e(e){this.nodes=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e}()}).call(this)},function(e,t){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},function(e,t,n){(function(){var t,r,i,o,s,a,u,c,l,p,h,d,f,m,y,_,g,v,b,w,T,E,S,A={}.hasOwnProperty;S=n(3),T=S.isObject,w=S.isFunction,E=S.isPlainObject,b=S.getValue,t=n(0),d=n(50),f=n(22),o=n(24),s=n(25),y=n(32),v=n(33),m=n(34),p=n(26),h=n(27),a=n(28),c=n(29),u=n(30),l=n(31),i=n(51),g=n(53),_=n(35),r=n(14),e.exports=function(){function e(e,n,r){var i;this.name="?xml",this.type=t.Document,e||(e={}),i={},e.writer?E(e.writer)&&(i=e.writer,e.writer=new _):e.writer=new _,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(i),this.stringify=new g(e),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return e.prototype.createChildNode=function(e){var n,r,i,o,s,a,u,c;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(r in i={},u=e.attribs)A.call(u,r)&&(n=u[r],i[r]=n.value);this.node(e.name,i);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,a=(c=e.children).length;s<a;s++)o=c[s],this.createChildNode(o),o.type===t.Element&&this.up();return this},e.prototype.dummy=function(){return this},e.prototype.node=function(e,t,n){var r;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=b(e),null==t&&(t={}),t=b(t),T(t)||(n=(r=[t,n])[0],t=r[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},e.prototype.element=function(e,n,r){var i,o,s,a,u,c;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||T(e)||w(e))for(a=this.options.noValidation,this.options.noValidation=!0,(c=new d(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=a,o=0,s=(u=c.children).length;o<s;o++)i=u[o],this.createChildNode(i),i.type===t.Element&&this.up();else this.node(e,n,r);return this},e.prototype.attribute=function(e,t){var n,r;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=b(e)),T(e))for(n in e)A.call(e,n)&&(r=e[n],this.attribute(n,r));else w(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new i(this,e,""):null!=t&&(this.currentNode.attribs[e]=new i(this,e,t));return this},e.prototype.text=function(e){var t;return this.openCurrent(),t=new v(this,e),this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.cdata=function(e){var t;return this.openCurrent(),t=new o(this,e),this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.comment=function(e){var t;return this.openCurrent(),t=new s(this,e),this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.raw=function(e){var t;return this.openCurrent(),t=new y(this,e),this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.instruction=function(e,t){var n,r,i,o,s;if(this.openCurrent(),null!=e&&(e=b(e)),null!=t&&(t=b(t)),Array.isArray(e))for(n=0,o=e.length;n<o;n++)r=e[n],this.instruction(r);else if(T(e))for(r in e)A.call(e,r)&&(i=e[r],this.instruction(r,i));else w(t)&&(t=t.apply()),s=new m(this,e,t),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},e.prototype.declaration=function(e,t,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new p(this,e,t,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.doctype=function(e,t,n){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,t,n),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},e.prototype.dtdElement=function(e,t){var n;return this.openCurrent(),n=new u(this,e,t),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.attList=function(e,t,n,r,i){var o;return this.openCurrent(),o=new a(this,e,t,n,r,i),this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.entity=function(e,t){var n;return this.openCurrent(),n=new c(this,!1,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.pEntity=function(e,t){var n;return this.openCurrent(),n=new c(this,!0,e,t),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.notation=function(e,t){var n;return this.openCurrent(),n=new l(this,e,t),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},e.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},e.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},e.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},e.prototype.openNode=function(e){var n,i,o,s;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==t.Element||(this.root=e),i="",e.type===t.Element){for(o in this.writerOptions.state=r.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,s=e.attribs)A.call(s,o)&&(n=s[o],i+=this.writer.attribute(n,this.writerOptions,this.currentLevel));i+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.InsideTag}else this.writerOptions.state=r.OpenTag,i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(i+=' SYSTEM "'+e.sysID+'"'),e.children?(i+=" [",this.writerOptions.state=r.InsideTag):(this.writerOptions.state=r.CloseTag,i+=">"),i+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(i,this.currentLevel),e.isOpen=!0}},e.prototype.closeNode=function(e){var n;if(!e.isClosed)return n="",this.writerOptions.state=r.CloseTag,n=e.type===t.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=r.None,this.onData(n,this.currentLevel),e.isClosed=!0},e.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},e.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},e.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},e.prototype.ele=function(){return this.element.apply(this,arguments)},e.prototype.nod=function(e,t,n){return this.node(e,t,n)},e.prototype.txt=function(e){return this.text(e)},e.prototype.dat=function(e){return this.cdata(e)},e.prototype.com=function(e){return this.comment(e)},e.prototype.ins=function(e,t){return this.instruction(e,t)},e.prototype.dec=function(e,t,n){return this.declaration(e,t,n)},e.prototype.dtd=function(e,t,n){return this.doctype(e,t,n)},e.prototype.e=function(e,t,n){return this.element(e,t,n)},e.prototype.n=function(e,t,n){return this.node(e,t,n)},e.prototype.t=function(e){return this.text(e)},e.prototype.d=function(e){return this.cdata(e)},e.prototype.c=function(e){return this.comment(e)},e.prototype.r=function(e){return this.raw(e)},e.prototype.i=function(e,t){return this.instruction(e,t)},e.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},e.prototype.ent=function(e,t){return this.entity(e,t)},e.prototype.pent=function(e,t){return this.pEntity(e,t)},e.prototype.not=function(e,t){return this.notation(e,t)},e}()}).call(this)},function(e,t,n){(function(){var t,r,i,o={}.hasOwnProperty;t=n(0),i=n(54),r=n(14),e.exports=function(e){function n(e,t){this.stream=e,n.__super__.constructor.call(this,t)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,e),n.prototype.endline=function(e,t,i){return e.isLastRootNode&&t.state===r.CloseTag?"":n.__super__.endline.call(this,e,t,i)},n.prototype.document=function(e,t){var n,r,i,o,s,a,u,c,l;for(r=i=0,s=(u=e.children).length;i<s;r=++i)(n=u[r]).isLastRootNode=r===e.children.length-1;for(t=this.filterOptions(t),l=[],o=0,a=(c=e.children).length;o<a;o++)n=c[o],l.push(this.writeChildNode(n,t,0));return l},n.prototype.attribute=function(e,t,r){return this.stream.write(n.__super__.attribute.call(this,e,t,r))},n.prototype.cdata=function(e,t,r){return this.stream.write(n.__super__.cdata.call(this,e,t,r))},n.prototype.comment=function(e,t,r){return this.stream.write(n.__super__.comment.call(this,e,t,r))},n.prototype.declaration=function(e,t,r){return this.stream.write(n.__super__.declaration.call(this,e,t,r))},n.prototype.docType=function(e,t,n){var i,o,s,a;if(n||(n=0),this.openNode(e,t,n),t.state=r.OpenTag,this.stream.write(this.indent(e,t,n)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),e.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,n)),t.state=r.InsideTag,o=0,s=(a=e.children).length;o<s;o++)i=a[o],this.writeChildNode(i,t,n+1);t.state=r.CloseTag,this.stream.write("]")}return t.state=r.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,n)),t.state=r.None,this.closeNode(e,t,n)},n.prototype.element=function(e,n,i){var s,a,u,c,l,p,h,d,f;for(h in i||(i=0),this.openNode(e,n,i),n.state=r.OpenTag,this.stream.write(this.indent(e,n,i)+"<"+e.name),d=e.attribs)o.call(d,h)&&(s=d[h],this.attribute(s,n,i));if(c=0===(u=e.children.length)?null:e.children[0],0===u||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))n.allowEmpty?(this.stream.write(">"),n.state=r.CloseTag,this.stream.write("</"+e.name+">")):(n.state=r.CloseTag,this.stream.write(n.spaceBeforeSlash+"/>"));else if(!n.pretty||1!==u||c.type!==t.Text&&c.type!==t.Raw||null==c.value){for(this.stream.write(">"+this.endline(e,n,i)),n.state=r.InsideTag,l=0,p=(f=e.children).length;l<p;l++)a=f[l],this.writeChildNode(a,n,i+1);n.state=r.CloseTag,this.stream.write(this.indent(e,n,i)+"</"+e.name+">")}else this.stream.write(">"),n.state=r.InsideTag,n.suppressPrettyCount++,!0,this.writeChildNode(c,n,i+1),n.suppressPrettyCount--,!1,n.state=r.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,n,i)),n.state=r.None,this.closeNode(e,n,i)},n.prototype.processingInstruction=function(e,t,r){return this.stream.write(n.__super__.processingInstruction.call(this,e,t,r))},n.prototype.raw=function(e,t,r){return this.stream.write(n.__super__.raw.call(this,e,t,r))},n.prototype.text=function(e,t,r){return this.stream.write(n.__super__.text.call(this,e,t,r))},n.prototype.dtdAttList=function(e,t,r){return this.stream.write(n.__super__.dtdAttList.call(this,e,t,r))},n.prototype.dtdElement=function(e,t,r){return this.stream.write(n.__super__.dtdElement.call(this,e,t,r))},n.prototype.dtdEntity=function(e,t,r){return this.stream.write(n.__super__.dtdEntity.call(this,e,t,r))},n.prototype.dtdNotation=function(e,t,r){return this.stream.write(n.__super__.dtdNotation.call(this,e,t,r))},n}(i)}).call(this)},function(e,t,n){(function(){"use strict";var e,r,i,o,s,a,u,c,l=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty;u=n(103),i=n(7),e=n(105),a=n(36),c=n(106).setImmediate,r=n(21).defaults,o=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},s=function(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)t=(0,e[r])(t,n);return t},t.Parser=function(n){function i(e){var n,i,o;if(this.parseStringPromise=l(this.parseStringPromise,this),this.parseString=l(this.parseString,this),this.reset=l(this.reset,this),this.assignOrPush=l(this.assignOrPush,this),this.processAsync=l(this.processAsync,this),!(this instanceof t.Parser))return new t.Parser(e);for(n in this.options={},i=r[.2])p.call(i,n)&&(o=i[n],this.options[n]=o);for(n in e)p.call(e,n)&&(o=e[n],this.options[n]=o);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(a.normalize)),this.reset()}return function(e,t){for(var n in t)p.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(i,n),i.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),c(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},i.prototype.assignOrPush=function(e,t,n){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(n)):this.options.explicitArray?e[t]=[n]:e[t]=n},i.prototype.reset=function(){var e,t,n,r,i;return this.removeAllListeners(),this.saxParser=u.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(i=this,function(e){if(i.saxParser.resume(),!i.saxParser.errThrown)return i.saxParser.errThrown=!0,i.emit("error",e)}),this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended)return e.saxParser.ended=!0,e.emit("end",e.resultObject)}}(this),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,r=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=function(n){return function(i){var o,a,u,c,l;if((u={})[t]="",!n.options.ignoreAttrs)for(o in l=i.attributes)p.call(l,o)&&(e in u||n.options.mergeAttrs||(u[e]={}),a=n.options.attrValueProcessors?s(n.options.attrValueProcessors,i.attributes[o],o):i.attributes[o],c=n.options.attrNameProcessors?s(n.options.attrNameProcessors,o):o,n.options.mergeAttrs?n.assignOrPush(u,c,a):u[e][c]=a);return u["#name"]=n.options.tagNameProcessors?s(n.options.tagNameProcessors,i.name):i.name,n.options.xmlns&&(u[n.options.xmlnskey]={uri:i.uri,local:i.local}),r.push(u)}}(this),this.saxParser.onclosetag=function(e){return function(){var n,i,a,u,c,l,h,d,f,m;if(l=r.pop(),c=l["#name"],e.options.explicitChildren&&e.options.preserveChildrenOrder||delete l["#name"],!0===l.cdata&&(n=l.cdata,delete l.cdata),f=r[r.length-1],l[t].match(/^\s*$/)&&!n?(i=l[t],delete l[t]):(e.options.trim&&(l[t]=l[t].trim()),e.options.normalize&&(l[t]=l[t].replace(/\s{2,}/g," ").trim()),l[t]=e.options.valueProcessors?s(e.options.valueProcessors,l[t],c):l[t],1===Object.keys(l).length&&t in l&&!e.EXPLICIT_CHARKEY&&(l=l[t])),o(l)&&(l=""!==e.options.emptyTag?e.options.emptyTag:i),null!=e.options.validator&&(m="/"+function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)u=r[e],n.push(u["#name"]);return n}().concat(c).join("/"),function(){var t;try{l=e.options.validator(m,f&&f[c],l)}catch(n){return t=n,e.emit("error",t)}}()),e.options.explicitChildren&&!e.options.mergeAttrs&&"object"==typeof l)if(e.options.preserveChildrenOrder){if(f){for(a in f[e.options.childkey]=f[e.options.childkey]||[],h={},l)p.call(l,a)&&(h[a]=l[a]);f[e.options.childkey].push(h),delete l["#name"],1===Object.keys(l).length&&t in l&&!e.EXPLICIT_CHARKEY&&(l=l[t])}}else u={},e.options.attrkey in l&&(u[e.options.attrkey]=l[e.options.attrkey],delete l[e.options.attrkey]),!e.options.charsAsChildren&&e.options.charkey in l&&(u[e.options.charkey]=l[e.options.charkey],delete l[e.options.charkey]),Object.getOwnPropertyNames(l).length>0&&(u[e.options.childkey]=l),l=u;return r.length>0?e.assignOrPush(f,c,l):(e.options.explicitRoot&&(d=l,(l={})[c]=d),e.resultObject=l,e.saxParser.ended=!0,e.emit("end",e.resultObject))}}(this),n=function(e){return function(n){var i,o;if(o=r[r.length-1])return o[t]+=n,e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||""!==n.replace(/\\n/g,"").trim())&&(o[e.options.childkey]=o[e.options.childkey]||[],(i={"#name":"__text__"})[t]=n,e.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),o[e.options.childkey].push(i)),o}}(this),this.saxParser.ontext=n,this.saxParser.oncdata=function(e){var t;if(t=n(e))return t.cdata=!0}},i.prototype.parseString=function(t,n){var r;null!=n&&"function"==typeof n&&(this.on("end",(function(e){return this.reset(),n(null,e)})),this.on("error",(function(e){return this.reset(),n(e)})));try{return""===(t=t.toString()).trim()?(this.emit("end",null),!0):(t=e.stripBOM(t),this.options.async?(this.remaining=t,c(this.processAsync),this.saxParser):this.saxParser.write(t).close())}catch(e){if(r=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",r),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw r}},i.prototype.parseStringPromise=function(e){return new Promise((t=this,function(n,r){return t.parseString(e,(function(e,t){return e?r(e):n(t)}))}));var t},i}(i),t.parseString=function(e,n,r){var i,o;return null!=r?("function"==typeof r&&(i=r),"object"==typeof n&&(o=n)):("function"==typeof n&&(i=n),o={}),new t.Parser(o).parseString(e,i)},t.parseStringPromise=function(e,n){var r;return"object"==typeof n&&(r=n),new t.Parser(r).parseStringPromise(e)}}).call(this)},function(e,t,n){!function(e){e.parser=function(e,t){return new i(e,t)},e.SAXParser=i,e.SAXStream=s,e.createStream=function(e,t){return new s(e,t)},e.MAX_BUFFER_LENGTH=65536;var t,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(t,n){if(!(this instanceof i))return new i(t,n);!function(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}(this),this.q=this.c="",this.bufferCheckPosition=e.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!t,this.noscript=!(!t&&!this.opt.noscript),this.state=w.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(u)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),E(this,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),i.prototype={end:function(){C(this)},write:function(t){if(this.error)throw this.error;if(this.closed)return M(this,"Cannot write after close. Assign an onready handler.");if(null===t)return C(this);"object"==typeof t&&(t=t.toString());var n=0,i="";for(;i=F(t,n++),this.c=i,i;)switch(this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++),this.state){case w.BEGIN:if(this.state=w.BEGIN_WHITESPACE,"\ufeff"===i)continue;L(this,i);continue;case w.BEGIN_WHITESPACE:L(this,i);continue;case w.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)(i=F(t,n++))&&this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++);this.textNode+=t.substring(o,n-1)}"<"!==i||this.sawRoot&&this.closedRoot&&!this.strict?(d(i)||this.sawRoot&&!this.closedRoot||I(this,"Text data outside of root node."),"&"===i?this.state=w.TEXT_ENTITY:this.textNode+=i):(this.state=w.OPEN_WAKA,this.startTagPosition=this.position);continue;case w.SCRIPT:"<"===i?this.state=w.SCRIPT_ENDING:this.script+=i;continue;case w.SCRIPT_ENDING:"/"===i?this.state=w.CLOSE_TAG:(this.script+="<"+i,this.state=w.SCRIPT);continue;case w.OPEN_WAKA:if("!"===i)this.state=w.SGML_DECL,this.sgmlDecl="";else if(d(i));else if(y(c,i))this.state=w.OPEN_TAG,this.tagName=i;else if("/"===i)this.state=w.CLOSE_TAG,this.tagName="";else if("?"===i)this.state=w.PROC_INST,this.procInstName=this.procInstBody="";else{if(I(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;i=new Array(s).join(" ")+i}this.textNode+="<"+i,this.state=w.TEXT}continue;case w.SGML_DECL:"[CDATA["===(this.sgmlDecl+i).toUpperCase()?(S(this,"onopencdata"),this.state=w.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+i==="--"?(this.state=w.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+i).toUpperCase()?(this.state=w.DOCTYPE,(this.doctype||this.sawRoot)&&I(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===i?(S(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=w.TEXT):f(i)?(this.state=w.SGML_DECL_QUOTED,this.sgmlDecl+=i):this.sgmlDecl+=i;continue;case w.SGML_DECL_QUOTED:i===this.q&&(this.state=w.SGML_DECL,this.q=""),this.sgmlDecl+=i;continue;case w.DOCTYPE:">"===i?(this.state=w.TEXT,S(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=i,"["===i?this.state=w.DOCTYPE_DTD:f(i)&&(this.state=w.DOCTYPE_QUOTED,this.q=i));continue;case w.DOCTYPE_QUOTED:this.doctype+=i,i===this.q&&(this.q="",this.state=w.DOCTYPE);continue;case w.DOCTYPE_DTD:this.doctype+=i,"]"===i?this.state=w.DOCTYPE:f(i)&&(this.state=w.DOCTYPE_DTD_QUOTED,this.q=i);continue;case w.DOCTYPE_DTD_QUOTED:this.doctype+=i,i===this.q&&(this.state=w.DOCTYPE_DTD,this.q="");continue;case w.COMMENT:"-"===i?this.state=w.COMMENT_ENDING:this.comment+=i;continue;case w.COMMENT_ENDING:"-"===i?(this.state=w.COMMENT_ENDED,this.comment=x(this.opt,this.comment),this.comment&&S(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+i,this.state=w.COMMENT);continue;case w.COMMENT_ENDED:">"!==i?(I(this,"Malformed comment"),this.comment+="--"+i,this.state=w.COMMENT):this.state=w.TEXT;continue;case w.CDATA:"]"===i?this.state=w.CDATA_ENDING:this.cdata+=i;continue;case w.CDATA_ENDING:"]"===i?this.state=w.CDATA_ENDING_2:(this.cdata+="]"+i,this.state=w.CDATA);continue;case w.CDATA_ENDING_2:">"===i?(this.cdata&&S(this,"oncdata",this.cdata),S(this,"onclosecdata"),this.cdata="",this.state=w.TEXT):"]"===i?this.cdata+="]":(this.cdata+="]]"+i,this.state=w.CDATA);continue;case w.PROC_INST:"?"===i?this.state=w.PROC_INST_ENDING:d(i)?this.state=w.PROC_INST_BODY:this.procInstName+=i;continue;case w.PROC_INST_BODY:if(!this.procInstBody&&d(i))continue;"?"===i?this.state=w.PROC_INST_ENDING:this.procInstBody+=i;continue;case w.PROC_INST_ENDING:">"===i?(S(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=w.TEXT):(this.procInstBody+="?"+i,this.state=w.PROC_INST_BODY);continue;case w.OPEN_TAG:y(l,i)?this.tagName+=i:(P(this),">"===i?N(this):"/"===i?this.state=w.OPEN_TAG_SLASH:(d(i)||I(this,"Invalid character in tag name"),this.state=w.ATTRIB));continue;case w.OPEN_TAG_SLASH:">"===i?(N(this,!0),k(this)):(I(this,"Forward-slash in opening tag not followed by >"),this.state=w.ATTRIB);continue;case w.ATTRIB:if(d(i))continue;">"===i?N(this):"/"===i?this.state=w.OPEN_TAG_SLASH:y(c,i)?(this.attribName=i,this.attribValue="",this.state=w.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case w.ATTRIB_NAME:"="===i?this.state=w.ATTRIB_VALUE:">"===i?(I(this,"Attribute without value"),this.attribValue=this.attribName,D(this),N(this)):d(i)?this.state=w.ATTRIB_NAME_SAW_WHITE:y(l,i)?this.attribName+=i:I(this,"Invalid attribute name");continue;case w.ATTRIB_NAME_SAW_WHITE:if("="===i)this.state=w.ATTRIB_VALUE;else{if(d(i))continue;I(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",S(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===i?N(this):y(c,i)?(this.attribName=i,this.state=w.ATTRIB_NAME):(I(this,"Invalid attribute name"),this.state=w.ATTRIB)}continue;case w.ATTRIB_VALUE:if(d(i))continue;f(i)?(this.q=i,this.state=w.ATTRIB_VALUE_QUOTED):(I(this,"Unquoted attribute value"),this.state=w.ATTRIB_VALUE_UNQUOTED,this.attribValue=i);continue;case w.ATTRIB_VALUE_QUOTED:if(i!==this.q){"&"===i?this.state=w.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=i;continue}D(this),this.q="",this.state=w.ATTRIB_VALUE_CLOSED;continue;case w.ATTRIB_VALUE_CLOSED:d(i)?this.state=w.ATTRIB:">"===i?N(this):"/"===i?this.state=w.OPEN_TAG_SLASH:y(c,i)?(I(this,"No whitespace between attributes"),this.attribName=i,this.attribValue="",this.state=w.ATTRIB_NAME):I(this,"Invalid attribute name");continue;case w.ATTRIB_VALUE_UNQUOTED:if(!m(i)){"&"===i?this.state=w.ATTRIB_VALUE_ENTITY_U:this.attribValue+=i;continue}D(this),">"===i?N(this):this.state=w.ATTRIB;continue;case w.CLOSE_TAG:if(this.tagName)">"===i?k(this):y(l,i)?this.tagName+=i:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=w.SCRIPT):(d(i)||I(this,"Invalid tagname in closing tag"),this.state=w.CLOSE_TAG_SAW_WHITE);else{if(d(i))continue;_(c,i)?this.script?(this.script+="</"+i,this.state=w.SCRIPT):I(this,"Invalid tagname in closing tag."):this.tagName=i}continue;case w.CLOSE_TAG_SAW_WHITE:if(d(i))continue;">"===i?k(this):I(this,"Invalid characters in closing tag");continue;case w.TEXT_ENTITY:case w.ATTRIB_VALUE_ENTITY_Q:case w.ATTRIB_VALUE_ENTITY_U:var a,u;switch(this.state){case w.TEXT_ENTITY:a=w.TEXT,u="textNode";break;case w.ATTRIB_VALUE_ENTITY_Q:a=w.ATTRIB_VALUE_QUOTED,u="attribValue";break;case w.ATTRIB_VALUE_ENTITY_U:a=w.ATTRIB_VALUE_UNQUOTED,u="attribValue"}";"===i?(this[u]+=R(this),this.entity="",this.state=a):y(this.entity.length?h:p,i)?this.entity+=i:(I(this,"Invalid character in entity name"),this[u]+="&"+this.entity+i,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(t){for(var n=Math.max(e.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=t[r[o]].length;if(a>n)switch(r[o]){case"textNode":A(t);break;case"cdata":S(t,"oncdata",t.cdata),t.cdata="";break;case"script":S(t,"onscript",t.script),t.script="";break;default:M(t,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var u=e.MAX_BUFFER_LENGTH-i;t.bufferCheckPosition=u+t.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;A(e=this),""!==e.cdata&&(S(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(S(e,"onscript",e.script),e.script="")}};try{t=n(12).Stream}catch(e){t=function(){}}var o=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function s(e,n){if(!(this instanceof s))return new s(e,n);t.apply(this),this._parser=new i(e,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(e){r.emit("error",e),r._parser.error=null},this._decoder=null,o.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t)return r.removeAllListeners(e),r._parser["on"+e]=t,t;r.on(e,t)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(t.prototype,{constructor:{value:s}}),s.prototype.write=function(e){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)){if(!this._decoder){var t=n(104).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}return this._parser.write(e.toString()),this.emit("data",e),!0},s.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},s.prototype.on=function(e,n){var r=this;return r._parser["on"+e]||-1===o.indexOf(e)||(r._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),r.emit.apply(r,t)}),t.prototype.on.call(r,e,n)};var a="http://www.w3.org/XML/1998/namespace",u={xml:a,xmlns:"http://www.w3.org/2000/xmlns/"},c=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function d(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function f(e){return'"'===e||"'"===e}function m(e){return">"===e||d(e)}function y(e,t){return e.test(t)}function _(e,t){return!y(e,t)}var g,v,b,w=0;for(var T in e.STATE={BEGIN:w++,BEGIN_WHITESPACE:w++,TEXT:w++,TEXT_ENTITY:w++,OPEN_WAKA:w++,SGML_DECL:w++,SGML_DECL_QUOTED:w++,DOCTYPE:w++,DOCTYPE_QUOTED:w++,DOCTYPE_DTD:w++,DOCTYPE_DTD_QUOTED:w++,COMMENT_STARTING:w++,COMMENT:w++,COMMENT_ENDING:w++,COMMENT_ENDED:w++,CDATA:w++,CDATA_ENDING:w++,CDATA_ENDING_2:w++,PROC_INST:w++,PROC_INST_BODY:w++,PROC_INST_ENDING:w++,OPEN_TAG:w++,OPEN_TAG_SLASH:w++,ATTRIB:w++,ATTRIB_NAME:w++,ATTRIB_NAME_SAW_WHITE:w++,ATTRIB_VALUE:w++,ATTRIB_VALUE_QUOTED:w++,ATTRIB_VALUE_CLOSED:w++,ATTRIB_VALUE_UNQUOTED:w++,ATTRIB_VALUE_ENTITY_Q:w++,ATTRIB_VALUE_ENTITY_U:w++,CLOSE_TAG:w++,CLOSE_TAG_SAW_WHITE:w++,SCRIPT:w++,SCRIPT_ENDING:w++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var n=e.ENTITIES[t],r="number"==typeof n?String.fromCharCode(n):n;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[T]]=T;function E(e,t,n){e[t]&&e[t](n)}function S(e,t,n){e.textNode&&A(e),E(e,t,n)}function A(e){e.textNode=x(e.opt,e.textNode),e.textNode&&E(e,"ontext",e.textNode),e.textNode=""}function x(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function M(e,t){return A(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,E(e,"onerror",t),e}function C(e){return e.sawRoot&&!e.closedRoot&&I(e,"Unclosed root tag"),e.state!==w.BEGIN&&e.state!==w.BEGIN_WHITESPACE&&e.state!==w.TEXT&&M(e,"Unexpected end"),A(e),e.c="",e.closed=!0,E(e,"onend"),i.call(e,e.strict,e.opt),e}function I(e,t){if("object"!=typeof e||!(e instanceof i))throw new Error("bad call to strictFail");e.strict&&M(e,t)}function P(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",n)}function O(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),r=n[0],i=n[1];return t&&"xmlns"===e&&(r="xmlns",i=""),{prefix:r,local:i}}function D(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=O(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==a)I(e,"xml: prefix must be bound to "+a+"\nActual: "+e.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==e.attribValue)I(e,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function N(e,t){if(e.opt.xmlns){var n=e.tag,r=O(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(I(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(t){S(e,"onopennamespace",{prefix:t,uri:n.ns[t]})}));for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],u=a[0],c=a[1],l=O(u,!0),p=l.prefix,h=l.local,d=""===p?"":n.ns[p]||"",f={name:u,value:c,prefix:p,local:h,uri:d};p&&"xmlns"!==p&&!d&&(I(e,"Unbound namespace prefix: "+JSON.stringify(p)),f.uri=p),e.tag.attributes[u]=f,S(e,"onattribute",f)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=w.TEXT:e.state=w.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function k(e){if(!e.tagName)return I(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=w.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=w.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){if(e.tags[t].name===r)break;I(e,"Unexpected close tag")}if(t<0)return I(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=w.TEXT);e.tagName=n;for(var i=e.tags.length;i-- >t;){var o=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&o.ns!==u.ns&&Object.keys(o.ns).forEach((function(t){var n=o.ns[t];S(e,"onclosenamespace",{prefix:t,uri:n})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=w.TEXT}function R(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(t=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(t=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(t)||i.toLowerCase()!==n?(I(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function L(e,t){"<"===t?(e.state=w.OPEN_WAKA,e.startTagPosition=e.position):d(t)||(I(e,"Non-whitespace before first tag."),e.textNode=t,e.state=w.TEXT)}function F(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}w=e.STATE,String.fromCodePoint||(g=String.fromCharCode,v=Math.floor,b=function(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||a<0||a>1114111||v(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,r.push(e,t)),(i+1===o||r.length>n)&&(s+=g.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:b,configurable:!0,writable:!0}):String.fromCodePoint=b)}(t)},function(e,t){e.exports=require("string_decoder")},function(e,t){(function(){"use strict";t.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},function(e,t){e.exports=require("timers")},function(e,t,n){e.exports=n(108)},function(e,t,n){"use strict";var r=n(1),i=n(56),o=n(109),s=n(63);function a(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=a(n(58));u.Axios=o,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=n(64),u.CancelToken=n(124),u.isCancel=n(57),u.all=function(e){return Promise.all(e)},u.spread=n(125),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(1),i=n(37),o=n(110),s=n(111),a=n(63);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(1);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(1),i=n(112),o=n(57),s=n(58);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(1),i=n(59),o=n(115),s=n(37),a=n(61),u=n(118),c=n(119),l=n(38);e.exports=function(e){return new Promise((function(t,n){var p=e.data,h=e.headers;r.isFormData(p)&&delete h["Content-Type"],(r.isBlob(p)||r.isFile(p))&&p.type&&delete h["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",m=unescape(encodeURIComponent(e.auth.password))||"";h.Authorization="Basic "+btoa(f+":"+m)}var y=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),s(y,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:r,config:e,request:d};i(t,n,o),d=null}},d.onabort=function(){d&&(n(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){n(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var _=(e.withCredentials||c(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;_&&(h[e.xsrfHeaderName]=_)}if("setRequestHeader"in d&&r.forEach(h,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete h[t]:d.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),n(e),d=null)})),p||(p=null),d.send(p)}))}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(1),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},function(e,t,n){"use strict";var r=n(1);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(1),i=n(59),o=n(61),s=n(37),a=n(9),u=n(16),c=n(62).http,l=n(62).https,p=n(18),h=n(42),d=n(123),f=n(38),m=n(60),y=/https:?/;e.exports=function(e){return new Promise((function(t,n){var _=function(e){t(e)},g=function(e){n(e)},v=e.data,b=e.headers;if(b["User-Agent"]||b["user-agent"]||(b["User-Agent"]="axios/"+d.version),v&&!r.isStream(v)){if(Buffer.isBuffer(v));else if(r.isArrayBuffer(v))v=Buffer.from(new Uint8Array(v));else{if(!r.isString(v))return g(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));v=Buffer.from(v,"utf-8")}b["Content-Length"]=v.length}var w=void 0;e.auth&&(w=(e.auth.username||"")+":"+(e.auth.password||""));var T=o(e.baseURL,e.url),E=p.parse(T),S=E.protocol||"http:";if(!w&&E.auth){var A=E.auth.split(":");w=(A[0]||"")+":"+(A[1]||"")}w&&delete b.Authorization;var x=y.test(S),M=x?e.httpsAgent:e.httpAgent,C={path:s(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:b,agent:M,agents:{http:e.httpAgent,https:e.httpsAgent},auth:w};e.socketPath?C.socketPath=e.socketPath:(C.hostname=E.hostname,C.port=E.port);var I,P=e.proxy;if(!P&&!1!==P){var O=S.slice(0,-1)+"_proxy",D=process.env[O]||process.env[O.toUpperCase()];if(D){var N=p.parse(D),k=process.env.no_proxy||process.env.NO_PROXY,R=!0;if(k)R=!k.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&E.hostname.substr(E.hostname.length-e.length)===e||E.hostname===e))}));if(R&&(P={host:N.hostname,port:N.port},N.auth)){var L=N.auth.split(":");P.auth={username:L[0],password:L[1]}}}}if(P&&(C.hostname=P.host,C.host=P.host,C.headers.host=E.hostname+(E.port?":"+E.port:""),C.port=P.port,C.path=S+"//"+E.hostname+(E.port?":"+E.port:"")+C.path,P.auth)){var F=Buffer.from(P.auth.username+":"+P.auth.password,"utf8").toString("base64");C.headers["Proxy-Authorization"]="Basic "+F}var U=x&&(!P||y.test(P.protocol));e.transport?I=e.transport:0===e.maxRedirects?I=U?u:a:(e.maxRedirects&&(C.maxRedirects=e.maxRedirects),I=U?l:c),e.maxBodyLength>-1&&(C.maxBodyLength=e.maxBodyLength);var B=I.request(C,(function(t){if(!B.aborted){var n=t,o=t.req||B;if(204!==t.statusCode&&"HEAD"!==o.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(h.createUnzip()),delete t.headers["content-encoding"]}var s={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:o};if("stream"===e.responseType)s.data=n,i(_,g,s);else{var a=[];n.on("data",(function(t){a.push(t),e.maxContentLength>-1&&Buffer.concat(a).length>e.maxContentLength&&(n.destroy(),g(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,o)))})),n.on("error",(function(t){B.aborted||g(m(t,e,null,o))})),n.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=r.stripBOM(t))),s.data=t,i(_,g,s)}))}}}));B.on("error",(function(t){B.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||g(m(t,e,null,B))})),e.timeout&&B.setTimeout(e.timeout,(function(){B.abort(),g(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",B))})),e.cancelToken&&e.cancelToken.promise.then((function(e){B.aborted||(B.abort(),g(e))})),r.isStream(v)?v.on("error",(function(t){g(m(t,e,null,B))})).pipe(B):B.end(v)}))}},function(e,t){e.exports=require("assert")},function(e,t,n){var r;try{r=n(4)("follow-redirects")}catch(e){r=function(){}}e.exports=r},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.20.0","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.10.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,t,n){"use strict";var r=n(64);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t){return e>>>t|e<<32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.sha256=void 0,t.sha256=function(e){return function(e){for(var t="",n=0;n<4*e.length;n++)t+="0123456789abcdef".charAt(e[n>>2]>>8*(3-n%4)+4&15)+"0123456789abcdef".charAt(e[n>>2]>>8*(3-n%4)&15);return t}(function(e,t){var n,o,s,a,u,c,l,p,h,d,f,m,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],_=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],g=Array(64);for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,h=0;h<e.length;h+=16){for(n=_[0],o=_[1],s=_[2],a=_[3],u=_[4],c=_[5],l=_[6],p=_[7],d=0;d<64;d++)g[d]=d<16?e[d+h]:r(r(r(i(g[d-2],17)^i(g[d-2],19)^g[d-2]>>>10,g[d-7]),i(g[d-15],7)^i(g[d-15],18)^g[d-15]>>>3),g[d-16]),f=r(r(r(r(p,i(u,6)^i(u,11)^i(u,25)),u&c^~u&l),y[d]),g[d]),m=r(i(n,2)^i(n,13)^i(n,22),n&o^n&s^o&s),p=l,l=c,c=u,u=r(a,f),a=s,s=o,o=n,n=r(f,m);_[0]=r(n,_[0]),_[1]=r(o,_[1]),_[2]=r(s,_[2]),_[3]=r(a,_[3]),_[4]=r(u,_[4]),_[5]=r(c,_[5]),_[6]=r(l,_[6]),_[7]=r(p,_[7])}return _}(function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(r>127&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(63&r|128))}return t}(e)),8*e.length))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Camera=void 0;var a=n(20),u=function(e){function t(t){var n=e.call(this,t)||this;return n.wsPort=7681,n}return i(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return"http://"+this.user+":"+this.password+"@"+this.ip+":"+this.port},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"headers",{get:function(){return this.useProxy?{proxy:this.url,Cookie:2===this.version?this.session:"WebSession="+this.session}:{Cookie:2===this.version?this.session:"WebSession="+this.session}},enumerable:!1,configurable:!0}),t.prototype.connect=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return s(this,(function(o){switch(o.label){case 0:return 2!==this.version?[3,4]:[4,this.getSessionParams()];case 1:return e=o.sent(),t=this.encodePassword(e),[4,this.request.post("/ISAPI/Security/sessionLogin?timeStamp="+Date.now(),a.XmlHandler.build({SessionLogin:{userName:this.user,password:t,sessionID:e.sessionId,isSessionIDValidLongTerm:!1,sessionIDVersion:2}}),{headers:this.headers})];case 2:return n=o.sent(),[4,a.XmlHandler.parser(n.data)];case 3:return r=o.sent(),i=r.SessionUserCheck||r.SessionLogin,this.session=i?i.sessionID:"",[3,6];case 4:return[4,this.request.get("/ISAPI/Security/userCheck?timeStamp="+Date.now())];case 5:o.sent(),o.label=6;case 6:return[2]}}))}))},t.prototype.direction=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(n){switch(n.label){case 0:return[4,this.request.put("/ISAPI/PTZCtrl/channels/1/continuous",a.XmlHandler.build({PTZData:{pan:e,tilt:t}}),{headers:this.headers})];case 1:return n.sent(),[2]}}))}))},t.prototype.zoom=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.request.put("ISAPI/PTZCtrl/channels/1/continuous",a.XmlHandler.build({PTZData:{zoom:e}}),{headers:this.headers})];case 1:return t.sent(),[2]}}))}))},t.prototype.iris=function(e,t){return o(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.request.put("/ISAPI/System/Video/inputs/channels/1/iris",a.XmlHandler.build({IrisData:{iris:t}}),{headers:this.headers})];case 1:return e.sent(),[2]}}))}))},t.prototype.focus=function(e){return o(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.request.put("/ISAPI/System/Video/inputs/channels/1/focus",a.XmlHandler.build({FocusData:{focus:e}}),{headers:this.headers})];case 1:return t.sent(),[2]}}))}))},t.prototype.light=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.request.put("/ISAPI/PTZCtrl/channels/1/auxcontrols/1",a.XmlHandler.build({PTZAux:{id:"1",type:"LIGHT",status:e?"on":"off"}}),{headers:this.headers})];case 1:return n=o.sent(),t=n.data,[3,3];case 2:return r=o.sent(),t=r.response.data,[3,3];case 3:return[4,a.XmlHandler.parser(t)];case 4:if("1"!==(i=o.sent()).ResponseStatus.statusCode)throw new Error(i.ResponseStatus.subStatusCode);return[2]}}))}))},t.prototype.wiper=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.request.put("/ISAPI/PTZCtrl/channels/1/auxcontrols/1",a.XmlHandler.build({PTZAux:{id:"1",type:"WIPER",status:e?"on":"off"}}),{headers:this.headers})];case 1:return n=o.sent(),t=n.data,[3,3];case 2:return r=o.sent(),t=r.response.data,[3,3];case 3:return[4,a.XmlHandler.parser(t)];case 4:if("1"!==(i=o.sent()).ResponseStatus.statusCode)throw new Error(i.ResponseStatus.subStatusCode);return[2]}}))}))},t}(n(55).Base);t.Camera=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuperRender=void 0;var r=["#version 300 es","layout(location = 0) in vec4 vertexPos;","layout(location = 1) in vec2 texturePos;","out vec2 textureCoord;","void main()","{","gl_Position = vertexPos;","textureCoord = texturePos;","}"].join("\n"),i=["#version 300 es","precision highp float;","in vec2 textureCoord;","out vec4 fragColor;","uniform sampler2D ySampler;","uniform sampler2D uSampler;","uniform sampler2D vSampler;","const mat4 YUV2RGB = mat4","(","1.1643828125, 0, 1.59602734375, -.87078515625,","1.1643828125, -.39176171875, -.81296875, .52959375,","1.1643828125, 2.017234375, 0, -1.081390625,","0, 0, 0, 1",");","void main(void) {","float y = texture(ySampler,  textureCoord).r;","float u = texture(uSampler,  textureCoord).r;","float v = texture(vSampler,  textureCoord).r;","fragColor = vec4(y, u, v, 1) * YUV2RGB;","}"].join("\n"),o=["#version 300 es","layout(location = 0) in vec4 vertexPosLine;","void main()","{","gl_Position = vertexPosLine;","}"].join("\n"),s=["#version 300 es","precision highp float;","uniform mediump float fRcom;","uniform mediump float fGcom;","uniform mediump float fBcom;","out vec4 fragColor;","void main()","{","fragColor = vec4(fRcom,fGcom,fBcom,1.0);","}"].join("\n"),a=function(){function e(e){this.contextGL=null,this.vertexPosBuffer=null,this.texturePosBuffer=null,this.vertexLineBuffer=null,this.yTextureRef=null,this.uTextureRef=null,this.vTextureRef=null,this.nWindowWidth=0,this.nWindowHeight=0,this.canvasElement=e;try{this.contextGL=e.getContext("webgl2",{preserveDrawingBuffer:!0}),this.YUVProgram=this.initProgram(r,i),this.LineProgram=this.initProgram(o,s),this.initBuffers(),this.initTextures()}catch(e){this.contextGL=null}this.contextGL&&"function"==typeof this.contextGL.getParameter||(this.contextGL=null)}return e.prototype.initProgram=function(e,t){var n=this.contextGL,r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,e),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)||console.log("Vertex shader failed to compile: "+n.getShaderInfoLog(r));var i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,t),n.compileShader(i),n.getShaderParameter(i,n.COMPILE_STATUS)||console.log("Fragment shader failed to compile: "+n.getShaderInfoLog(i));var o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,i),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)||console.log("Program failed to compile: "+n.getProgramInfoLog(o)),n.deleteShader(r),n.deleteShader(i),o},e.prototype.initBuffers=function(){var e=this.contextGL;if(e){var t=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,1,-1,1,1,-1,-1,-1]),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);var n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,new Float32Array([1,0,0,0,1,1,0,1]),e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null);var r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,16,e.DYNAMIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null),this.vertexPosBuffer=t,this.texturePosBuffer=n,this.vertexLineBuffer=r}},e.prototype.initTextures=function(){var e=this.contextGL;if(e){e.useProgram(this.YUVProgram);var t=this.initTexture();e.uniform1i(e.getUniformLocation(this.YUVProgram,"ySampler"),0),this.yTextureRef=t;var n=this.initTexture();e.uniform1i(e.getUniformLocation(this.YUVProgram,"uSampler"),1),this.uTextureRef=n;var r=this.initTexture();e.uniform1i(e.getUniformLocation(this.YUVProgram,"vSampler"),2),this.vTextureRef=r,e.useProgram(null)}},e.prototype.initTexture=function(){var e=this.contextGL,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.bindTexture(e.TEXTURE_2D,null),t},e.prototype.displayFrameData=function(e){var t=e.width,n=e.height,r=e.data;if(!(t<=0||n<=0)){var i=this.contextGL;if(i){var o=this.canvasElement,s=this.nWindowWidth=o.width,a=this.nWindowHeight=o.height;i.clearColor(.8,.8,1,1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.viewport(0,0,s,a),this.updateFrameData(t,n,new Uint8Array(r)),i.useProgram(this.YUVProgram),i.bindBuffer(i.ARRAY_BUFFER,this.vertexPosBuffer);var u=i.getAttribLocation(this.YUVProgram,"vertexPos");i.enableVertexAttribArray(u),i.vertexAttribPointer(u,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,null),i.bindBuffer(i.ARRAY_BUFFER,this.texturePosBuffer);var c=i.getAttribLocation(this.YUVProgram,"texturePos");i.enableVertexAttribArray(c),i.vertexAttribPointer(c,2,i.FLOAT,!1,0,0),i.bindBuffer(i.ARRAY_BUFFER,null),i.drawArrays(i.TRIANGLE_STRIP,0,4),i.disableVertexAttribArray(u),i.disableVertexAttribArray(c),i.useProgram(null)}}},e.prototype.updateFrameData=function(e,t,n){var r=this.contextGL;if(r){var i=e*t,o=n.subarray(0,i);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,this.yTextureRef),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,e,t,0,r.LUMINANCE,r.UNSIGNED_BYTE,o);var s=e/2*t/2,a=n.subarray(i,i+s);r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,this.uTextureRef),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,e/2,t/2,0,r.LUMINANCE,r.UNSIGNED_BYTE,a);var u=n.subarray(i+s,i+s+s);r.activeTexture(r.TEXTURE2),r.bindTexture(r.TEXTURE_2D,this.vTextureRef),r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,e/2,t/2,0,r.LUMINANCE,r.UNSIGNED_BYTE,u)}},e.prototype.setDisplayRect=function(e){var t,n=this.contextGL,r=this.nWindowWidth,i=this.nWindowHeight;if(e&&r>0&&i>0){var o=e.left/r,s=e.top/i,a=e.right/r,u=e.bottom/i;t=new Float32Array([a,s,o,s,a,u,o,u])}else t=new Float32Array([1,0,0,0,1,1,0,1]);var c=this.texturePosBuffer;n.bindBuffer(n.ARRAY_BUFFER,c),n.bufferSubData(n.ARRAY_BUFFER,0,t),n.bindBuffer(n.ARRAY_BUFFER,null)},e.prototype.destroy=function(){var e=this.contextGL;e&&(e.deleteProgram(this.YUVProgram),e.deleteProgram(this.LineProgram),e.deleteBuffer(this.vertexPosBuffer),e.deleteBuffer(this.texturePosBuffer),e.deleteBuffer(this.vertexLineBuffer),e.deleteTexture(this.yTextureRef),e.deleteTexture(this.uTextureRef),e.deleteTexture(this.vTextureRef),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT))},e}();t.SuperRender=a},function(e,t,n){"use strict";n.r(t),n.d(t,"registerSerializer",(function(){return u})),n.d(t,"Pool",(function(){return oe})),n.d(t,"spawn",(function(){return Ce})),n.d(t,"Thread",(function(){return ee})),n.d(t,"isWorkerRuntime",(function(){return T})),n.d(t,"BlobWorker",(function(){return Ie})),n.d(t,"Worker",(function(){return Pe})),n.d(t,"expose",(function(){return $e})),n.d(t,"DefaultSerializer",(function(){return o})),n.d(t,"Transfer",(function(){return fe}));var r={};n.r(r),n.d(r,"defaultPoolSize",(function(){return h})),n.d(r,"getWorkerImplementation",(function(){return y})),n.d(r,"isWorkerRuntime",(function(){return _}));const i={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})},o={deserialize(e){return(t=e)&&"object"==typeof t&&"__error_marker"in t&&"$$error"===t.__error_marker?i.deserialize(e):e;var t},serialize:e=>e instanceof Error?i.serialize(e):e};let s,a=o;function u(e){a=function(e,t){const n=e.deserialize.bind(e),r=e.serialize.bind(e);return{deserialize:e=>t.deserialize(e,n),serialize:e=>t.serialize(e,r)}}(a,e)}function c(e){return a.deserialize(e)}function l(e){return a.serialize(e)}function p(){return s||(s=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return(""+t[0]).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}return"/"}()),s}const h="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4,d=e=>/^(file|https?:)?\/\//i.test(e);function f(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}let m;function y(){return m||(m=function(){if("undefined"==typeof Worker)return class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}};class e extends Worker{constructor(e,t){"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!d(e)&&p().match(/^file:\/\//i)&&(e=new URL(e,p().replace(/\/[^\/]+$/,"/")),e=f(`importScripts(${JSON.stringify(e)});`)),"string"==typeof e&&d(e)&&(e=f(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}class t extends e{constructor(e,t){super(window.URL.createObjectURL(e),t)}static fromText(e,n){const r=new window.Blob([e],{type:"text/javascript"});return new t(r,n)}}return{blob:t,default:e}}()),m}function _(){const e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return!("undefined"==typeof self||!self.postMessage||e)}var g=n(65);const v="undefined"!=typeof process&&"browser"!==process.arch&&"pid"in process?g:r,b=v.defaultPoolSize,w=v.getWorkerImplementation,T=v.isWorkerRuntime;var E=n(4),S=n.n(E);const A=()=>"function"==typeof Symbol,x=e=>A()&&Boolean(Symbol[e]),M=e=>x(e)?Symbol[e]:"@@"+e;x("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const C=M("iterator"),I=M("observable"),P=M("species");function O(e,t){const n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function D(e){let t=e.constructor;return void 0!==t&&(t=t[P],null===t&&(t=void 0)),void 0!==t?t:H}function N(e){N.log?N.log(e):setTimeout(()=>{throw e},0)}function k(e){Promise.resolve().then(()=>{try{e()}catch(e){N(e)}})}function R(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=O(t,"unsubscribe");e&&e.call(t)}}catch(e){N(e)}}function L(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function F(e,t,n){e._state="running";const r=e._observer;try{const i=r?O(r,t):void 0;switch(t){case"next":i&&i.call(r,n);break;case"error":if(L(e),!i)throw n;i.call(r,n);break;case"complete":L(e),i&&i.call(r)}}catch(e){N(e)}"closed"===e._state?R(e):"running"===e._state&&(e._state="ready")}function U(e,t,n){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:n})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void k(()=>function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const n of t)if(F(e,n.type,n.value),"closed"===e._state)break}}(e))):void F(e,t,n)}class B{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const n=new j(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(L(this),R(this))}}class j{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){U(this._subscription,"next",e)}error(e){U(this._subscription,"error",e)}complete(){U(this._subscription,"complete")}}class H{constructor(e){if(!(this instanceof H))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:n}),new B(e,this._subscriber)}pipe(e,...t){let n=this;for(const r of[e,...t])n=r(n);return n}tap(e,t,n){const r="object"!=typeof e||null===e?{next:e,error:t,complete:n}:e;return new H(e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}}))}forEach(e){return new Promise((t,n)=>{if("function"!=typeof e)return void n(new TypeError(e+" is not a function"));function r(){i.unsubscribe(),t()}const i=this.subscribe({next(t){try{e(t,r)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(D(this))(t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(D(this))(t=>this.subscribe({next(n){try{if(!e(n))return}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const n=D(this),r=arguments.length>1;let i=!1,o=t;return new n(t=>this.subscribe({next(n){const s=!i;if(i=!0,!s||r)try{o=e(o,n)}catch(e){return t.error(e)}else o=n},error(e){t.error(e)},complete(){if(!i&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(o),t.complete()}}))}concat(...e){const t=D(this);return new t(n=>{let r,i=0;return function o(s){r=s.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){i===e.length?(r=void 0,n.complete()):o(t.from(e[i++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=D(this);return new t(n=>{const r=[],i=this.subscribe({next(i){let s;if(e)try{s=e(i)}catch(e){return n.error(e)}else s=i;const a=t.from(s).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){const e=r.indexOf(a);e>=0&&r.splice(e,1),o()}});r.push(a)},error(e){n.error(e)},complete(){o()}});function o(){i.closed&&0===r.length&&n.complete()}return()=>{r.forEach(e=>e.unsubscribe()),i.unsubscribe()}})}[I](){return this}static from(e){const t="function"==typeof this?this:H;if(null==e)throw new TypeError(e+" is not an object");const n=O(e,I);if(n){const r=n.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return function(e){return e instanceof H}(r)&&r.constructor===t?r:new t(e=>r.subscribe(e))}if(x("iterator")){const n=O(e,C);if(n)return new t(t=>{k(()=>{if(!t.closed){for(const r of n.call(e))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{k(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:H)(t=>{k(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})})}static get[P](){return this}}A()&&Object.defineProperty(H,Symbol("extensions"),{value:{symbol:I,hostReportError:N},configurable:!0});var V=H;var W=class extends V{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}};var z=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()};var q,Y=function(e){const t=new W;let n,r=0;return new V(i=>{n||(n=e.subscribe(t));const o=t.subscribe(i);return r++,()=>{r--,o.unsubscribe(),0===r&&(z(n),n=void 0)}})};function G(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),n=e=>({status:"rejected",reason:e}),r=Promise.resolve(e);try{return r.then(t,n)}catch(e){return Promise.reject(e)}}))}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(q||(q={}));const X=Symbol("thread.errors"),K=Symbol("thread.events"),J=Symbol("thread.terminate"),$=Symbol("thread.transferable"),Z=Symbol("thread.worker");function Q(e){throw Error(e)}const ee={errors:e=>e[X]||Q("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[K]||Q("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[J]()};var te=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};let ne=1;class re{constructor(e,t){this.eventSubject=new W,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const n="number"==typeof t?{size:t}:t||{},{size:r=b}=n;this.debug=S()("threads:pool:"+(n.name||String(ne++)).replace(/\W/g," ").trim().replace(/\s+/g,"-")),this.options=n,this.workers=function(e,t){return function(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,r),this.eventObservable=Y(V.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:q.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return te(this,void 0,void 0,(function*(){const n=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${n}...`),this.eventSubject.next({type:q.taskStart,taskID:t.id,workerID:n});try{const r=yield t.run(yield e.init);this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:q.taskCompleted,returnValue:r,taskID:t.id,workerID:n})}catch(e){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:q.taskFailed,taskID:t.id,error:e,workerID:n})}}))}run(e,t){return te(this,void 0,void 0,(function*(){const n=(()=>te(this,void 0,void 0,(function*(){var r;yield(r=0,new Promise(e=>setTimeout(e,r)));try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}})))();e.runningTasks.push(n)}))}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:q.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,n)=>{const r=this.events().subscribe(i=>{i.type===q.taskCompleted&&i.taskID===e?(r.unsubscribe(),t(i.returnValue)):i.type===q.taskFailed&&i.taskID===e?(r.unsubscribe(),n(i.error)):i.type===q.terminated&&(r.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return te(this,void 0,void 0,(function*(){const t=()=>{return e=this.workers,t=e=>e.runningTasks,e.reduce((e,n)=>[...e,...t(n)],[]);var e,t},n=[],r=this.eventObservable.subscribe(e=>{e.type===q.taskFailed&&n.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield G(t()),n):(yield new Promise((e,t)=>{const n=this.eventObservable.subscribe({next(t){t.type===q.taskQueueDrained&&(n.unsubscribe(),e())},error:t})}),yield G(t()),r.unsubscribe(),n)}))}completed(e=!1){return te(this,void 0,void 0,(function*(){const t=this.settled(e),n=new Promise((e,n)=>{const r=this.eventObservable.subscribe({next(i){i.type===q.taskQueueDrained?(r.unsubscribe(),e(t)):i.type===q.taskFailed&&(r.unsubscribe(),n(i.error))},error:n})}),r=yield Promise.race([t,n]);if(r.length>0)throw r[0]}))}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const n=this.nextTaskID++,r=this.taskCompletion(n);r.catch(e=>{this.debug(`Task #${n} errored:`,e)});const i={id:n,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(i)&&(this.taskQueue=this.taskQueue.filter(e=>e!==i),this.eventSubject.next({type:q.taskCanceled,taskID:i.id}))},then:r.then.bind(r)};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${i.id}...`),this.taskQueue.push(i),this.eventSubject.next({type:q.taskQueued,taskID:i.id}),this.scheduleWork(),i}terminate(e){return te(this,void 0,void 0,(function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:q.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>te(this,void 0,void 0,(function*(){return ee.terminate(yield e.init)}))))}))}}function ie(e,t){return new re(e,t)}re.EventType=q,ie.EventType=q;const oe=ie,se=()=>{};var ae;!function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(ae||(ae={}));const ue=()=>{},ce=e=>e,le=e=>Promise.resolve().then(e);function pe(e){throw e}class he extends V{constructor(e){super(t=>{const n=this,r=Object.assign(Object.assign({},t),{complete(){t.complete(),n.onCompletion()},error(e){t.error(e),n.onError(e)},next(e){t.next(e),n.onNext(e)}});try{return this.initHasRun=!0,e(r)}catch(e){r.error(e)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(e){this.firstValueSet||(this.firstValue=e,this.firstValueSet=!0)}onError(e){this.state="rejected",this.rejection=e;for(const t of this.rejectionCallbacks)le(()=>t(e))}onCompletion(){this.state="fulfilled";for(const e of this.fulfillmentCallbacks)le(()=>e(this.firstValue))}then(e,t){const n=e||ce,r=t||pe;let i=!1;return new Promise((e,t)=>{const o=n=>{if(!i){i=!0;try{e(r(n))}catch(e){t(e)}}};return this.initHasRun||this.subscribe({error:o}),"fulfilled"===this.state?e(n(this.firstValue)):"rejected"===this.state?(i=!0,e(r(this.rejection))):(this.fulfillmentCallbacks.push(t=>{try{e(n(t))}catch(e){o(e)}}),void this.rejectionCallbacks.push(o))})}catch(e){return this.then(void 0,e)}finally(e){const t=e||ue;return this.then(e=>(t(),e),()=>t())}static from(e){return function(e){return e&&"function"==typeof e.then}(e)?new he(t=>{e.then(e=>{t.next(e),t.complete()},e=>{t.error(e)})}):super.from(e)}}function de(e){return e&&"object"==typeof e&&e[$]}function fe(e,t){if(!t){if(!(n=e)||"object"!=typeof n)throw Error();t=[e]}var n;return{[$]:!0,send:e,transferables:t}}var me,ye;!function(e){e.cancel="cancel",e.run="run"}(me||(me={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(ye||(ye={}));const _e=S()("threads:master:messages");let ge=1;function ve(e,t){return new V(n=>{let r;const i=o=>{var s;if(_e("Message from worker:",o.data),o.data&&o.data.uid===t)if((s=o.data)&&s.type===ye.running)r=o.data.resultType;else if((e=>e&&e.type===ye.result)(o.data))"promise"===r?(void 0!==o.data.payload&&n.next(c(o.data.payload)),n.complete(),e.removeEventListener("message",i)):(o.data.payload&&n.next(c(o.data.payload)),o.data.complete&&(n.complete(),e.removeEventListener("message",i)));else if((e=>e&&e.type===ye.error)(o.data)){const t=c(o.data.error);n.error(t),e.removeEventListener("message",i)}};return e.addEventListener("message",i),()=>{if("observable"===r||!r){const n={type:me.cancel,uid:t};e.postMessage(n)}e.removeEventListener("message",i)}})}function be(e,t){return(...n)=>{const r=ge++,{args:i,transferables:o}=function(e){if(0===e.length)return{args:[],transferables:[]};const t=[],n=[];for(const r of e)de(r)?(t.push(l(r.send)),n.push(...r.transferables)):t.push(l(r));return{args:t,transferables:0===n.length?n:(r=n,Array.from(new Set(r)))};var r}(n),s={type:me.run,uid:r,method:t,args:i};_e("Sending command to run function to worker:",s);try{e.postMessage(s,o)}catch(e){return he.from(Promise.reject(e))}return he.from(Y(ve(e,r)))}}var we=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};const Te=S()("threads:master:messages"),Ee=S()("threads:master:spawn"),Se=S()("threads:master:thread-utils"),Ae="undefined"!=typeof process&&process.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function xe(e){const[t,n]=function(){let e,t=!1,n=se;return[new Promise(r=>{t?r(e):n=r}),r=>{t=!0,e=r,n()}]}();return{terminate:()=>we(this,void 0,void 0,(function*(){Se("Terminating worker"),yield e.terminate(),n()})),termination:t}}function Me(e,t,n,r){const i=n.filter(e=>e.type===ae.internalError).map(e=>e.error);return Object.assign(e,{[X]:i,[K]:n,[J]:r,[Z]:t})}function Ce(e,t){return we(this,void 0,void 0,(function*(){Ee("Initializing new thread");const n=(yield function(e,t,n){return we(this,void 0,void 0,(function*(){let r;const i=new Promise((e,i)=>{r=setTimeout(()=>i(Error(n)),t)}),o=yield Promise.race([e,i]);return clearTimeout(r),o}))}(function(e){return new Promise((t,n)=>{const r=i=>{var o;Te("Message from worker before finishing initialization:",i.data),(o=i.data)&&"init"===o.type?(e.removeEventListener("message",r),t(i.data)):(e=>e&&"uncaughtError"===e.type)(i.data)&&(e.removeEventListener("message",r),n(c(i.data.error)))};e.addEventListener("message",r)})}(e),t&&t.timeout?t.timeout:Ae,`Timeout: Did not receive an init message from worker after ${Ae}ms. Make sure the worker calls expose().`)).exposed,{termination:r,terminate:i}=xe(e),o=function(e,t){return new V(n=>{const r=e=>{const t={type:ae.message,data:e.data};n.next(t)},i=e=>{Se("Unhandled promise rejection event in thread:",e);const t={type:ae.internalError,error:Error(e.reason)};n.next(t)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",i),t.then(()=>{const t={type:ae.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",i),n.next(t),n.complete()})})}(e,r);if("function"===n.type){return Me(be(e),e,o,i)}if("module"===n.type){return Me(function(e,t){const n={};for(const r of t)n[r]=be(e,r);return n}(e,n.methods),e,o,i)}{const e=n.type;throw Error("Worker init message states unexpected type of expose(): "+e)}}))}const Ie=w().blob,Pe=w().default;var Oe=n(67),De=n.n(Oe);var Ne={isWorkerRuntime:function(){const e="undefined"!=typeof self&&"undefined"!=typeof Window&&self instanceof Window;return!("undefined"==typeof self||!self.postMessage||e)},postMessageToMaster:function(e,t){self.postMessage(e,t)},subscribeToMasterMessages:function(e){const t=t=>{e(t.data)};return self.addEventListener("message",t),()=>{self.removeEventListener("message",t)}}};"undefined"==typeof self&&(global.self=global);let ke=!1;const Re=new Set;var Le={isWorkerRuntime:function(){return!("undefined"==typeof self||!self.postMessage)},postMessageToMaster:function(e){self.postMessage(e)},subscribeToMasterMessages:function(e){ke||(self.addEventListener("message",e=>{Re.forEach(t=>t(e.data))}),ke=!0),Re.add(e);return()=>Re.delete(e)}},Fe=n(8);function Ue(e){if(!e)throw Error("Invariant violation: MessagePort to parent is not available.");return e}var Be={isWorkerRuntime:function(){return!Object(Fe.a)().isMainThread},postMessageToMaster:function(e,t){Ue(Object(Fe.a)().parentPort).postMessage(e,t)},subscribeToMasterMessages:function(e){const t=Object(Fe.a)().parentPort;if(!t)throw Error("Invariant violation: MessagePort to parent is not available.");const n=t=>{e(t)};return Ue(t).on("message",n),()=>{Ue(t).off("message",n)}},testImplementation:function(){Object(Fe.a)()}};var je="undefined"!=typeof process&&"browser"!==process.arch&&"pid"in process?function(){try{return Be.testImplementation(),Be}catch(e){return Le}}():Ne,He=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};je.isWorkerRuntime;let Ve=!1;const We=new Map,ze=e=>e&&e.type===me.run,qe=e=>De()(e)||function(e){return e&&"object"==typeof e&&"function"==typeof e.subscribe}(e);function Ye(e){return de(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function Ge(e,t){const{payload:n,transferables:r}=Ye(t),i={type:ye.error,uid:e,error:l(n)};je.postMessageToMaster(i,r)}function Xe(e,t,n){const{payload:r,transferables:i}=Ye(n),o={type:ye.result,uid:e,complete:!!t||void 0,payload:r};je.postMessageToMaster(o,i)}function Ke(e){try{const t={type:ye.uncaughtError,error:l(e)};je.postMessageToMaster(t)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",t,"\nOriginal error:",e)}}function Je(e,t,n){return He(this,void 0,void 0,(function*(){let r;try{r=t(...n)}catch(t){return Ge(e,t)}const i=qe(r)?"observable":"promise";if(function(e,t){const n={type:ye.running,uid:e,resultType:t};je.postMessageToMaster(n)}(e,i),qe(r)){const t=r.subscribe(t=>Xe(e,!1,l(t)),t=>{Ge(e,l(t)),We.delete(e)},()=>{Xe(e,!0),We.delete(e)});We.set(e,t)}else try{const t=yield r;Xe(e,!0,l(t))}catch(t){Ge(e,l(t))}}))}function $e(e){if(!je.isWorkerRuntime())throw Error("expose() called in the master thread.");if(Ve)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(Ve=!0,"function"==typeof e)je.subscribeToMasterMessages(t=>{ze(t)&&!t.method&&Je(t.uid,e,t.args.map(c))}),function(){const e={type:ye.init,exposed:{type:"function"}};je.postMessageToMaster(e)}();else{if("object"!=typeof e||!e)throw Error("Invalid argument passed to expose(). Expected a function or an object, got: "+e);je.subscribeToMasterMessages(t=>{ze(t)&&t.method&&Je(t.uid,e[t.method],t.args.map(c))});!function(e){const t={type:ye.init,exposed:{type:"module",methods:e}};je.postMessageToMaster(t)}(Object.keys(e).filter(t=>"function"==typeof e[t]))}je.subscribeToMasterMessages(e=>{if((t=e)&&t.type===me.cancel){const t=e.uid,n=We.get(t);n&&(n.unsubscribe(),We.delete(t))}var t})}"undefined"!=typeof self&&"function"==typeof self.addEventListener&&je.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>Ke(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>Ke(t),250)})),"undefined"!=typeof process&&"function"==typeof process.on&&je.isWorkerRuntime()&&(process.on("uncaughtException",e=>{setTimeout(()=>Ke(e),250)}),process.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>Ke(e),250)}))}]).default}));